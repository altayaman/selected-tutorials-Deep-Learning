<!DOCTYPE html>
<!-- saved from url=(0047)https://rare-technologies.com/doc2vec-tutorial/ -->
<html class="js no-touchevents cssanimations csspointerevents csstransforms supports csstransforms3d preserve3d csstransitions" xmlns="http://www.w3.org/1999/xhtml" prefix="" lang="en-US" style=""><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 
<meta name="google-site-verification" content="o8i3vkj6tNz0Ebjl-zv-lp0emgIrYqIo95LWwEVYjw4">
<meta name="description" content="The latest gensim release of 0.10.3 has a new class named Doc2Vec. All credit for this class, which is an implementation of Quoc Le &amp; Tomáš Mikolov: Distributed Representations of Sentences and Documents, as well as for this tutorial, goes to the illustrious Tim Emerick.">
<meta name="keywords" content="machine learning, data mining, python, data science, consulting, consultant, radim rehurek, gensim, programming, deep learning, gensim, word2vec">
 

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Doc2vec tutorial | RaRe Technologies</title>
<link rel="pingback" href="https://rare-technologies.com/xmlrpc.php"><link rel="shortcut icon" href="https://rare-technologies.com/favicons/favicon-96x96.ico"><link rel="apple-touch-icon-precomposed" href="https://rare-technologies.com/wp-content/uploads/2016/02/apple-icon-152x152.png"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="//rare-technologies.com/wp-content/uploads/2016/02/ms-icon-144x144.png"><link rel="alternate" type="application/rss+xml" title="RaRe Technologies » Feed" href="https://rare-technologies.com/feed/">
<link rel="alternate" type="application/rss+xml" title="RaRe Technologies » Comments Feed" href="https://rare-technologies.com/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="RaRe Technologies » Doc2vec tutorial Comments Feed" href="https://rare-technologies.com/doc2vec-tutorial/feed/">
<link rel="stylesheet" id="wp-quicklatex-format-css" href="./Doc2vec tutorial _ RaRe Technologies_files/quicklatex-format.css" type="text/css" media="all">
<link rel="stylesheet" id="x-stack-css" href="./Doc2vec tutorial _ RaRe Technologies_files/integrity-light.css" type="text/css" media="all">
<link rel="stylesheet" id="x-child-css" href="./Doc2vec tutorial _ RaRe Technologies_files/style.css" type="text/css" media="all">
<link rel="stylesheet" id="x-google-fonts-css" href="./Doc2vec tutorial _ RaRe Technologies_files/css" type="text/css" media="all">
<link rel="stylesheet" id="dashicons-css" href="./Doc2vec tutorial _ RaRe Technologies_files/dashicons.min.css" type="text/css" media="all">
<link rel="stylesheet" id="wp-add-custom-css-css" href="./Doc2vec tutorial _ RaRe Technologies_files/saved_resource" type="text/css" media="all">
<script src="./Doc2vec tutorial _ RaRe Technologies_files/1761346240851963" async=""></script><script async="" src="./Doc2vec tutorial _ RaRe Technologies_files/fbevents.js"></script><script async="" src="./Doc2vec tutorial _ RaRe Technologies_files/analytics.js"></script><script>
      if (document.location.protocol != "https:") {
          document.location = document.URL.replace(/^http:/i, "https:");
      }
      </script>
<script type="text/javascript" src="./Doc2vec tutorial _ RaRe Technologies_files/jquery.js"></script>
<script type="text/javascript" src="./Doc2vec tutorial _ RaRe Technologies_files/jquery-migrate.min.js"></script>
<script type="text/javascript" src="./Doc2vec tutorial _ RaRe Technologies_files/lightbox.js"></script>
<script type="text/javascript" src="./Doc2vec tutorial _ RaRe Technologies_files/jquery.themepunch.tools.min.js"></script>
<script type="text/javascript" src="./Doc2vec tutorial _ RaRe Technologies_files/jquery.themepunch.essential.min.js"></script>
<script type="text/javascript" src="./Doc2vec tutorial _ RaRe Technologies_files/x-head.min.js"></script>
<script type="text/javascript" src="./Doc2vec tutorial _ RaRe Technologies_files/cs-head.min.js"></script>
<script type="text/javascript" src="./Doc2vec tutorial _ RaRe Technologies_files/wp-quicklatex-frontend.js"></script>
<link rel="https://api.w.org/" href="https://rare-technologies.com/wp-json/">
<link rel="canonical" href="https://rare-technologies.com/doc2vec-tutorial/">
<link rel="shortlink" href="https://rare-technologies.com/?p=2093">
<link rel="alternate" type="application/json+oembed" href="https://rare-technologies.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Frare-technologies.com%2Fdoc2vec-tutorial%2F">
<link rel="alternate" type="text/xml+oembed" href="https://rare-technologies.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Frare-technologies.com%2Fdoc2vec-tutorial%2F&amp;format=xml">
<script type="text/javascript">
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:237414,hjsv:5};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'//static.hotjar.com/c/hotjar-','.js?sv=');
			</script><script async="" src="./Doc2vec tutorial _ RaRe Technologies_files/hotjar-237414.js"></script><!--[if lte IE 9]><link rel="stylesheet" type="text/css" href="//rare-technologies.com/wp-content/plugins/js_composer/assets/css/vc_lte_ie9.min.css" media="screen"><![endif]--><link rel="stylesheet" type="text/css" href="./Doc2vec tutorial _ RaRe Technologies_files/shCore.css"><link rel="stylesheet" type="text/css" href="./Doc2vec tutorial _ RaRe Technologies_files/shThemeDefault.css"><style type="text/css" id="syntaxhighlighteranchor"></style>
<noscript>&lt;style type="text/css"&gt;.wpb_animate_when_almost_visible{opacity:1;}&lt;/style&gt;</noscript><style id="x-generated-css" type="text/css">a,h1 a:hover,h2 a:hover,h3 a:hover,h4 a:hover,h5 a:hover,h6 a:hover,.x-topbar .p-info a:hover,.x-breadcrumb-wrap a:hover,.widget ul li a:hover,.widget ol li a:hover,.widget.widget_text ul li a,.widget.widget_text ol li a,.widget_nav_menu .current-menu-item>a,.x-widgetbar .widget ul li a:hover,.x-accordion-heading .x-accordion-toggle:hover,.x-comment-author a:hover,.x-comment-time:hover,.x-recent-posts a:hover .h-recent-posts{color:#ff2a13;}a:hover,.widget.widget_text ul li a:hover,.widget.widget_text ol li a:hover,.x-twitter-widget ul li a:hover{color:#c61300;}.rev_slider_wrapper,a.x-img-thumbnail:hover,.x-slider-container.below,.page-template-template-blank-3-php .x-slider-container.above,.page-template-template-blank-6-php .x-slider-container.above{border-color:#ff2a13;}.entry-thumb:before,.x-pagination span.current,.flex-direction-nav a,.flex-control-nav a:hover,.flex-control-nav a.flex-active,.mejs-time-current,.x-dropcap,.x-skill-bar .bar,.x-pricing-column.featured h2,.h-comments-title small,.x-entry-share .x-share:hover,.x-highlight,.x-recent-posts .x-recent-posts-img:after{background-color:#ff2a13;}.x-nav-tabs>.active>a,.x-nav-tabs>.active>a:hover{box-shadow:inset 0 3px 0 0 #ff2a13;}.x-main{width:69.536945%;}.x-sidebar{width:25.536945%;}.x-topbar .p-info,.x-topbar .p-info a,.x-navbar .desktop .x-nav>li>a,.x-navbar .desktop .sub-menu a,.x-navbar .mobile .x-nav li>a,.x-breadcrumb-wrap a,.x-breadcrumbs .delimiter{color:#272727;}.x-navbar .desktop .x-nav>li>a:hover,.x-navbar .desktop .x-nav>.x-active>a,.x-navbar .desktop .x-nav>.current-menu-item>a,.x-navbar .desktop .sub-menu a:hover,.x-navbar .desktop .sub-menu .x-active>a,.x-navbar .desktop .sub-menu .current-menu-item>a,.x-navbar .desktop .x-nav .x-megamenu>.sub-menu>li>a,.x-navbar .mobile .x-nav li>a:hover,.x-navbar .mobile .x-nav .x-active>a,.x-navbar .mobile .x-nav .current-menu-item>a{color:#b7b7b7;}.x-navbar .desktop .x-nav>li>a:hover,.x-navbar .desktop .x-nav>.x-active>a,.x-navbar .desktop .x-nav>.current-menu-item>a{box-shadow:inset 0 4px 0 0 #ff2a13;}.x-navbar .desktop .x-nav>li>a{height:90px;padding-top:37px;}.x-navbar-fixed-top-active .x-navbar-wrap{margin-bottom:1px;}.x-navbar .desktop .x-nav>li ul{top:75px;;}.x-comment-author,.x-comment-time,.comment-form-author label,.comment-form-email label,.comment-form-url label,.comment-form-rating label,.comment-form-comment label,.widget_calendar #wp-calendar caption,.widget.widget_rss li .rsswidget{font-family:PT Sans Caption;font-weight:700;}.p-landmark-sub,.p-meta,input,button,select,textarea{font-family:PT Sans;}.widget ul li a,.widget ol li a,.x-comment-time{color:#848484;}.widget_text ol li a,.widget_text ul li a{color:#ff2a13;}.widget_text ol li a:hover,.widget_text ul li a:hover{color:#c61300;}.comment-form-author label,.comment-form-email label,.comment-form-url label,.comment-form-rating label,.comment-form-comment label,.widget_calendar #wp-calendar th,.p-landmark-sub strong,.widget_tag_cloud .tagcloud a:hover,.widget_tag_cloud .tagcloud a:active,.entry-footer a:hover,.entry-footer a:active,.x-breadcrumbs .current,.x-comment-author,.x-comment-author a{color:#272727;}.widget_calendar #wp-calendar th{border-color:#272727;}.h-feature-headline span i{background-color:#272727;}@media (max-width:979px){.x-navbar-fixed-top-active .x-navbar-wrap{margin-bottom:0;}}body{font-size:15px;font-style:normal;font-weight:400;color:#848484;background:#f3f3f3 url(//rare-technologies.com/wp-content/uploads/2016/04/bg-integrity-1.png) center top repeat;}a:focus,select:focus,input[type="file"]:focus,input[type="radio"]:focus,input[type="submit"]:focus,input[type="checkbox"]:focus{outline:thin dotted #333;outline:5px auto #ff2a13;outline-offset:-1px;}h1,h2,h3,h4,h5,h6,.h1,.h2,.h3,.h4,.h5,.h6{font-family:"PT Sans Caption",sans-serif;font-style:normal;font-weight:700;}h1,.h1{letter-spacing:0em;}h2,.h2{letter-spacing:0em;}h3,.h3{letter-spacing:0em;}h4,.h4{letter-spacing:0em;}h5,.h5{letter-spacing:0em;}h6,.h6{letter-spacing:0em;}.w-h{font-weight:700!important;}.x-container.width{width:88%;}.x-container.max{max-width:1200px;}.x-main.full{float:none;display:block;width:auto;}@media (max-width:979px){.x-main.full,.x-main.left,.x-main.right,.x-sidebar.left,.x-sidebar.right{float:none;display:block;width:auto!important;}}.entry-header,.entry-content{font-size:15px;}body,input,button,select,textarea{font-family:"PT Sans",sans-serif;}h1,h2,h3,h4,h5,h6,.h1,.h2,.h3,.h4,.h5,.h6,h1 a,h2 a,h3 a,h4 a,h5 a,h6 a,.h1 a,.h2 a,.h3 a,.h4 a,.h5 a,.h6 a,blockquote{color:#272727;}.cfc-h-tx{color:#272727!important;}.cfc-h-bd{border-color:#272727!important;}.cfc-h-bg{background-color:#272727!important;}.cfc-b-tx{color:#848484!important;}.cfc-b-bd{border-color:#848484!important;}.cfc-b-bg{background-color:#848484!important;}body.x-navbar-fixed-top-active .x-navbar-wrap{height:90px;}.x-navbar-inner{min-height:90px;}.x-brand{margin-top:22px;font-family:"Lato",sans-serif;font-size:38px;font-style:normal;font-weight:300;letter-spacing:-0.062em;text-transform:uppercase;color:#272727;}.x-brand:hover,.x-brand:focus{color:#272727;}.x-brand img{width:29px;}.x-navbar .x-nav-wrap .x-nav>li>a{font-family:"Lato",sans-serif;font-style:normal;font-weight:700;letter-spacing:0.182em;text-transform:uppercase;}.x-navbar .desktop .x-nav>li>a{font-size:11px;}.x-navbar .desktop .x-nav>li>a:not(.x-btn-navbar-woocommerce){padding-left:16px;padding-right:16px;}.x-navbar .desktop .x-nav>li>a>span{margin-right:-0.182em;}.x-btn-navbar{margin-top:19px;}.x-btn-navbar,.x-btn-navbar.collapsed{font-size:24px;}@media (max-width:979px){body.x-navbar-fixed-top-active .x-navbar-wrap{height:auto;}.x-widgetbar{left:0;right:0;}}.x-btn,.button,[type="submit"]{color:#fff;border-color:#ac1100;background-color:#ff2a13;text-shadow:0 0.075em 0.075em rgba(0,0,0,0.5);border-radius:0.25em;}.x-btn:hover,.button:hover,[type="submit"]:hover{color:#fff;border-color:#600900;background-color:#ef2201;text-shadow:0 0.075em 0.075em rgba(0,0,0,0.5);}.x-btn.x-btn-real,.x-btn.x-btn-real:hover{margin-bottom:0.25em;text-shadow:0 0.075em 0.075em rgba(0,0,0,0.65);}.x-btn.x-btn-real{box-shadow:0 0.25em 0 0 #a71000,0 4px 9px rgba(0,0,0,0.75);}.x-btn.x-btn-real:hover{box-shadow:0 0.25em 0 0 #a71000,0 4px 9px rgba(0,0,0,0.75);}.x-btn.x-btn-flat,.x-btn.x-btn-flat:hover{margin-bottom:0;text-shadow:0 0.075em 0.075em rgba(0,0,0,0.65);box-shadow:none;}.x-btn.x-btn-transparent,.x-btn.x-btn-transparent:hover{margin-bottom:0;border-width:3px;text-shadow:none;text-transform:uppercase;background-color:transparent;box-shadow:none;}.h-widget:before,.x-flickr-widget .h-widget:before,.x-dribbble-widget .h-widget:before{position:relative;font-weight:normal;font-style:normal;line-height:1;text-decoration:inherit;-webkit-font-smoothing:antialiased;speak:none;}.h-widget:before{padding-right:0.4em;font-family:"fontawesome";}.x-flickr-widget .h-widget:before,.x-dribbble-widget .h-widget:before{top:0.025em;padding-right:0.35em;font-family:"foundationsocial";font-size:0.785em;}.widget_archive .h-widget:before{content:"\f040";top:-0.045em;font-size:0.925em;}.widget_calendar .h-widget:before{content:"\f073";top:-0.0825em;font-size:0.85em;}.widget_categories .h-widget:before,.widget_product_categories .h-widget:before{content:"\f02e";font-size:0.95em;}.widget_nav_menu .h-widget:before,.widget_layered_nav .h-widget:before{content:"\f0c9";}.widget_meta .h-widget:before{content:"\f0fe";top:-0.065em;font-size:0.895em;}.widget_pages .h-widget:before{content:"\f0f6";top:-0.065em;font-size:0.85em;}.widget_recent_reviews .h-widget:before,.widget_recent_comments .h-widget:before{content:"\f086";top:-0.065em;font-size:0.895em;}.widget_recent_entries .h-widget:before{content:"\f02d";top:-0.045em;font-size:0.875em;}.widget_rss .h-widget:before{content:"\f09e";padding-right:0.2em;}.widget_search .h-widget:before,.widget_product_search .h-widget:before{content:"\f0a4";top:-0.075em;font-size:0.85em;}.widget_tag_cloud .h-widget:before,.widget_product_tag_cloud .h-widget:before{content:"\f02c";font-size:0.925em;}.widget_text .h-widget:before{content:"\f054";padding-right:0.4em;font-size:0.925em;}.x-dribbble-widget .h-widget:before{content:"\f009";}.x-flickr-widget .h-widget:before{content:"\f010";padding-right:0.35em;}.widget_best_sellers .h-widget:before{content:"\f091";top:-0.0975em;font-size:0.815em;}.widget_shopping_cart .h-widget:before{content:"\f07a";top:-0.05em;font-size:0.945em;}.widget_products .h-widget:before{content:"\f0f2";top:-0.05em;font-size:0.945em;}.widget_featured_products .h-widget:before{content:"\f0a3";}.widget_layered_nav_filters .h-widget:before{content:"\f046";top:1px;}.widget_onsale .h-widget:before{content:"\f02b";font-size:0.925em;}.widget_price_filter .h-widget:before{content:"\f0d6";font-size:1.025em;}.widget_random_products .h-widget:before{content:"\f074";font-size:0.925em;}.widget_recently_viewed_products .h-widget:before{content:"\f06e";}.widget_recent_products .h-widget:before{content:"\f08d";top:-0.035em;font-size:0.9em;}.widget_top_rated_products .h-widget:before{content:"\f075";top:-0.145em;font-size:0.885em;}.x-subscribe-form{position:relative;}.x-subscribe-form h1{font-size:1.75em;margin:0 0 0.5em;}.x-subscribe-form label{margin:0 0 0.375em;font-size:0.85em;line-height:1;}.x-subscribe-form label>span{position:relative;}.x-subscribe-form label .required{position:absolute;top:-0.1em;font-size:1.5em;}.x-subscribe-form input[type="text"],.x-subscribe-form input[type="email"]{width:100%;margin-bottom:1.25em;font-size:inherit;}.x-subscribe-form input[type="submit"]{display:inline-block;width:100%;margin-top:0.25em;font-size:inherit;}.x-subscribe-form input[type="submit"]:focus{outline:0;}.x-subscribe-form .x-subscribe-form-alert-wrap{margin-top:1.25em;font-size:inherit;}body,p{font-family:"PT Sans",sans-serif;}h1,h2,h3,h4,h5,h6{font-family:"PT Sans caption",sans-serif;}.h-custom-headline{letter-spacing:0;}._form input{height:38px;border-radius:0;border:1px solid #c2c6c9;}._form input.wpcf7-not-valid,._form textarea.wpcf7-not-valid{border:1px solid #ff4814;}._form textarea{height:80px;resize:vertical;}._form p{margin-bottom:20px;}.contact-form input,.contact-form select,.contact-form textarea{font-size:16px;}.contact-form textarea{height:160px;}._form .wpcf7-submit{background-color:#ffffff;text-shadow:none;box-shadow:none;color:#ff4814;border-radius:40px;border:0;font-weight:bold;font-size:18px;padding:0 50px;}._form .wpcf7-submit:hover{background-color:#ffffff;}.contact-form._form .wpcf7-submit,.contact-form._form .wpcf7-submit:hover{background-color:#ff4814;color:#ffffff;margin:20px auto;display:inherit;}._form .wpcf7-submit:focus{outline:0;}._form .wpcf7-response-output{display:none!important}._form .wpcf7-not-valid-tip{position:absolute;width:100%;left:10px;top:-15px;font-size:9px;color:#ff4814;}.mc4wp-success{text-align:center;}.t-quote{display:inline-block;width:100%;padding-bottom:50px;}.t-quote span{font-size:300px;color:rgba(255,255,255,0.5);position:absolute;top:-150px;display:inline-block;left:calc(50% - 60px);}img.client{max-width:80px;border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;margin:0;display:block;width:100%;margin:0 auto 10px;}.chevron-circle{list-style:none;margin:0;}.chevron-circle>li{position:relative;padding-left:30px;color:#000000;}.chevron-circle li ul{list-style:none;margin:0;}.chevron-circle li ul li{position:relative;padding-left:20px;}blockquote{border:none;border-left:3px solid #ddd;font-style:italic;font-size:18px;margin:0 0 20px 0;padding:10px 20px;}blockquote h2{margin-top:0;font-size:32px;}.blog p,.single-post p{font-size:18px;}.brain-trust .h-custom-headline p{margin:0;}.brain-trust>p{display:none;}.brain-trust:hover>p{display:block;text-align:center;position:absolute;top:0;left:0;right:0;background-color:rgba(0,0,0,.5);padding:20px;color:#fff;height:196px;border-radius:20px;width:263px;margin:0 auto;}.wp-caption>.wp-caption-text,.wp-caption>.wp-caption-text:last-child,.gallery-item>.wp-caption-text,.gallery-item>.wp-caption-text:last-child{font-size:16px;text-transform:none;}.h-comments-title small{position:relative;right:auto;float:left;margin:0 0.5em 0 0;display:inline;background:none;border:none;box-shadow:none;font-size:20px;height:28px;line-height:28px;color:#272727;text-shadow:none;}.h-comments-title{margin:0 0 0.5em;font-size:20px;line-height:1.05;text-transform:uppercase;}article.comment{background:none;box-shadow:none;border:none;}.x-comment-time{font-weight:700;font-family:PT Sans;font-size:13px;}.x-comment-author{font-size:14px;text-transform:uppercase;}article.comment{padding-top:0;margin:0px 0px 20px 60px;border-bottom:1px solid #d3d3d3;border-radius:0;}.comment p{font-size:14px;line-height:1.4;margin:0;}.pingback p{font-size:14px;}.comment-reply-link{font-size:16px;}#commentform{padding:15px 0;}#reply-title{font-size:20px;}.comment-form-author label,.comment-form-email label,.comment-form-url label,.comment-form-rating label,.comment-form-comment label{font-size:20px;}.comment-form-comment textarea,.comment-form-author input,.comment-form-email input,.comment-form-url input{padding:8px;border-radius:0;}.form-submit [type="submit"]{border-radius:2.25em;border:none;padding:0.5em 4em 0.5em;font-weight:bold;font-size:16px;}.form-submit [type="submit"]:disabled{background:#999;}.comment-respond input:disabled,.comment-respond textarea:disabled{background:#f3f3f3;}.x-comment-header{margin-bottom:1em;}.job-wrapper{position:fixed;width:100%;height:100%;overflow-y:scroll;top:0;left:0;right:0;bottom:0;display:none;z-index:999999999999999999;}#job-popup{background:#fff;padding:100px;margin:100px auto;}.x-accordion-group{border:none;box-shadow:none;}.x-accordion-heading .x-accordion-toggle,.x-accordion-heading .x-accordion-toggle.collapsed{background-color:#eff3f4;color:#ff4814;font-size:24px;font-weight:900;}.x-accordion-heading .x-accordion-toggle.collapsed:before,.x-accordion-heading .x-accordion-toggle.collapsed:hover:before,.x-accordion-heading .x-accordion-toggle:before,.x-accordion-heading .x-accordion-toggle:hover:before{color:#ff4814;float:right;bottom:0;}.x-accordion-inner .x-btn{border-radius:25px;background-color:#fff;border-width:1px;border-color:#ff2a13;color:#ff2a13;padding:10px 30px;text-shadow:none;font-weight:bold;}.x-accordion-inner.no-border .x-btn{border:none;}.x-btn.x-btn-round{font-weight:bold;text-shadow:none;background-color:#F40;border-radius:25px;padding:10px 30px;}.orange-dots ul,.x-accordion-inner ul{list-style:none;}.orange-dots ul li:before,.x-accordion-inner ul li:before{content:"•";color:#ff4814;left:0;position:absolute;}.orange-dots ul li:before{content:"•";color:#ff4814;}.x-accordion-inner ul li{line-height:2.7;color:#000;}#job-popup .wpcf7 textarea{height:50px;}#job-popup .wpcf7 .subtext{font-style:italic;font-size:14px;}#job-popup .wpcf7 .your-message textarea{height:auto;}#job-popup .h-custom-headline{text-transform:uppercase;}#job-popup .close{position:absolute;right:30px;top:30px;transform:scaleX(1.5);font-size:20px;}.sprite-passion{width:49px;height:50px;background-position:4px 0;}.sprite-collaborate{width:55px;height:41px;background-position:-44px -5px;}.sprite-account{width:33px;height:47px;background-position:-154px 0;}.sprite-experience{width:51px;height:46px;background-position:-100px 0px;}.sprite-pragmatic{width:51px;height:46px;background-position:-186px -2px;}.sprite-bag{width:39px;height:50px;background-position:4px 6px;margin-right:17px!important;}.sprite-planet{width:50px;height:50px;background-position:-35px 6px;}.sprite-hat{width:44px;height:50px;background-position:-84px 6px;}.sprite-calendar{width:34px;height:50px;background-position:-127px 6px;margin-right:27px!important;}.sprite-clock{width:38px;height:50px;background-position:-161px 6px;margin-right:18px!important;}#brain-bg{position:absolute;bottom:-111px;right:200px;opacity:0.3;width:300px;z-index:-1;}.x-nav-tabs>li,.x-nav-tabs{border:none;box-shadow:none;background:none;}.x-tab-content{border-radius:4px;}.x-nav-tabs>li>a,.x-nav-tabs>.active>a,.x-nav-tabs>.active>a:hover{border:none;box-shadow:none;background:none;font-size:20px;font-weight:bold;color:#000;padding-bottom:40px;outline:none;}.x-nav-tabs>.active>a,.x-nav-tabs>.active>a:hover{color:#fff;text-shadow:1px 2px 2px rgba(0,0,0,0.75);outline:none;}.x-navbar .desktop .x-nav>.current-menu-item>a{color:#272727;}.x-nav-tabs>li>a:hover{background:none;}.x-nav-tabs>.active>a:after{content:"";display:block;width:0;height:0;border-style:solid;border-width:0 25px 25px 25px;border-color:transparent transparent #fff transparent;position:absolute;bottom:-5px;}.x-nav-tabs.three-up>li{position:relative;}#tab-1 li{padding-bottom:25px;}.bottom-bg{position:absolute;right:0;bottom:20px;}.x-sidebar .h-widget:before{content:"";display:block;}.x-sidebar .h-widget:after,.x-sidebar h5:after{content:"";display:block;background-color:#ff4814;height:3px;width:30px;opacity:1;margin-top:15px;}.x-sidebar{color:#000;}.x-sidebar select,.x-sidebar input{margin-bottom:0;border:none;font-size:16px;border-radius:0;}.x-sidebar .x-container.width,.x-sidebar .x-column{width:100%;}.x-sidebar .x_child_post_author img{border-radius:20px;}.x-sidebar ._form .wpcf7-submit{color:#fff;background-color:#ff4814;}.x-sidebar .x-btn.x-btn-round{font-weight:bold;text-shadow:none;background-color:#ff4814;border-radius:25px;padding:7px 30px;border:none;font-size:18px;margin-top:12px;display:block;width:172px;}.widget.widget_recent_entries li{padding:15px 0;font-size:81.25%;color:#000;box-shadow:none;border-bottom:1px solid rgba(0,0,0,0.3);}.widget ul li:hover,.widget ol li:hover{background-color:transparent;}.widget ul li a,.widget ol li a{color:#000;font-weight:700!important;}.widget ul,.widget ol{border:none;box-shadow:none;}.widget.widget_recent_entries li:first-child{padding-top:0;}.x-navbar .desktop .x-nav>.current-menu-parent>a{box-shadow:inset 0 4px 0 0 #ff2a13;}.x-navbar .desktop .sub-menu .current-menu-item>a{color:#272727;background-color:transparent;}.x-navbar .desktop .sub-menu .current-menu-item>a:hover{color:#b7b7b7;background-color:rgba(0,0,0,0.0175);}.x-colophon .right{text-align:right;}.x-colophon.top{text-align:center;background-color:#6b6b6b;font-size:18px;border:none;padding:65px 0;}.x-colophon.top ._form p{margin-bottom:5px;}.x-colophon.top .widget,.x-colophon.top h4,.x-colophon.top h5{text-shadow:none;color:#fff;margin:0;}.x-colophon.top h4{font-family:'PT Sans';font-weight:100;font-size:36px;line-height:36px;}.x-colophon.top h5{font-family:'PT Sans';font-weight:100;font-size:24px;margin-bottom:40px;}.x-colophon.top .x-column{margin-right:0;}.x-colophon.top .mc4wp-form-fields .x-column.x-1-6{width:16.8%;}.x-colophon.top ._form input:not(.wpcf7-email){border-top-left-radius:40px;border-bottom-left-radius:40px;border-right:1px solid #fff;}.x-colophon.top ._form input.wpcf7-submit{border-radius:40px;padding:0 45px;border-top-left-radius:0;border-bottom-left-radius:0;float:left;width:100%;background:#fff;color:#ff4814;}.x-colophon.top ._form input{border:none;background-color:rgba(255,255,255,0.3);padding:0 1.65em;color:#fff;font-size:16px;}.x-colophon.top ._form input::-webkit-input-placeholder{color:#fff;}.x-colophon.top ._form input:-moz-placeholder{color:#fff;}.x-navbar .desktop .x-nav>.current-menu-parent>a{box-shadow:inset 0 4px 0 0 #ff2a13;}.x-colophon.bottom{padding:80px 0;text-align:left;}.x-colophon.bottom .x-nav li{width:50%;margin:0px;float:left;}.x-colophon.bottom .x-nav li a,.x-colophon.bottom .x-social-global a{color:#000;margin-right:20px;letter-spacing:0;font-weight:700;font-size:14px;line-height:28px;font-family:Lato;}.x-colophon.bottom .x-social-global a{color:#aaa;font-size:24px;margin-right:15px;}.x-colophon.bottom .x-nav li a:hover,.x-colophon.bottom .x-social-global a:hover,.footer-content-block a:hover{color:#888;}.x-colophon.bottom .x-nav{margin:0;display:inline-block;}.footer-content-block,.footer-content-block a{font-weight:700;font-size:14px;line-height:32px;font-family:Lato;color:#000;}table{color:#000;font-size:18px;max-width:100%;overflow:hidden;display:block;overflow-x:scroll;}table caption{padding:20px 0;font-size:24px;text-align:left;color:#000;}table thead th{padding:20px;}table thead th:first-letter{text-transform:uppercase;}table td{border:1px solid #ddd;padding:20px;}table tbody tr:nth-child(2n){background:#f8f9fd;}table thead,table thead tr{background:#12418f;color:#fff;}li.pingback{position:relative;}.members{margin:0 auto;border-radius:20px;}.blockquote{border:none;border-left:none;margin:0;padding:25px 15%;margin:25px 0;color:#888;font-style:italic;font-size:22px;}.blockquote p{color:#888;font-style:italic;font-size:22px;margin:0;}.blockquote:before,.blockquote:after{display:block;content:"";width:40%;height:1px;background:#888;margin:0 auto;position:relative;top:-25px;}.blockquote:after{top:25px;}.js .x-column{position:relative;}#incubator-graduates .students{background-image:url(https://rare-technologies.com/wp-content/themes/x-child/assets/img/students-sprite.png);border-radius:20px;width:263px;height:195px;}#incubator-graduates .members-2{background-position:0 -195px;}#incubator-graduates .members-3{background-position:0 -390px;}#incubator-graduates .members-4{background-position:0 -585px;}#incubator-graduates .members-5{background-position:0 -793px;}#incubator-graduates .members-6{background-position:0 -1000px;}#incubator-graduates .members-7{background-position:0 -1196px;}#incubator-graduates .members-8{background-position:0 -1391px;}#incubator-graduates .members-9{background-position:0 -1586px;}#incubator-graduates .members-10{background-position:0 -1781px;}.home-incubator .incubator{background-image:url(https://rare-technologies.com/wp-content/themes/x-child/assets/img/incubator-students.png);width:70px;height:70px;border-radius:35px;}.home-incubator .incubator.student-1{background-position:0 0;}.home-incubator .incubator.student-2{background-position:0 -70px;}.home-incubator .incubator.student-3{background-position:0 -140px;}.home-incubator .incubator.student-4{background-position:0 -210px;}.home-incubator .incubator.student-5{background-position:0 -280px;}.home-incubator .incubator.student-6{background-position:0 -350px;}.home-incubator .incubator.student-7{background-position:0 -420px;}.home-incubator .incubator.student-8{background-position:0 -490px;}.home-incubator .incubator.student-9{background-position:0 -560px;}.home-incubator .incubator.student-10{background-position:0 -630px;}.x-container.width.home-incubator{width:100%;}a.anchor:before{display:inline;width:20px;height:20px;left:-1.2em;top:0.2em;position:absolute;line-height:1;font-family:dashicons;text-decoration:inherit;font-weight:400;font-style:normal;vertical-align:top;text-align:left;-webkit-transition:color .1s ease-in 0;transition:color .1s ease-in 0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#888;content:"\f103";font-size:smaller;text-decoration:none;vertical-align:middle;}.anchor.dashicons,.anchor.dashicons-before:before{font-size:inherit;display:inline;opacity:0;position:absolute;transition:all 1s;}h1,h2,h3{position:relative;line-height:1!important;}h1:hover .anchor,h2:hover .anchor,h3:hover .anchor,h1:focus .anchor,h2:focus .anchor,h3:focus .anchor{display:inline!important;opacity:1!important;}h1.h-custom-headline,h2.h-custom-headline h3.h-custom-headline{text-align:center;margin:30px 0;}.x-navbar{transition:all 0.5s;}.x-navbar.hide{top:-200px;display:block;}.x-navbar.top{top:0;}.admin-bar .x-navbar.top{top:32px;}@media screen and (max-width: 1220px){.x-column.brain-trust.x-1-4{width:46%;}}@media screen and (max-width: 979px){.x-nav-tabs>.active>a:after{content:none;}}@media screen and (min-width: 768px) {#job-popup .wpcf7{padding:30px 50px;}}@media screen and (max-width: 768px) {#job-popup .h-custom-headline{text-transform:uppercase;font-size:26px;padding:20px 0;}#job-popup{padding:30px;}#brain-bg{right:0px;opacity:0.1;}.mobile-border-bottom{padding-bottom:50px;border-bottom:2px solid #C3C3C3;}.x-colophon.top ._form input{border:none!important;border-radius:0!important;width:100%;}.x-colophon.bottom .x-nav li{width:100%;margin:5px 0;float:left;font-size:12px;}.x-colophon.bottom .x-nav{margin:10px 0;}.x-column.brain-trust.x-1-4{width:100%;}.anchor.dashicons,.anchor.dashicons-before:before{opacity:0.2;}}.h-custom-headline{text-align:center!important;}#admission_process{color:#ffffff;}#what_students_are_saying{margin-bottom:40px;}#why_enrol{color:#ffffff;}#current_training_modules{color:#ffffff;margin-bottom:40px;}#who_should_apply{margin-bottom:40px;}#the_projects{margin-bottom:40px;}li{font-size:18px;}</style><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-63459834-1', 'auto');
  ga('send', 'pageview');
</script>
<script>
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '1761346240851963'); // Insert your pixel ID here.
fbq('track', 'PageView');
</script>
<noscript>&lt;img height="1" width="1" style="display:none" src="//www.facebook.com/tr?id=1761346240851963&amp;ev=PageView&amp;noscript=1"/&gt;</noscript>
<script async="" src="./Doc2vec tutorial _ RaRe Technologies_files/modules-fa2b48a238bb646d8cc1b2e82176a64f.js"></script><style type="text/css">iframe#_hjRemoteVarsFrame {display: none !important; width: 1px !important; height: 1px !important; opacity: 0 !important; pointer-events: none !important;}</style><style type="text/css">.esgbox-margin{margin-right:0px;}</style></head>
<body class="single single-post postid-2093 single-format-standard x-integrity x-integrity-light x-navbar-fixed-top-active x-full-width-layout-active x-content-sidebar-active wpb-js-composer js-comp-ver-5.0.1 vc_responsive x-v4_5_2 x-child-theme-active cornerstone-v1_3_3">
<div id="top" class="site">
<header class="masthead masthead-inline" role="banner">
<div class="x-navbar-wrap">
<div class="x-navbar">
<div class="x-navbar-inner">
<div class="x-container max width">
<a href="https://rare-technologies.com/" class="x-brand img" title="Machine Learning Consulting">
<img src="./Doc2vec tutorial _ RaRe Technologies_files/rare_image_only.png" alt="Machine Learning Consulting"> RaRe Technologies</a>
<a href="https://rare-technologies.com/doc2vec-tutorial/#" class="x-btn-navbar collapsed" data-toggle="collapse" data-target=".x-nav-wrap.mobile">
<i class="x-icon-bars" data-x-icon=""></i>
<span class="visually-hidden">Navigation</span>
</a>
<nav class="x-nav-wrap desktop" role="navigation">
<ul id="menu-primary" class="x-nav"><li id="menu-item-8581" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8581"><a href="https://rare-technologies.com/services/"><span>Services</span></a></li>
<li id="menu-item-8580" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-8580"><a href="https://rare-technologies.com/corporate-training/"><span>Corporate Training</span></a>
<ul class="sub-menu">
<li id="menu-item-8582" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8582"><a href="https://rare-technologies.com/corporate-training/"><span>Overview</span></a></li>
<li id="menu-item-8577" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8577"><a href="https://rare-technologies.com/python-best-practices/"><span>Python Best Practices</span></a></li>
<li id="menu-item-8576" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8576"><a href="https://rare-technologies.com/practical-machine-learning/"><span>Practical Machine Learning</span></a></li>
<li id="menu-item-8578" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8578"><a href="https://rare-technologies.com/topic-modelling-training/"><span>Topic Modelling</span></a></li>
<li id="menu-item-9333" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-9333"><a href="https://rare-technologies.com/tensorflow_training/"><span>Tensorflow</span></a></li>
</ul>
</li>
<li id="menu-item-8569" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-8569 x-active"><a href="https://rare-technologies.com/incubator"><span>For Students</span></a>
<ul class="sub-menu">
<li id="menu-item-8592" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8592"><a href="https://rare-technologies.com/incubator/"><span>Incubator</span></a></li>
<li id="menu-item-8570" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8570"><a href="https://rare-technologies.com/competitions/"><span>Competitions</span></a></li>
</ul>
</li>
<li id="menu-item-8571" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-has-children menu-item-8571"><a href="https://rare-technologies.com/#braintrust"><span>Company</span></a>
<ul class="sub-menu">
<li id="menu-item-8584" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8584"><a href="https://rare-technologies.com/careers/"><span>Careers</span></a></li>
<li id="menu-item-8607" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8607"><a href="https://rare-technologies.com/our-team/"><span>Our Team</span></a></li>
</ul>
</li>
<li id="menu-item-8575" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-8575"><a href="https://rare-technologies.com/blog/"><span>Blog</span></a></li>
<li id="menu-item-8579" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8579"><a href="https://rare-technologies.com/contact/"><span>Contact</span></a></li>
<li class="menu-item x-menu-item x-menu-item-search"><a href="https://rare-technologies.com/doc2vec-tutorial/#" class="x-btn-navbar-search"><span><i class="x-icon-search" data-x-icon="" aria-hidden="true"></i><span class="x-hidden-desktop"> Search</span></span></a></li></ul></nav>
<div class="x-nav-wrap mobile collapse">
<ul id="menu-primary-1" class="x-nav"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8581"><a href="https://rare-technologies.com/services/"><span>Services</span></a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-8580"><a href="https://rare-technologies.com/corporate-training/"><span>Corporate Training</span><div class="x-sub-toggle" data-toggle="collapse" data-target=".sub-menu.sm-0"><span><i class="x-icon-angle-double-down" data-x-icon=""></i></span></div></a>
<ul class="sub-menu sm-0 collapse">
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8582"><a href="https://rare-technologies.com/corporate-training/"><span>Overview</span></a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8577"><a href="https://rare-technologies.com/python-best-practices/"><span>Python Best Practices</span></a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8576"><a href="https://rare-technologies.com/practical-machine-learning/"><span>Practical Machine Learning</span></a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8578"><a href="https://rare-technologies.com/topic-modelling-training/"><span>Topic Modelling</span></a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-9333"><a href="https://rare-technologies.com/tensorflow_training/"><span>Tensorflow</span></a></li>
</ul>
</li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-8569"><a href="https://rare-technologies.com/incubator"><span>For Students</span><div class="x-sub-toggle" data-toggle="collapse" data-target=".sub-menu.sm-1"><span><i class="x-icon-angle-double-down" data-x-icon=""></i></span></div></a>
<ul class="sub-menu sm-1 collapse">
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8592"><a href="https://rare-technologies.com/incubator/"><span>Incubator</span></a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8570"><a href="https://rare-technologies.com/competitions/"><span>Competitions</span></a></li>
</ul>
</li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-has-children menu-item-8571"><a href="https://rare-technologies.com/#braintrust"><span>Company</span><div class="x-sub-toggle" data-toggle="collapse" data-target=".sub-menu.sm-2"><span><i class="x-icon-angle-double-down" data-x-icon=""></i></span></div></a>
<ul class="sub-menu sm-2 collapse">
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8584"><a href="https://rare-technologies.com/careers/"><span>Careers</span></a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8607"><a href="https://rare-technologies.com/our-team/"><span>Our Team</span></a></li>
</ul>
</li>
<li class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-8575"><a href="https://rare-technologies.com/blog/"><span>Blog</span></a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8579"><a href="https://rare-technologies.com/contact/"><span>Contact</span></a></li>
<li class="menu-item x-menu-item x-menu-item-search"><a href="https://rare-technologies.com/doc2vec-tutorial/#" class="x-btn-navbar-search"><span><i class="x-icon-search" data-x-icon="" aria-hidden="true"></i><span class="x-hidden-desktop"> Search</span></span></a></li></ul></div>
</div>
</div>
</div>
</div>
</header>
<div class="x-container max width offset">
<div class="x-main left" role="main">
<article id="post-2093" class="post-2093 post type-post status-publish format-standard has-post-thumbnail hentry category-gensim category-programming tag-deep-learning tag-gensim tag-word2vec">
<div class="entry-wrap">
<header class="entry-header">
<h1 class="entry-title" id="doc2vec_tutorial"><a class="anchor dashicons" href="https://rare-technologies.com/doc2vec-tutorial/#doc2vec_tutorial"></a>Doc2vec tutorial</h1>
<p class="p-meta"><span><a href="https://rare-technologies.com/author/radim/"><i class="x-icon-pencil" data-x-icon=""></i> Radim Řehůřek</a></span><span><time class="entry-date" datetime="2014-12-15T15:59:21+00:00"><i class="x-icon-calendar" data-x-icon=""></i> 2014-12-15</time></span><span><a href="https://rare-technologies.com/category/gensim/" title="View all posts in: “gensim”"><i class="x-icon-bookmark" data-x-icon=""></i> gensim</a>, <a href="https://rare-technologies.com/category/programming/" title="View all posts in: “programming”"><i class="x-icon-bookmark" data-x-icon=""></i> programming</a></span><span><a href="https://rare-technologies.com/doc2vec-tutorial/#comments" title="Leave a comment on: “Doc2vec tutorial”" class="meta-comments"><i class="x-icon-comments" data-x-icon=""></i> 88 Comments</a></span></p></header>
<div class="entry-content content">
<p>The latest <a href="https://github.com/piskvorky/gensim/">gensim release</a> of 0.10.3 has a new class named <a href="http://radimrehurek.com/gensim/models/doc2vec.html">Doc2Vec</a>. All credit for this class, which is an implementation of <a href="https://arxiv.org/abs/1405.4053">Quoc Le &amp; Tomáš Mikolov: “Distributed Representations of Sentences and Documents”</a>, as well as for this tutorial, goes to the illustrious <a href="https://github.com/temerick">Tim Emerick</a>.</p>
<p>Doc2vec (aka paragraph2vec, aka sentence embeddings) modifies the word2vec algorithm to <strong>unsupervised learning of continuous representations for larger blocks of text</strong>, such as sentences, paragraphs or entire documents.</p>
<p><span id="more-2093"></span></p>
<p><strong>IMPORTANT NOTE: the doc2vec functionality received a major facelift in gensim 0.12.0. The API is now cleaner, training faster, there are more tuning parameters exposed etc. While the basic ideas explained below still apply, see <a href="https://github.com/piskvorky/gensim/blob/develop/docs/notebooks/doc2vec-IMDB.ipynb">this IPython notebook</a> for a more up-to-date tutorial on using doc2vec.</strong></p>
<p>Continuing in Tim’s own words:</p>
<blockquote>
<h2 id="input"><a class="anchor dashicons" href="https://rare-technologies.com/doc2vec-tutorial/#input"></a>Input</h2>
<p>Since the Doc2Vec class extends gensim’s <a href="http://radimrehurek.com/gensim/models/word2vec.html">original Word2Vec class</a>, many of the usage patterns are similar. You can easily adjust the dimension of the representation, the size of the sliding window, the number of workers, or almost any other parameter that you can change with the Word2Vec model.</p>
<p>The one exception to this rule are the parameters relating to the training method used by the model. In the word2vec architecture, the two algorithm names are <strong>“continuous bag of words”</strong> (cbow) and <strong>“skip-gram”</strong> (sg); in the doc2vec architecture, the corresponding algorithms are <strong>“distributed memory”</strong> (dm) and <strong>“distributed bag of words”</strong> (dbow). Since the distributed memory model performed noticeably better in the paper, that algorithm is the default when running Doc2Vec. You can still force the dbow model if you wish, by using the <code style="font-style: normal;">dm=0</code> flag in constructor.</p>
<p>The input to Doc2Vec is an iterator of <a href="http://radimrehurek.com/gensim/models/doc2vec.html#gensim.models.doc2vec.LabeledSentence">LabeledSentence objects</a>. <strong>Each such object represents a single sentence, and consists of two simple lists: a list of words and a list of labels</strong>:</p>
<div><div id="highlighter_684905" class="syntaxhighlighter  python"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">sentence </code><code class="python keyword">=</code> <code class="python plain">LabeledSentence(words</code><code class="python keyword">=</code><code class="python plain">[u</code><code class="python string">'some'</code><code class="python plain">, u</code><code class="python string">'words'</code><code class="python plain">, u</code><code class="python string">'here'</code><code class="python plain">], labels</code><code class="python keyword">=</code><code class="python plain">[u</code><code class="python string">'SENT_1'</code><code class="python plain">])</code></div></div></td></tr></tbody></table></div></div>
<p>The algorithm then runs through the sentences iterator twice: once to build the vocab, and once to train the model on the input data, <strong>learning a vector representation for each word and for each label</strong> in the dataset.</p>
<p>Although this architecture permits more than one label per sentence (and I myself have used it this way), I suspect the most popular use case would be to have a single label per sentence which is the unique identifier for the sentence. One could implement this kind of use case for a file with one sentence per line by using the following class as training data:</p>
<div><div id="highlighter_612875" class="syntaxhighlighter  python"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">class</code> <code class="python plain">LabeledLineSentence(</code><code class="python functions">object</code><code class="python plain">):</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">def</code> <code class="python plain">__init__(</code><code class="python color1">self</code><code class="python plain">, filename):</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.filename </code><code class="python keyword">=</code> <code class="python plain">filename</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">def</code> <code class="python plain">__iter__(</code><code class="python color1">self</code><code class="python plain">):</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code> <code class="python plain">uid, line </code><code class="python keyword">in</code> <code class="python functions">enumerate</code><code class="python plain">(</code><code class="python functions">open</code><code class="python plain">(filename)):</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python plain">LabeledSentence(words</code><code class="python keyword">=</code><code class="python plain">line.split(), labels</code><code class="python keyword">=</code><code class="python plain">[</code><code class="python string">'SENT_%s'</code> <code class="python keyword">%</code> <code class="python plain">uid])</code></div></div></td></tr></tbody></table></div></div>
<p>A more robust version of this LabeledLineSentence class above is also <a href="http://radimrehurek.com/gensim/models/doc2vec.html#gensim.models.doc2vec.LabeledLineSentence">included in the doc2vec module</a>, so you can use that. Read the <a href="http://radimrehurek.com/gensim/models/doc2vec.html">doc2vec API docs</a> for all constructor parameters.</p>
<h2 id="training"><a class="anchor dashicons" href="https://rare-technologies.com/doc2vec-tutorial/#training"></a>Training</h2>
<p>Doc2Vec learns representations for words and labels simultaneously. If you wish to only learn representations for words, you can use the flag <code style="font-style: normal;">train_lbls=False</code> in your Doc2Vec class. Similarly, if you only wish to learn representations for labels and leave the word representations fixed, the model also has the flag <code style="font-style: normal;">train_words=False</code>.</p>
<p>One caveat of the way this algorithm runs is that, since the learning rate decrease over the course of iterating over the data, labels which are only seen in a single LabeledSentence during training will only be trained with a fixed learning rate. This frequently produces less than optimal results. I have obtained better results by iterating over the data several times and either</p>
<ol>
<li>randomizing the order of input sentences, or</li>
<li>manually controlling the learning rate over the course of several iterations.</li>
</ol>
<p>For example, if one wanted to manually control the learning rate over the course of 10 epochs, one could use the following:</p>
<div><div id="highlighter_160598" class="syntaxhighlighter  python"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">model </code><code class="python keyword">=</code> <code class="python plain">Doc2Vec(alpha</code><code class="python keyword">=</code><code class="python value">0.025</code><code class="python plain">, min_alpha</code><code class="python keyword">=</code><code class="python value">0.025</code><code class="python plain">)&nbsp; </code><code class="python comments"># use fixed learning rate</code></div><div class="line number2 index1 alt1"><code class="python plain">model.build_vocab(sentences)</code></div><div class="line number3 index2 alt2"><code class="python keyword">for</code> <code class="python plain">epoch </code><code class="python keyword">in</code> <code class="python functions">range</code><code class="python plain">(</code><code class="python value">10</code><code class="python plain">):</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">model.train(sentences)</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">model.alpha </code><code class="python keyword">-</code><code class="python keyword">=</code> <code class="python value">0.002</code>&nbsp; <code class="python comments"># decrease the learning rate</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">model.min_alpha </code><code class="python keyword">=</code> <code class="python plain">model.alpha&nbsp; </code><code class="python comments"># fix the learning rate, no decay</code></div></div></td></tr></tbody></table></div></div>
<p>The code runs on optimized C (via Cython), just like the original word2vec, so it’s fairly fast.</p>
<p style="font-style: normal;"><strong>Note from Radim</strong>: I wanted to include the obligatory run-on-English-Wikipedia-example at this point, with some timings and code. But I couldn’t get reasonable results out of Doc2Vec, and didn’t want to delay publishing Tim’s write up any longer while I experiment. Despair not; the caravan goes on, and we’re working on a more scalable version of doc2vec, one which doesn’t require a vector in RAM for each document, and with a simpler API for inference on new documents. <a href="https://groups.google.com/forum/#!forum/gensim">Ping me</a> if you want to help.</p>
<h2 id="memory_usage"><a class="anchor dashicons" href="https://rare-technologies.com/doc2vec-tutorial/#memory_usage"></a>Memory Usage</h2>
<p>With the current implementation, all label vectors are stored separately in RAM. In the case above with a unique label per sentence, this causes memory usage to grow linearly with the size of the corpus, which may or may not be a problem depending on the size of your corpus and the amount of RAM available on your box. For example, I’ve successfully run this over a collection of over 2 million sentences with no problems whatsoever; however, when I tried to run it on 20x that much data my box ran out of RAM since it needed to create a new vector for each sentence.</p>
<h2 id="io"><a class="anchor dashicons" href="https://rare-technologies.com/doc2vec-tutorial/#io"></a>I/O</h2>
<p>The usage for Doc2Vec is the same as for gensim’s Word2Vec. One can save and load gensim Doc2Vec instances in the usual ways: directly with Python’s pickle, or using the optimized <code style="font-style: normal;">Doc2Vec.save()</code> and <code style="font-style: normal;">Doc2Vec.load()</code> methods:</p>
<div><div id="highlighter_794978" class="syntaxhighlighter  python"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">model </code><code class="python keyword">=</code> <code class="python plain">Doc2Vec(sentences)</code></div><div class="line number2 index1 alt1"><code class="python plain">...</code></div><div class="line number3 index2 alt2"><code class="python comments"># store the model to mmap-able files</code></div><div class="line number4 index3 alt1"><code class="python plain">model.save(</code><code class="python string">'/tmp/my_model.doc2vec'</code><code class="python plain">)</code></div><div class="line number5 index4 alt2"><code class="python comments"># load the model back</code></div><div class="line number6 index5 alt1"><code class="python plain">model_loaded </code><code class="python keyword">=</code> <code class="python plain">Doc2Vec.load(</code><code class="python string">'/tmp/my_model.doc2vec'</code><code class="python plain">)</code></div></div></td></tr></tbody></table></div></div>
<p>Helper functions like <code style="font-style: normal;">model.most_similar()</code>, <code style="font-style: normal;">model.doesnt_match()</code> and <code style="font-style: normal;">model.similarity()</code> also exist. The raw words and label vectors are also accessible either individually via <code style="font-style: normal;">model['word']</code>, or all at once via <code style="font-style: normal;">model.syn0</code>.<br>
<a href="http://radimrehurek.com/gensim/models/doc2vec.html">See the docs</a>.</p>
<p><strong>The main point is, labels act in the same way as words in Doc2Vec</strong>. So, to get the most similar words/sentences to the first sentence (label <code style="font-style: normal;">SENT_0</code>, for example), you’d do:</p>
<div><div id="highlighter_548228" class="syntaxhighlighter  python"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python functions">print</code> <code class="python plain">model.most_similar(&amp;quot;SENT_0&amp;quot;)</code></div><div class="line number2 index1 alt1"><code class="python plain">[(</code><code class="python string">'SENT_48859'</code><code class="python plain">, </code><code class="python value">0.2516525387763977</code><code class="python plain">),</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;</code><code class="python plain">(u</code><code class="python string">'paradox'</code><code class="python plain">, </code><code class="python value">0.24025458097457886</code><code class="python plain">),</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;</code><code class="python plain">(u</code><code class="python string">'methodically'</code><code class="python plain">, </code><code class="python value">0.2379375547170639</code><code class="python plain">),</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;</code><code class="python plain">(u</code><code class="python string">'tongued'</code><code class="python plain">, </code><code class="python value">0.22196565568447113</code><code class="python plain">),</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;</code><code class="python plain">(u</code><code class="python string">'cosmetics'</code><code class="python plain">, </code><code class="python value">0.21332012116909027</code><code class="python plain">),</code></div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;</code><code class="python plain">(u</code><code class="python string">'Loos'</code><code class="python plain">, </code><code class="python value">0.2114654779434204</code><code class="python plain">),</code></div><div class="line number8 index7 alt1"><code class="python spaces">&nbsp;</code><code class="python plain">(u</code><code class="python string">'backstory'</code><code class="python plain">, </code><code class="python value">0.2113303393125534</code><code class="python plain">),</code></div><div class="line number9 index8 alt2"><code class="python spaces">&nbsp;</code><code class="python plain">(</code><code class="python string">'SENT_60862'</code><code class="python plain">, </code><code class="python value">0.21070502698421478</code><code class="python plain">),</code></div><div class="line number10 index9 alt1"><code class="python spaces">&nbsp;</code><code class="python plain">(u</code><code class="python string">'gobble'</code><code class="python plain">, </code><code class="python value">0.20925869047641754</code><code class="python plain">),</code></div><div class="line number11 index10 alt2"><code class="python spaces">&nbsp;</code><code class="python plain">(</code><code class="python string">'SENT_73365'</code><code class="python plain">, </code><code class="python value">0.20847654342651367</code><code class="python plain">)]</code></div></div></td></tr></tbody></table></div></div>
<p>or to get the raw embedding for that sentence as a NumPy vector:</p>
<div><div id="highlighter_875084" class="syntaxhighlighter  python"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python functions">print</code> <code class="python plain">model[&amp;quot;SENT_0&amp;quot;]</code></div></div></td></tr></tbody></table></div></div>
<p>etc. More functionality coming soon!</p></blockquote>
<script type="text/javascript">(function() {
	if (!window.mc4wp) {
		window.mc4wp = {
			listeners: [],
			forms    : {
				on: function (event, callback) {
					window.mc4wp.listeners.push({
						event   : event,
						callback: callback
					});
				}
			}
		}
	}
})();
</script> <form id="mc4wp-form-1" class="mc4wp-form mc4wp-form-7254" method="post" data-id="7254" data-name="Form"><div class="mc4wp-form-fields"><div style="border: 1px solid; border-radius: 6px; border-color: #D7AD7C; padding: 25px;">
<p>
<em>Note from Radim: Get my latest machine learning tips &amp; articles delivered straight to your inbox (it's free).</em>
</p>
<span>
<input type="text" name="FNAME" placeholder="Your first name" style="border-radius:5px; -moz-border-radius:5px; -webkit-border-radius:5px; width: 25%; display: inline-block;">
<input type="email" id="mc4wp_email" name="EMAIL" placeholder="Your email address" style="border-radius:5px; -moz-border-radius:5px; -webkit-border-radius:5px; width: 65%; display: inline-block;">
</span>
<p></p>
<p>
<span style="font-size: 0.7em; color: #bfbfbf">
<i class="icon-lock"></i>&nbsp;Unsubscribe anytime, no spamming. Max 2 posts per month, if lucky.</span>
<input type="submit" value="Subscribe Now" style="border-radius:5px; -moz-border-radius:5px; -webkit-border-radius:5px; float: right;">
</p>
</div><div style="display: none;"><input type="text" name="_mc4wp_honeypot" value="" tabindex="-1" autocomplete="off"></div><input type="hidden" name="_mc4wp_timestamp" value="1489716147"><input type="hidden" name="_mc4wp_form_id" value="7254"><input type="hidden" name="_mc4wp_form_element_id" value="mc4wp-form-1"></div><div class="mc4wp-response"></div></form> 
<p><strong>If you liked this article, you may also enjoy the <a href="http://radimrehurek.com/2013/09/deep-learning-with-word2vec-and-gensim/">Optimizing word2vec</a> series and the <a href="http://radimrehurek.com/2014/02/word2vec-tutorial/">Word2vec tutorial</a>.</strong></p>
</div>
</div>
<footer class="entry-footer cf">
<a href="https://rare-technologies.com/tag/deep-learning/" rel="tag">deep learning</a><a href="https://rare-technologies.com/tag/gensim/" rel="tag">gensim</a><a href="https://rare-technologies.com/tag/word2vec/" rel="tag">word2vec</a> </footer>
</article>
<script type="text/javascript">
				jQuery(document).ready(function($){
					$("#respond h3, #respond .comment-notes").remove();
					$("#commentform").prepend('<h3 id="reply-title" class="comment-reply-title">Comments disabled.</h3><p class="comment-notes">The discussion is closed. Visit http://radimrehurek.com/gensim/support.html for support.</p>');
					$("#commentform input, #commentform textarea").prop('disabled', true);
				});
			</script>
<div id="comments" class="x-comments-area">
<h2 class="h-comments-title" id="comments_88"><a class="anchor dashicons" href="https://rare-technologies.com/doc2vec-tutorial/#comments_88"></a><span>Comments <small>88</small></span></h2>
<ol class="x-comments-list">
<li id="li-comment-2429" class="comment even thread-even depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/1904d98d901905e43265c37e1c0d8fe4" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2429" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author"><a href="http://www.ripjar.com/" rel="external nofollow" class="url">Simon Smith</a></cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2429" class="x-comment-time"><time datetime="2014-12-16T16:55:30+00:00">2014-12-16 at 4:55 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>Tim, Radim, </p>
<p>Thank you for this – it looks great. I’m a big fan of Gensim and it is now even better.</p>
<p>Simon</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2429#respond" onclick="return addComment.moveForm( &quot;comment-2429&quot;, &quot;2429&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Simon Smith">Reply <input type="hidden" id="id_replay_for_comment" value="2429"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2449" class="comment byuser comment-author-radim bypostauthor odd alt depth-2">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/radim.jpg" width="120" height="94" alt="Radim" class="avatar avatar-120 wp-user-avatar wp-user-avatar-120 alignnone photo"></span> <span class="bypostauthor">Post<br>Author</span></div> <article id="comment-2449" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author"><a href="http://radimrehurek.com/" rel="external nofollow" class="url">Radim</a></cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2449" class="x-comment-time"><time datetime="2015-03-06T10:28:18+00:00">2015-03-06 at 10:28 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Thanks Simon, I appreciate it.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2449#respond" onclick="return addComment.moveForm( &quot;comment-2449&quot;, &quot;2449&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Radim">Reply <input type="hidden" id="id_replay_for_comment" value="2449"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2556" class="comment even depth-3">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/0b89f8abfa361e4474a033bd04445b11" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2556" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">gj</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2556" class="x-comment-time"><time datetime="2016-08-24T07:59:55+00:00">2016-08-24 at 7:59 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Hi, thanks for your tutorial. I want to get sentences’vector ,my train text is “F:\\jj\\g.txt”,but i can not write code,could you help me write a code to get sentence vector ?thank you very much</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2556#respond" onclick="return addComment.moveForm( &quot;comment-2556&quot;, &quot;2556&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to gj">Reply <input type="hidden" id="id_replay_for_comment" value="2556"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
<li id="li-comment-2557" class="comment odd alt depth-3">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/0b89f8abfa361e4474a033bd04445b11" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2557" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">GJ</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2557" class="x-comment-time"><time datetime="2016-08-25T01:46:23+00:00">2016-08-25 at 1:46 am</time></a></div>
</header>
<section class="x-comment-content">
<p>hi ,I hava a question need your help. if I train a model named “gj.bin”,but when I write code”model = Doc2Vec.load_word2vec_format(‘F:\\JJ\\gj.bin’, binary=True)”,it can show UnicodeDecodeError “utf-8′ codec can’t decode byte 0xfa in position 2: invalid start byte” what should i do?</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2557#respond" onclick="return addComment.moveForm( &quot;comment-2557&quot;, &quot;2557&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to GJ">Reply <input type="hidden" id="id_replay_for_comment" value="2557"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
</ol> 
</li> 
</ol> 
</li> 
<li id="li-comment-2430" class="comment even thread-odd thread-alt depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/1b396c1f0927b2e60bf99bd3895b109c" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2430" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Wen</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2430" class="x-comment-time"><time datetime="2014-12-30T08:25:48+00:00">2014-12-30 at 8:25 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Hi, thanks for your awesome tutorial. What I should do if I want to input new testing sentences to find similar sentences after training?</p>
<p>Thank you</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2430#respond" onclick="return addComment.moveForm( &quot;comment-2430&quot;, &quot;2430&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Wen">Reply <input type="hidden" id="id_replay_for_comment" value="2430"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2438" class="comment odd alt depth-2">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/f72f15b8e3803919e1f6d2e874024410" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2438" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author"><a href="http://samuel.ronnqvist.fi/" rel="external nofollow" class="url">Samuel Rönnqvist</a></cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2438" class="x-comment-time"><time datetime="2015-01-28T15:44:43+00:00">2015-01-28 at 3:44 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>You should be able to add new sentences to an existing model using train(), and then run most_similar([‘SENT_XX’]), where SENT_XX is the label of one of your new sentences.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2438#respond" onclick="return addComment.moveForm( &quot;comment-2438&quot;, &quot;2438&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Samuel Rönnqvist">Reply <input type="hidden" id="id_replay_for_comment" value="2438"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2448" class="comment even depth-3">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/d0801e88f58076ea4d2171e5d98b291d" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2448" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Yikang</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2448" class="x-comment-time"><time datetime="2015-03-06T09:18:00+00:00">2015-03-06 at 9:18 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Thanks for your awesome work. But I find that train() doesn’t add new sentences to an existing model. I get an ‘KeyError’ error while I was trying. Maybe train() just update the weight?</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2448#respond" onclick="return addComment.moveForm( &quot;comment-2448&quot;, &quot;2448&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Yikang">Reply <input type="hidden" id="id_replay_for_comment" value="2448"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2452" class="comment odd alt depth-4">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/olavur2.png" width="110" height="120" alt="Ólavur Mortensen" class="avatar avatar-120 wp-user-avatar wp-user-avatar-120 alignnone photo"></span> </div> <article id="comment-2452" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Ólavur Mortensen</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2452" class="x-comment-time"><time datetime="2015-04-02T14:24:11+00:00">2015-04-02 at 2:24 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>I would very much like to know this too. I can’t figure out how to train on more data in word2vec either.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2452#respond" onclick="return addComment.moveForm( &quot;comment-2452&quot;, &quot;2452&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Ólavur Mortensen">Reply <input type="hidden" id="id_replay_for_comment" value="2452"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
</ol> 
</li> 
</ol> 
</li> 
</ol> 
</li> 
<li id="li-comment-2431" class="comment even thread-even depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/504ba169ae052f7602af7f0dbda6807b" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2431" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">dhruv shah</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2431" class="x-comment-time"><time datetime="2015-01-15T09:44:58+00:00">2015-01-15 at 9:44 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Hi Radim, </p>
<p>I just had a quick question.<br>
The doc2vec is an unsupervised algorithm. So why do we have to provide labels when we are training the model?</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2431#respond" onclick="return addComment.moveForm( &quot;comment-2431&quot;, &quot;2431&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to dhruv shah">Reply <input type="hidden" id="id_replay_for_comment" value="2431"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2433" class="comment odd alt depth-2">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/68045758bc2a964f44d89f42ece61e7b" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2433" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Bach</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2433" class="x-comment-time"><time datetime="2015-01-19T08:11:54+00:00">2015-01-19 at 8:11 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Hi, I think that the labels here are not the “y”, they are like tags attached to each sentence, so you can access the vector that represents the sentence.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2433#respond" onclick="return addComment.moveForm( &quot;comment-2433&quot;, &quot;2433&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Bach">Reply <input type="hidden" id="id_replay_for_comment" value="2433"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2434" class="comment even depth-3">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/504ba169ae052f7602af7f0dbda6807b" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2434" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">dhruv shah</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2434" class="x-comment-time"><time datetime="2015-01-20T10:22:23+00:00">2015-01-20 at 10:22 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Does this mean that every single document label is unique?</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2434#respond" onclick="return addComment.moveForm( &quot;comment-2434&quot;, &quot;2434&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to dhruv shah">Reply <input type="hidden" id="id_replay_for_comment" value="2434"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2495" class="comment odd alt depth-4">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/1d4dd9859e5b5aa85465ea0160d1b4cd" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2495" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Jean</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2495" class="x-comment-time"><time datetime="2016-03-02T16:27:50+00:00">2016-03-02 at 4:27 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>Yes it is !</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2495#respond" onclick="return addComment.moveForm( &quot;comment-2495&quot;, &quot;2495&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Jean">Reply <input type="hidden" id="id_replay_for_comment" value="2495"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
<li id="li-comment-2496" class="comment byuser comment-author-radim bypostauthor even depth-4">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/radim.jpg" width="120" height="94" alt="Radim Rehurek" class="avatar avatar-120 wp-user-avatar wp-user-avatar-120 alignnone photo"></span> <span class="bypostauthor">Post<br>Author</span></div> <article id="comment-2496" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Radim Rehurek</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2496" class="x-comment-time"><time datetime="2016-03-03T02:56:05+00:00">2016-03-03 at 2:56 am</time></a></div>
</header>
<section class="x-comment-content">
<p>That’s up to you. Each label CAN be unique. Or you can use only a few labels across all documents (such as 10 target classes = labels for 1 million documents, reusing a single label for many documents).</p>
<p>You would then learn 10 vectors via doc2vec, one vector to represent each class=label.</p>
<p>Also note you can provide multiple labels per document (each document can be tagged with multiple “classes”).</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2496#respond" onclick="return addComment.moveForm( &quot;comment-2496&quot;, &quot;2496&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Radim Rehurek">Reply <input type="hidden" id="id_replay_for_comment" value="2496"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2563" class="comment odd alt depth-5">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/d345e295a08078cd7781ee0204e39d42" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2563" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Nataly Maslova</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2563" class="x-comment-time"><time datetime="2016-09-15T06:12:25+00:00">2016-09-15 at 6:12 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Hello Radim.<br>
I try to attend 2 labels to some sentences in my sample and get the error:<br>
File “C:\doc2v\mylabelseparate.py”, line 122, in<br>
model_dm.build_vocab(np.concatenate((x_train, x_test, unsupforest))) # build<br>
vocab over all reviews<br>
File “C:\Python27\lib\site-packages\gensim\models\word2vec.py”, line 396, in b<br>
uild_vocab<br>
vocab = self._vocab_from(sentences)<br>
File “C:\Python27\lib\site-packages\gensim\models\doc2vec.py”, line 200, in _v<br>
ocab_from<br>
sentence_length = len(sentence.words)<br>
TypeError: object of type ‘LabeledSentence’ has no len()</p>
<p>I would be extremely grateful to you if you look at my post:<br>
<a href="https://stackoverflow.com/questions/39504130/error-object-of-type-labeledsentence-has-no-len-while-building-vocabulary-in" rel="nofollow">http://stackoverflow.com/questions/39504130/error-object-of-type-labeledsentence-has-no-len-while-building-vocabulary-in</a></p>
</section>
<div class="x-reply">
</div>
</article>
</li> 
</ol> 
</li> 
</ol> 
</li> 
</ol> 
</li> 
</ol> 
</li> 
<li id="li-comment-2432" class="comment even thread-odd thread-alt depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/68045758bc2a964f44d89f42ece61e7b" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2432" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Bach</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2432" class="x-comment-time"><time datetime="2015-01-19T08:09:10+00:00">2015-01-19 at 8:09 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Hi,</p>
<p>How can I get the vector representing a paragraph? My understanding is that I can access the vectors representing sentences via their labels; So how do I label a paragraph contains a few sentences?</p>
<p>Thanks.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2432#respond" onclick="return addComment.moveForm( &quot;comment-2432&quot;, &quot;2432&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Bach">Reply <input type="hidden" id="id_replay_for_comment" value="2432"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2435" class="comment odd alt depth-2">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/a00adb19fab7c26303d14846aea7e570" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2435" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Denis</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2435" class="x-comment-time"><time datetime="2015-01-22T23:18:33+00:00">2015-01-22 at 11:18 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>I guess you should use the same label for all sentences in your paragraph</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2435#respond" onclick="return addComment.moveForm( &quot;comment-2435&quot;, &quot;2435&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Denis">Reply <input type="hidden" id="id_replay_for_comment" value="2435"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2437" class="comment even depth-3">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/68045758bc2a964f44d89f42ece61e7b" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2437" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Bach</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2437" class="x-comment-time"><time datetime="2015-01-27T11:18:14+00:00">2015-01-27 at 11:18 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Hi,<br>
So will each sentence in a paragraph have 1 label for its own and 1 label for the paragraph? E.g., for paragraph 1:<br>
sentence.labels = [u’SENT_i’, u’PARA_1′]<br>
for sentence i.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2437#respond" onclick="return addComment.moveForm( &quot;comment-2437&quot;, &quot;2437&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Bach">Reply <input type="hidden" id="id_replay_for_comment" value="2437"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2439" class="comment odd alt depth-4">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/f72f15b8e3803919e1f6d2e874024410" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2439" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author"><a href="http://samuel.ronnqvist.fi/" rel="external nofollow" class="url">Samuel Rönnqvist</a></cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2439" class="x-comment-time"><time datetime="2015-01-28T15:54:33+00:00">2015-01-28 at 3:54 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>You could also feed entire paragraphs (or arbitrarily long sequences of tokens) together with a PARA_X label, to reduce memory usage (i.e., number of unique labels), unless you’re interested in separating the semantics of paragraphs and individual sentences.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2439#respond" onclick="return addComment.moveForm( &quot;comment-2439&quot;, &quot;2439&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Samuel Rönnqvist">Reply <input type="hidden" id="id_replay_for_comment" value="2439"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
</ol> 
</li> 
</ol> 
</li> 
</ol> 
</li> 
<li id="li-comment-2436" class="comment even thread-even depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/2fe1a2b6b1cf7a0410d897889867fb74" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2436" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Jeff</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2436" class="x-comment-time"><time datetime="2015-01-26T21:57:24+00:00">2015-01-26 at 9:57 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>Hi Radim,</p>
<p>First, thank you for this tutorial. I did what you said in this tutorial, but it didn’t work. The issue is after my training, I got a key error with<br>
print model[‘SENT_0’].</p>
<p>I have checked all of the keys, and I can’t find any labels, then I checked the source code, I find:<br>
self.train_words = train_words<br>
self.train_lbls = train_lbls<br>
if sentences is not None:<br>
self.build_vocab(sentences)<br>
self.train(sentences)<br>
In Doc2vec class, it just call the build_vocab() method inherited from Word2Vec class, I wonder how this can generate a key list include ‘SENT_0′,’SENT_1’,……</p>
<p>Hoping for your reply.<br>
Thanks</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2436#respond" onclick="return addComment.moveForm( &quot;comment-2436&quot;, &quot;2436&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Jeff">Reply <input type="hidden" id="id_replay_for_comment" value="2436"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2440" class="comment odd alt depth-2">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/f72f15b8e3803919e1f6d2e874024410" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2440" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author"><a href="http://samuel.ronnqvist.fi/" rel="external nofollow" class="url">Samuel Rönnqvist</a></cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2440" class="x-comment-time"><time datetime="2015-01-28T16:12:21+00:00">2015-01-28 at 4:12 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>If training was successful, you should be able to access the sentence vector by label like that. Here’s a minimal example:</p>
<p>sentence = LabeledSentence(words=[u’some’, u’words’, u’here’], labels=[u’SENT_1′])<br>
model = Doc2Vec([sentence], min_count=0)<br>
model[‘SENT_1’]</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2440#respond" onclick="return addComment.moveForm( &quot;comment-2440&quot;, &quot;2440&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Samuel Rönnqvist">Reply <input type="hidden" id="id_replay_for_comment" value="2440"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2469" class="comment even depth-3">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/71141fd1a9c2fa4497b201e369aefdec" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2469" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Mark</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2469" class="x-comment-time"><time datetime="2015-09-02T12:16:01+00:00">2015-09-02 at 12:16 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>That example code doesn’t work for me:</p>
<p>&gt;&gt;&gt; sentence = gensim.models.doc2vec.LabeledSentence(words=[u’some’, u’words’, u’here’], labels=[u’SENT_1′])<br>
Traceback (most recent call last):<br>
File “”, line 1, in<br>
TypeError: __new__() got an unexpected keyword argument ‘labels’</p>
<p>Step one doesn’t work. But it appears that LabeledSentence now wants ‘tags’ instead of labels, so I’ll update it.</p>
<p>&gt;&gt;&gt; sentence = gensim.models.doc2vec.LabeledSentence(words=[u’some’, u’words’, u’here’], tags=[u’SENT_1′])<br>
&gt;&gt;&gt; model = gensim.models.Doc2Vec([sentence], min_count=0)<br>
&gt;&gt;&gt; model[‘SENT_1’]<br>
Traceback (most recent call last):<br>
File “”, line 1, in<br>
File “C:Usersu772700AppDataLocalContinuumAnaconda (x86)libsite-packagesgensimmodelsword2vec.py”, line 1204, in __getitem__<br>
return self.syn0[self.vocab[words].index]<br>
KeyError: ‘SENT_1’</p>
<p>I can build the model, BUT the sentence tag doesn’t exist in the vocabulary.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2469#respond" onclick="return addComment.moveForm( &quot;comment-2469&quot;, &quot;2469&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Mark">Reply <input type="hidden" id="id_replay_for_comment" value="2469"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2470" class="comment byuser comment-author-radim bypostauthor odd alt depth-4">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/radim.jpg" width="120" height="94" alt="Radim" class="avatar avatar-120 wp-user-avatar wp-user-avatar-120 alignnone photo"></span> <span class="bypostauthor">Post<br>Author</span></div> <article id="comment-2470" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Radim</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2470" class="x-comment-time"><time datetime="2015-09-02T12:26:16+00:00">2015-09-02 at 12:26 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>Mark, did you read the IMPORTANT NOTE above? Doc2vec API has changed considerably since this blog post.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2470#respond" onclick="return addComment.moveForm( &quot;comment-2470&quot;, &quot;2470&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Radim">Reply <input type="hidden" id="id_replay_for_comment" value="2470"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
<li id="li-comment-2473" class="comment even depth-4">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/7ca328c5f3c44c35a1ba86684d25016f" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2473" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">wolfgang</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2473" class="x-comment-time"><time datetime="2015-09-27T19:59:28+00:00">2015-09-27 at 7:59 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>I believe you need to use the model.docvecs[‘SENT_1’], the API has changed as Radim mentioned</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2473#respond" onclick="return addComment.moveForm( &quot;comment-2473&quot;, &quot;2473&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to wolfgang">Reply <input type="hidden" id="id_replay_for_comment" value="2473"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
</ol> 
</li> 
</ol> 
</li> 
<li id="li-comment-2554" class="comment odd alt depth-2">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/e970a6c738df6d48e2a040c28c2adf0a" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2554" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Aaron</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2554" class="x-comment-time"><time datetime="2016-08-09T19:54:11+00:00">2016-08-09 at 7:54 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>Something like this will work with the updated API:</p>
<p>document_embedding_matrix = np.array([d.infer_vector(sents[i].words) for i in range(len(sents))])</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2554#respond" onclick="return addComment.moveForm( &quot;comment-2554&quot;, &quot;2554&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Aaron">Reply <input type="hidden" id="id_replay_for_comment" value="2554"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
<li id="li-comment-2555" class="comment even depth-2">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/e970a6c738df6d48e2a040c28c2adf0a" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2555" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Aaron</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2555" class="x-comment-time"><time datetime="2016-08-09T19:54:27+00:00">2016-08-09 at 7:54 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>Something like this will work with the updated API:</p>
<p>document_embedding_matrix = np.array([doc2vec_model.infer_vector(sents[i].words) for i in range(len(sents))])</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2555#respond" onclick="return addComment.moveForm( &quot;comment-2555&quot;, &quot;2555&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Aaron">Reply <input type="hidden" id="id_replay_for_comment" value="2555"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
</ol> 
</li> 
<li id="li-comment-2441" class="comment odd alt thread-odd thread-alt depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/5bc3aeec09464c41078ccafacfa7832b" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2441" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Zach</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2441" class="x-comment-time"><time datetime="2015-01-29T20:24:50+00:00">2015-01-29 at 8:24 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>I have a model trained with Doc2Vec. (It’s very cool!)</p>
<p>Is there an easy way to extract JUST the vectors for all of the sentences?</p>
<p>Basically, I want to save a matrix of all the original documents and their corresponding vectors.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2441#respond" onclick="return addComment.moveForm( &quot;comment-2441&quot;, &quot;2441&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Zach">Reply <input type="hidden" id="id_replay_for_comment" value="2441"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2444" class="comment even depth-2">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/ddac5273e87af5ca56699c4283e37b60" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2444" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Claudio</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2444" class="x-comment-time"><time datetime="2015-02-19T06:12:01+00:00">2015-02-19 at 6:12 am</time></a></div>
</header>
<section class="x-comment-content">
<p>I think you only have to read the labels which start with “SENT_ ” because that are the labels which contains the vector representation. However, I’m experimenting with Doc2Vec and after the a successful training process my model have some missing sentences labels. Did you solve it?</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2444#respond" onclick="return addComment.moveForm( &quot;comment-2444&quot;, &quot;2444&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Claudio">Reply <input type="hidden" id="id_replay_for_comment" value="2444"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2445" class="comment odd alt depth-3">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/288deb7cc2c5644dc5a614858ab13e8b" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2445" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Nate</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2445" class="x-comment-time"><time datetime="2015-02-23T18:28:51+00:00">2015-02-23 at 6:28 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>Let me start off by saying I really like Doc2Vec and I appreciate the efforts that have gone into making it!</p>
<p>After successfully training a Doc2Vec model, many of my sentence labels are missing in the trained model and many new labels have appeared representing individual words (presumably extracted from some of the sentences, themselves). Maybe I’m not correctly understanding the purpose of the labels, but I thought that perhaps they represented the “hooks” for extracting the vector representations for each sentence I trained on?</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2445#respond" onclick="return addComment.moveForm( &quot;comment-2445&quot;, &quot;2445&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Nate">Reply <input type="hidden" id="id_replay_for_comment" value="2445"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2446" class="comment even depth-4">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/ddac5273e87af5ca56699c4283e37b60" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2446" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Claudio</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2446" class="x-comment-time"><time datetime="2015-02-26T23:57:07+00:00">2015-02-26 at 11:57 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>Nate, how are you training your model?. I fixed the missing sentences labels by setting the parameter min_count=1. According with the documentation “min_count = ignore all words with total frequency lower than this.” However, the problem with this solution is we are keeping the noise in the dataset. (very specific words).</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2446#respond" onclick="return addComment.moveForm( &quot;comment-2446&quot;, &quot;2446&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Claudio">Reply <input type="hidden" id="id_replay_for_comment" value="2446"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
</ol> 
</li> 
</ol> 
</li> 
</ol> 
</li> 
<li id="li-comment-2442" class="comment odd alt thread-even depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/e4d0ae68198e00d60dd2f3da3f0c76a8" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2442" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Paul F</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2442" class="x-comment-time"><time datetime="2015-02-01T23:47:51+00:00">2015-02-01 at 11:47 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>Searching for golden needles in unlabeled email haystacks..I was astounded to see in Table two of the Le and Mikolov article that LDA demonstrates a 32.58% error rate compared to the authors’ Paragraph Vector model with only a 7.42%.error rate. I am searching an un-labled corpus of 10+ million emails to determine by topic what exists. We ran our initial test of LDA (single Core) a few days ago on the Enron email test file but have not had time to thoroughly analyze the results. This difference in the error rate means I likely must add Doc2Vec to the process. Under LDA our goal was a very homogeneous group of clusters with the goal of quickly eliminating the NOT RELEVANT clusters and the documents they include from further processing based upon a manual review of the top 5-10 top ranked topics in the top 10-20 top ranked documents in each cluster (recognizing that there could be MANY thousands of homogeneous clusters, we are thinking of ways that the machine can determine 80%+ of the Not Relevant clusters based on rules yet to be determined.) The NOT RELEVANT Clusters and their documents become a training set as do specific paragraphs and sentences of the POSSIBLY RELEVANT Clusters when we move to SuPervised learning using LSA. LDA gets me top ranked topics of top ranked documents in each cluster but apparently has limitation using distributed computing. LSA seems apparently more effective in Distributed Computing and is a comfortable known process for training with manually determined LSA training sets.<br>
Doc2Vec apparently brings sentence, paragraph and even possibly document labeling still with the benefit of sentiment analysis at an apparent vastly increased processing time. Since my 12 core machine won’t cut it on Doc2Vec and I need to acquire a considerable number of cores and build a LAN. what suggestion can anyone supply concerning the least cost per core(I am at about US$45 each) and how to determine the amount of Ram required per worker core for a good trade off between processing speed and core cost? Will each worker need to have identical processors and RAM? Since they are plentiful, I am contemplating Dell Precision T7500 with dual 6 core and Ram based upon your comments. Please confirm that under all three models only actual cores and not hyperthreaded fake cores are usable?</p>
<p>Thanks folks, Your efforts are appreciated.<br>
Paul F.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2442#respond" onclick="return addComment.moveForm( &quot;comment-2442&quot;, &quot;2442&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Paul F">Reply <input type="hidden" id="id_replay_for_comment" value="2442"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
<li id="li-comment-2443" class="comment even thread-odd thread-alt depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/44046b243dde6001e7e483dd2ae062bc" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2443" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Alex</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2443" class="x-comment-time"><time datetime="2015-02-04T18:35:26+00:00">2015-02-04 at 6:35 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>I am interested in such an application:<br>
can I use existing word2vec C format binary file (e.g. GoogleNews-vectors-negative300.bin) to help training paragraph vector. I assume I should follow the steps<br>
step1<br>
model = Doc2Vector.load_word2vec_format(‘./GoogleNews-vectors-negative300.bin’, binary=True)<br>
step2<br>
model.train(sentences)</p>
<p>But when I did in this way, errors pop up like<br>
File “”, line 1, in<br>
File “/homes/xx302/lib/python2.7/site-packages/gensim-0.10.3-py2.7-linux-x86_64.egg/gensim/models/word2vec.py”, line 466, in train<br>
total_words = total_words or int(sum(v.count * v.sample_probability for v in itervalues(self.vocab)) * self.iter)<br>
File “/homes/xx302/lib/python2.7/site-packages/gensim-0.10.3-py2.7-linux-x86_64.egg/gensim/models/word2vec.py”, line 466, in<br>
total_words = total_words or int(sum(v.count * v.sample_probability for v in itervalues(self.vocab)) * self.iter)<br>
AttributeError: ‘Vocab’ object has no attribute ‘sample_probability’</p>
<p>So is it caused by using binary word2vector in which some information is lost?</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2443#respond" onclick="return addComment.moveForm( &quot;comment-2443&quot;, &quot;2443&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Alex">Reply <input type="hidden" id="id_replay_for_comment" value="2443"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2461" class="comment odd alt depth-2">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/de9561067641539f76efb2d20f60c420" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2461" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Manuel Reis</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2461" class="x-comment-time"><time datetime="2015-04-25T16:46:21+00:00">2015-04-25 at 4:46 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>Hello Alex,</p>
<p>I am having the same problem. How did you managed to solve it?</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2461#respond" onclick="return addComment.moveForm( &quot;comment-2461&quot;, &quot;2461&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Manuel Reis">Reply <input type="hidden" id="id_replay_for_comment" value="2461"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
</ol> 
</li> 
<li id="li-comment-2447" class="comment even thread-even depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/094464534e65d7d6e6528d5716156dfc" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2447" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">yuka</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2447" class="x-comment-time"><time datetime="2015-02-28T10:19:56+00:00">2015-02-28 at 10:19 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Hello Radim, thank you for your tutorials, it is really interesting and enlightening. I am a rookie in python and therefore have some issues while manipulating doc2vec. Here it is, I have a corpora (folder) with five classes (folders) inside, and each document is simply a txt file. In this case, how should I start training all these documents? Thanks.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2447#respond" onclick="return addComment.moveForm( &quot;comment-2447&quot;, &quot;2447&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to yuka">Reply <input type="hidden" id="id_replay_for_comment" value="2447"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
<li id="li-comment-2450" class="comment odd alt thread-odd thread-alt depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/7cfaef9d00b5854ddb84d8b79c012e04" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2450" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Huo</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2450" class="x-comment-time"><time datetime="2015-03-09T13:37:00+00:00">2015-03-09 at 1:37 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>HI,<br>
In the class LabledLineSentence(), every sentence line got a unique label, which is ‘SENT_%s’ % item_no. But what if two lines have duplicated contents ? In your code, they will have two different labels. Is it reasonable? Thanks.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2450#respond" onclick="return addComment.moveForm( &quot;comment-2450&quot;, &quot;2450&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Huo">Reply <input type="hidden" id="id_replay_for_comment" value="2450"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
<li id="li-comment-2451" class="comment even thread-even depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/1188fd8d7f88c8636afe6bcbe0c9a6fb" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2451" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">JohnDannl</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2451" class="x-comment-time"><time datetime="2015-03-18T03:01:39+00:00">2015-03-18 at 3:01 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Hi Radim,<br>
I really appreciate your good work！I have successfully completed the first step: training a model,but I find the same problem as YiKang posted that “the train() method doesn’t add new sentences to an existing model” when I want to predict some new sentences.According to Mikolov‘s paper：in “the inference stage” ，we can get paragraph vectors D for new paragraphs.Is there something I missed? Looking forward to your reply.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2451#respond" onclick="return addComment.moveForm( &quot;comment-2451&quot;, &quot;2451&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to JohnDannl">Reply <input type="hidden" id="id_replay_for_comment" value="2451"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
<li id="li-comment-2453" class="comment odd alt thread-odd thread-alt depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/e7b72b0cfcbf50804cff7c53d45f3969" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2453" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Huanliang Wang</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2453" class="x-comment-time"><time datetime="2015-04-08T05:43:34+00:00">2015-04-08 at 5:43 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Hi, Randim:<br>
I want to get the vector of input sentence after training was successful. But I can’t find any method to get it. Could you tell me how to operate gensim?</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2453#respond" onclick="return addComment.moveForm( &quot;comment-2453&quot;, &quot;2453&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Huanliang Wang">Reply <input type="hidden" id="id_replay_for_comment" value="2453"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
<li id="li-comment-2454" class="comment even thread-even depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/e7b72b0cfcbf50804cff7c53d45f3969" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2454" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Huanliang Wang</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2454" class="x-comment-time"><time datetime="2015-04-08T07:55:44+00:00">2015-04-08 at 7:55 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Hi, Randim:<br>
After training was successful, I find some SENT_?? are not exist. such as:<br>
model([‘SENT_22’])<br>
An error is thrown: KeyError: ‘SENT_22’.<br>
But running both model([‘SENT_21’]) and model([‘SENT_23’]) are right.</p>
<p>Is it an error? How do I avoid such error?</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2454#respond" onclick="return addComment.moveForm( &quot;comment-2454&quot;, &quot;2454&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Huanliang Wang">Reply <input type="hidden" id="id_replay_for_comment" value="2454"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2483" class="comment odd alt depth-2">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/51e83fec09cd117d00a02a427ea8a511" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2483" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Cathy1272015</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2483" class="x-comment-time"><time datetime="2015-12-02T09:34:00+00:00">2015-12-02 at 9:34 am</time></a></div>
</header>
<section class="x-comment-content">
<p>I came across the same problem as you when I run the program as mentioned above ,and now I don’t know why, if you get the answer please tell me,thanks</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2483#respond" onclick="return addComment.moveForm( &quot;comment-2483&quot;, &quot;2483&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Cathy1272015">Reply <input type="hidden" id="id_replay_for_comment" value="2483"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2484" class="comment byuser comment-author-radim bypostauthor even depth-3">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/radim.jpg" width="120" height="94" alt="Radim" class="avatar avatar-120 wp-user-avatar wp-user-avatar-120 alignnone photo"></span> <span class="bypostauthor">Post<br>Author</span></div> <article id="comment-2484" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author"><a href="http://radimrehurek.com/" rel="external nofollow" class="url">Radim</a></cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2484" class="x-comment-time"><time datetime="2015-12-02T09:36:20+00:00">2015-12-02 at 9:36 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Such questions are best served on the gensim mailing list. The doc2vec API has changed a bit over the past year.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2484#respond" onclick="return addComment.moveForm( &quot;comment-2484&quot;, &quot;2484&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Radim">Reply <input type="hidden" id="id_replay_for_comment" value="2484"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2485" class="comment odd alt depth-4">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/a5f09e03b1e6a2c7b4898e75d562f7bb" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2485" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">xinchun</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2485" class="x-comment-time"><time datetime="2016-01-22T03:29:01+00:00">2016-01-22 at 3:29 am</time></a></div>
</header>
<section class="x-comment-content">
<p>you can use:model.docvess[”] to got it . but i also have a question, how can i predict my new data using my model which i have trained before</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2485#respond" onclick="return addComment.moveForm( &quot;comment-2485&quot;, &quot;2485&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to xinchun">Reply <input type="hidden" id="id_replay_for_comment" value="2485"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
</ol> 
</li> 
</ol> 
</li> 
</ol> 
</li> 
<li id="li-comment-2455" class="comment even thread-odd thread-alt depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/a4a9bc11c4f0f6e94ce04984e5c36d9c" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2455" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Andrew Beam</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2455" class="x-comment-time"><time datetime="2015-04-08T22:41:43+00:00">2015-04-08 at 10:41 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>Thanks for implementing this, I’ve had fun with the new module. Is there any way to assess convergence? Can we access the log-likehood value somehow? I have no idea how many epochs I should be running this for or if my alpha size is reasonable.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2455#respond" onclick="return addComment.moveForm( &quot;comment-2455&quot;, &quot;2455&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Andrew Beam">Reply <input type="hidden" id="id_replay_for_comment" value="2455"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
<li id="li-comment-2456" class="comment odd alt thread-even depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/58261f04d5915f191eae33354823e4fd" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2456" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Debasis Ganguly</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2456" class="x-comment-time"><time datetime="2015-04-09T22:13:44+00:00">2015-04-09 at 10:13 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>I’m using doc2vec on one of the SEMEVAL ’14 datasets. I’ve got 755 number of lines (sentences) in a text file.<br>
However, after executing the following code:</p>
<p>sentences=gensim.models.doc2vec.LabeledLineSentence(‘test.txt’)<br>
model = gensim.models.doc2vec.Doc2Vec(sentences, size=10, window=5, min_count=5, workers=4)<br>
model.save_word2vec_format(‘svectors.txt’) </p>
<p>when I wanted to check if all sentences have been stored in the vector file, to my surprise I found that some sentences are missing! More precisely,<br>
grep -c SENT_ svectors.txt<br>
gave me an o/p of 735.</p>
<p>Wondering what might be the cause of 20 sentences missing?</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2456#respond" onclick="return addComment.moveForm( &quot;comment-2456&quot;, &quot;2456&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Debasis Ganguly">Reply <input type="hidden" id="id_replay_for_comment" value="2456"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2457" class="comment even depth-2">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/58261f04d5915f191eae33354823e4fd" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2457" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Debasis Ganguly</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2457" class="x-comment-time"><time datetime="2015-04-09T23:14:13+00:00">2015-04-09 at 11:14 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>Setting min_count to 2 fixes this problem. It was ignoring sentences where one of the constituent words was having freq. less than the min_count.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2457#respond" onclick="return addComment.moveForm( &quot;comment-2457&quot;, &quot;2457&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Debasis Ganguly">Reply <input type="hidden" id="id_replay_for_comment" value="2457"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
</ol> 
</li> 
<li id="li-comment-2458" class="comment odd alt thread-odd thread-alt depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/2b4c4233cc40179d8d26cc10c30e0a34" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2458" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Erick</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2458" class="x-comment-time"><time datetime="2015-04-15T06:04:59+00:00">2015-04-15 at 6:04 am</time></a></div>
</header>
<section class="x-comment-content">
<p>I’m not sure I understood the point in having two labels in a sentence. Does it mean that sentence can be used to train the vectors of two paragraphs?</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2458#respond" onclick="return addComment.moveForm( &quot;comment-2458&quot;, &quot;2458&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Erick">Reply <input type="hidden" id="id_replay_for_comment" value="2458"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
<li id="li-comment-2459" class="comment even thread-even depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/482316c19b44375491f9fca771a2b1b5" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2459" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">hj</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2459" class="x-comment-time"><time datetime="2015-04-16T05:40:52+00:00">2015-04-16 at 5:40 am</time></a></div>
</header>
<section class="x-comment-content">
<p>hello.</p>
<p>Thank you so much for this helpful tutorial.<br>
I have a question about the speed.<br>
I have a 366MB text file and wanted to create the doc2vec model. However, it seems it stopped since the log stopped at 30.23% for the last ten hours. So I was wondering, what is the max size doc2vec code can handle? Also, any suggestions on how I can increase speed and size limit?</p>
<p>Thanks again, have nice day:)</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2459#respond" onclick="return addComment.moveForm( &quot;comment-2459&quot;, &quot;2459&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to hj">Reply <input type="hidden" id="id_replay_for_comment" value="2459"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
<li id="li-comment-2460" class="comment odd alt thread-odd thread-alt depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/c4c7e9f81d2ecd4beedf56f851970cd4" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2460" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Silvia</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2460" class="x-comment-time"><time datetime="2015-04-17T10:23:02+00:00">2015-04-17 at 10:23 am</time></a></div>
</header>
<section class="x-comment-content">
<p>I am using the Doc2vec class with a corpus containing very short sentences that can have even 1 word. I observed that for many sentences, especially the short ones, Doc2vec do not provide any representations. Could you explain why? And could I solve this?</p>
<p>Thanks in advance!</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2460#respond" onclick="return addComment.moveForm( &quot;comment-2460&quot;, &quot;2460&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Silvia">Reply <input type="hidden" id="id_replay_for_comment" value="2460"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
<li id="li-comment-2462" class="comment even thread-even depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/b4af74f54f888225462cc4d937de56a1" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2462" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">R</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2462" class="x-comment-time"><time datetime="2015-05-05T00:09:34+00:00">2015-05-05 at 12:09 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Hi Radim</p>
<p>Great port. Have you an example on how to use Doc2vec for Information Retrieval or any advice on the subject.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2462#respond" onclick="return addComment.moveForm( &quot;comment-2462&quot;, &quot;2462&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to R">Reply <input type="hidden" id="id_replay_for_comment" value="2462"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
<li id="li-comment-2463" class="comment odd alt thread-odd thread-alt depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/236a49e0b91ead97e45054264dd38e80" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2463" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">PA</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2463" class="x-comment-time"><time datetime="2015-05-12T03:10:56+00:00">2015-05-12 at 3:10 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Hi Radim,</p>
<p>Great software. I have a question. Suppose I have created a model and wish to find similarities with new sentences. I create new labels for each new sentence. I can do the model.train, but it does not update the vocabulary from the loaded model to include the words in the new sentences. If I do</p>
<p>model.load(“orig.model”) # this has 100000 labels</p>
<p>sentences = []<br>
currentlines = 100000<br>
for line in lines:<br>
currentlines += 1<br>
label = ‘SENT_’ + str(currentlines)<br>
sentence = models.doc2vec.LabeledSentence(unicodewords, labels=[unicode(label)])<br>
sentences.append(sentence)</p>
<p>model.train(sentences)</p>
<p>print model.most_similar(“SENT_109900”)</p>
<p>Since this label is not in the original model, it complains with</p>
<p>KeyError: “word ‘SENT_109900’ not in vocabulary”</p>
<p>The mechanism updates the model with train but does not allow me to update the vocabulary. How is this possible?</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2463#respond" onclick="return addComment.moveForm( &quot;comment-2463&quot;, &quot;2463&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to PA">Reply <input type="hidden" id="id_replay_for_comment" value="2463"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2464" class="comment even depth-2">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/radim.jpg" width="120" height="94" alt="Radim" class="avatar avatar-120 wp-user-avatar wp-user-avatar-120 alignnone photo"></span> </div> <article id="comment-2464" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Radim</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2464" class="x-comment-time"><time datetime="2015-06-20T22:52:47+00:00">2015-06-20 at 10:52 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>Exactly right — the model doesn’t allow adding new vocabulary (only updating existing one).</p>
<p>But I have good news for you! One of gensim users is creating a new pull request on github, which will allow adding new words too. This way, the model should become fully online.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2464#respond" onclick="return addComment.moveForm( &quot;comment-2464&quot;, &quot;2464&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Radim">Reply <input type="hidden" id="id_replay_for_comment" value="2464"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2505" class="comment odd alt depth-3">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/edadb5e03328a6025c6a00cc195052f0" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2505" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Shima</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2505" class="x-comment-time"><time datetime="2016-04-30T17:48:34+00:00">2016-04-30 at 5:48 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>Hi Radim,</p>
<p>I would like to use doc2vec for classification. However, it seems we need to have the test documents as well as training documents at the time of training to build the vocabulary. Is it really the case? If yes, how such model can be used in practice to learn a model that can classify UNSEEN documents? I get KeyError when I want to get document representation of unseen docs.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2505#respond" onclick="return addComment.moveForm( &quot;comment-2505&quot;, &quot;2505&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Shima">Reply <input type="hidden" id="id_replay_for_comment" value="2505"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
</ol> 
</li> 
</ol> 
</li> 
<li id="li-comment-2465" class="comment even thread-even depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/6ecc86fb3afaa049894c4d123cd595b3" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2465" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">sky</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2465" class="x-comment-time"><time datetime="2015-07-16T18:34:24+00:00">2015-07-16 at 6:34 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>Thanks! Although this tutorial seems to be a bit outdated as a significant update has been merged (<a href="https://github.com/piskvorky/gensim/pull/356" rel="nofollow">https://github.com/piskvorky/gensim/pull/356</a>) and LabeldInstances class is fully replaced by TaggedDocument. It leads to major changes in the way to create input sentences.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2465#respond" onclick="return addComment.moveForm( &quot;comment-2465&quot;, &quot;2465&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to sky">Reply <input type="hidden" id="id_replay_for_comment" value="2465"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
<li id="li-comment-2466" class="comment odd alt thread-odd thread-alt depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/93670585cb463dade7226afc9d5ad17c" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2466" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Rob</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2466" class="x-comment-time"><time datetime="2015-07-20T11:27:31+00:00">2015-07-20 at 11:27 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Does pull 356 mean that you no longer need each document vector in RAM?</p>
<p>Also, which pull request was going to make doc2vec online? Is it the same one?</p>
<p>Thanks!! These implementations are amazing.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2466#respond" onclick="return addComment.moveForm( &quot;comment-2466&quot;, &quot;2466&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Rob">Reply <input type="hidden" id="id_replay_for_comment" value="2466"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
<li class="pingback even thread-even depth-1" id="comment-2467">
<p>Pingback: <a href="http://codeengine.org/how-to-train-pcategorytitle-model-with-word2vec/" rel="external nofollow" class="url">How to train p(category|title) model with word2vec - codeengine</a> </p>
</li> 
<li id="li-comment-2468" class="comment odd alt thread-odd thread-alt depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/0dd06bfa6989a268006bf10c9d376613" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2468" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Sagar Arora</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2468" class="x-comment-time"><time datetime="2015-08-12T08:02:46+00:00">2015-08-12 at 8:02 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Any updates on scalable version of doc2vec, the one which does not require all label vectors to be stored separately in RAM?</p>
<p>Looking forward to it</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2468#respond" onclick="return addComment.moveForm( &quot;comment-2468&quot;, &quot;2468&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Sagar Arora">Reply <input type="hidden" id="id_replay_for_comment" value="2468"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
<li id="li-comment-2471" class="comment even thread-even depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/c6c03b5f51c2c3cdb81751c3be20e043" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2471" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">arandomuser</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2471" class="x-comment-time"><time datetime="2015-09-15T01:47:26+00:00">2015-09-15 at 1:47 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Sorry but why you have published a “””tutorial””” (a)that is out of date, (b) hard to follow, (c) full of errors AND (d) you do not help people AT ALL. Someone post a link of github with a “new” tutorial. Looks that your company is funny and cannot be taken serious. I am looking for your response – if you have something to say.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2471#respond" onclick="return addComment.moveForm( &quot;comment-2471&quot;, &quot;2471&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to arandomuser">Reply <input type="hidden" id="id_replay_for_comment" value="2471"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2472" class="comment byuser comment-author-radim bypostauthor odd alt depth-2">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/radim.jpg" width="120" height="94" alt="Radim" class="avatar avatar-120 wp-user-avatar wp-user-avatar-120 alignnone photo"></span> <span class="bypostauthor">Post<br>Author</span></div> <article id="comment-2472" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author"><a href="http://radimrehurek.com/" rel="external nofollow" class="url">Radim</a></cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2472" class="x-comment-time"><time datetime="2015-09-15T03:59:15+00:00">2015-09-15 at 3:59 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Yeah, we should probably update this tutorial with the new one, instead of just putting a disclaimer on top.</p>
<p>What errors did you find here?</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2472#respond" onclick="return addComment.moveForm( &quot;comment-2472&quot;, &quot;2472&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Radim">Reply <input type="hidden" id="id_replay_for_comment" value="2472"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
</ol> 
</li> 
<li class="pingback even thread-odd thread-alt depth-1" id="comment-2474">
<p>Pingback: <a href="http://www.itsprite.com/pythonhow-to-calculate-the-sentence-similarity-using-word2vec-model-of-gensim-with-python/" rel="external nofollow" class="url">Python:How to calculate the sentence similarity using word2vec model of gensim with python – IT Sprite</a> </p>
</li> 
<li id="li-comment-2475" class="comment odd alt thread-even depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/b5dffdfee6a4aa9ebeef35d4a41bd19b" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2475" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Ola Gustafsson</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2475" class="x-comment-time"><time datetime="2015-10-31T14:37:29+00:00">2015-10-31 at 2:37 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>I’ve done some experimenting with doc2vec for recommendation purposes, looking for documents that share similar meaning, and the results seem very promising.</p>
<p>However, when training on a corpus and extracting vectors, these are not the same vectors as I get from the infer method, used on the same texts. I was expecting them to be identical, but was I right to do so? There are some alpha parameters both in training a model and at the infer stage. Are these or something else the reason behind different vectors?</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2475#respond" onclick="return addComment.moveForm( &quot;comment-2475&quot;, &quot;2475&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Ola Gustafsson">Reply <input type="hidden" id="id_replay_for_comment" value="2475"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
<li id="li-comment-2476" class="comment even thread-odd thread-alt depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/2f5e18882bf196d46782173731507a36" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2476" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">parisa</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2476" class="x-comment-time"><time datetime="2015-11-11T08:29:01+00:00">2015-11-11 at 8:29 am</time></a></div>
</header>
<section class="x-comment-content">
<p>hello<br>
I’m new in gensim and I want to extract semantic of document’s word,but I don’t know how to do it,I don’t know how to load my dataset and other steps,your tutorial is not full for beginners I study your tutorials but I don’t understand it,please help me I need it.<br>
thanks</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2476#respond" onclick="return addComment.moveForm( &quot;comment-2476&quot;, &quot;2476&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to parisa">Reply <input type="hidden" id="id_replay_for_comment" value="2476"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2477" class="comment byuser comment-author-radim bypostauthor odd alt depth-2">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/radim.jpg" width="120" height="94" alt="Radim" class="avatar avatar-120 wp-user-avatar wp-user-avatar-120 alignnone photo"></span> <span class="bypostauthor">Post<br>Author</span></div> <article id="comment-2477" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author"><a href="http://radimrehurek.com/" rel="external nofollow" class="url">Radim</a></cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2477" class="x-comment-time"><time datetime="2015-11-11T09:35:44+00:00">2015-11-11 at 9:35 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Hello parisa,</p>
<p>try the mailing list: <a href="http://radimrehurek.com/gensim/support.html" rel="nofollow">http://radimrehurek.com/gensim/support.html</a></p>
<p>But if you don’t know anything at all, it’s probably best to start with the basics (programming, python, numpy…), rather than jumping into advanced research like doc2vec.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2477#respond" onclick="return addComment.moveForm( &quot;comment-2477&quot;, &quot;2477&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Radim">Reply <input type="hidden" id="id_replay_for_comment" value="2477"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2479" class="comment even depth-3">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/2f5e18882bf196d46782173731507a36" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2479" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">parisa</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2479" class="x-comment-time"><time datetime="2015-11-13T10:11:45+00:00">2015-11-13 at 10:11 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Thanks but I don’t have any time for learning this,can you recommend me a person who can write this project for me???/</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2479#respond" onclick="return addComment.moveForm( &quot;comment-2479&quot;, &quot;2479&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to parisa">Reply <input type="hidden" id="id_replay_for_comment" value="2479"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
</ol> 
</li> 
</ol> 
</li> 
<li class="pingback odd alt thread-even depth-1" id="comment-2478">
<p>Pingback: <a href="http://www.itsprite.com/pythondoc2vec-how-to-get-document-vectors/" rel="external nofollow" class="url">Python:Doc2vec : How to get document vectors – IT Sprite</a> </p>
</li> 
<li id="li-comment-2480" class="comment even thread-odd thread-alt depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/4a8f0f1d55d90f2fc3a7d946729f8981" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2480" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Alex</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2480" class="x-comment-time"><time datetime="2015-11-18T13:09:01+00:00">2015-11-18 at 1:09 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>Big thanks, Radim! Is it possible to train paragraph representation using already trained word representations on really big corpus?<br>
When I just load pretrained model and then start to learn sentence vectors, I’m getting an error about non-existent keys in vocabulary.</p>
<p>Currently, I’ve just made my own version to cope with that, but I suppose I’m reinventing a wheel.</p>
<p>So, if I’m right, I’m ready to share a PR, and if I’m wrong — please give me some small ( but working ) example<br>
Thank you!</p>
<p>Best regards,<br>
Alex.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2480#respond" onclick="return addComment.moveForm( &quot;comment-2480&quot;, &quot;2480&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Alex">Reply <input type="hidden" id="id_replay_for_comment" value="2480"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
<li id="li-comment-2481" class="comment byuser comment-author-radim bypostauthor odd alt thread-even depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/radim.jpg" width="120" height="94" alt="Radim" class="avatar avatar-120 wp-user-avatar wp-user-avatar-120 alignnone photo"></span> <span class="bypostauthor">Post<br>Author</span></div> <article id="comment-2481" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author"><a href="http://radimrehurek.com/" rel="external nofollow" class="url">Radim</a></cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2481" class="x-comment-time"><time datetime="2015-11-18T13:20:49+00:00">2015-11-18 at 1:20 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>Hello Alex,</p>
<p>this question comes up regularly on the mailing list: for example <a href="https://groups.google.com/d/msg/gensim/SuST_VzhMTA/sUPHBIZVEgAJ" rel="nofollow">here</a> or <a href="https://groups.google.com/forum/#!topic/gensim/xKfA75kCv6Y" rel="nofollow">here</a>. It’s probably easiest to continue the discussion there.</p>
<p>Best,<br>
Radim</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2481#respond" onclick="return addComment.moveForm( &quot;comment-2481&quot;, &quot;2481&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Radim">Reply <input type="hidden" id="id_replay_for_comment" value="2481"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2482" class="comment even depth-2">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/4a8f0f1d55d90f2fc3a7d946729f8981" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2482" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Alex</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2482" class="x-comment-time"><time datetime="2015-11-18T13:33:16+00:00">2015-11-18 at 1:33 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>Thank you for prompt reply, but I mean slightly different thing. I have embeddings of pictures ( obtained from ConvNet), and wanted to compute paragraph2vec for them just to see whether wordsim will cook something usable for me.</p>
<p>That means, that I even have no “words” in usual sense ( my “words” are already embeddings ).</p>
<p>But in theory we have no problem for training par2vec for pictures, and so my question is just how to do this easily.</p>
<p>Thank you again in advance!</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2482#respond" onclick="return addComment.moveForm( &quot;comment-2482&quot;, &quot;2482&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Alex">Reply <input type="hidden" id="id_replay_for_comment" value="2482"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
</ol> 
</li> 
<li id="li-comment-2486" class="comment odd alt thread-odd thread-alt depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/b0fdbbdf89e02371898c8a64c195abdf" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2486" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Karan Singla</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2486" class="x-comment-time"><time datetime="2016-02-05T11:29:18+00:00">2016-02-05 at 11:29 am</time></a></div>
</header>
<section class="x-comment-content">
<p>I want to cluster the chat messages/sentences to group similar messages together. When a new comes, I want to assign a cluster to it. How would I get a vector for new message? As per one of the above questions, I will need to train the model every time I get a new sentence to obtain its vector. Is there a better approach? If I want to add 50-60k messages everyday, how to proceed? Will the model size grow linearly with the number of new messages?</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2486#respond" onclick="return addComment.moveForm( &quot;comment-2486&quot;, &quot;2486&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Karan Singla">Reply <input type="hidden" id="id_replay_for_comment" value="2486"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
<li id="li-comment-2487" class="comment even thread-even depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/f62aee9ddc14233d12aa40551d2b8eda" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2487" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">PS</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2487" class="x-comment-time"><time datetime="2016-02-09T01:48:40+00:00">2016-02-09 at 1:48 am</time></a></div>
</header>
<section class="x-comment-content">
<p>What happened to your good old doc2vec tutorial? :-O </p>
<p>It explained so nicely, the gensim api: how to load documents, train, test, similarity etc. Now, you have made it to look and feel so complicated. I guess a small writeup on how to work with your own data is required.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2487#respond" onclick="return addComment.moveForm( &quot;comment-2487&quot;, &quot;2487&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to PS">Reply <input type="hidden" id="id_replay_for_comment" value="2487"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2488" class="comment byuser comment-author-radim bypostauthor odd alt depth-2">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/radim.jpg" width="120" height="94" alt="Radim Rehurek" class="avatar avatar-120 wp-user-avatar wp-user-avatar-120 alignnone photo"></span> <span class="bypostauthor">Post<br>Author</span></div> <article id="comment-2488" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Radim Rehurek</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2488" class="x-comment-time"><time datetime="2016-02-09T02:49:58+00:00">2016-02-09 at 2:49 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Hello PS — do you mean the ipython notebook linked in the preamble here? Or what part concretely feels complicated?</p>
<p>I agree the doc2vec docs could (should!) be improved… always a struggle with open source projects. Everyone just scratching their own itch, and it’s rarely the documentation.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2488#respond" onclick="return addComment.moveForm( &quot;comment-2488&quot;, &quot;2488&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Radim Rehurek">Reply <input type="hidden" id="id_replay_for_comment" value="2488"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2489" class="comment even depth-3">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/f62aee9ddc14233d12aa40551d2b8eda" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2489" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">PS</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2489" class="x-comment-time"><time datetime="2016-02-10T03:07:40+00:00">2016-02-10 at 3:07 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Thanks for the quick reply Radim. I was referring to the original tutorial that you had (year and half back). I worked with doc2vec extensively when it came out and I remember, your description was good enough for me to start the *first* model. I thought of using doc2vec again for some project yesterday. And now it all looks so super complicated 😀 </p>
<p>I suppose, we could do a small write up for the most common use case: load your own data (both streaming and in-memory) , train it, get vectors, and predict new data.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2489#respond" onclick="return addComment.moveForm( &quot;comment-2489&quot;, &quot;2489&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to PS">Reply <input type="hidden" id="id_replay_for_comment" value="2489"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2490" class="comment byuser comment-author-radim bypostauthor odd alt depth-4">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/radim.jpg" width="120" height="94" alt="Radim Rehurek" class="avatar avatar-120 wp-user-avatar wp-user-avatar-120 alignnone photo"></span> <span class="bypostauthor">Post<br>Author</span></div> <article id="comment-2490" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Radim Rehurek</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2490" class="x-comment-time"><time datetime="2016-02-10T03:19:39+00:00">2016-02-10 at 3:19 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Oh yes, help with the docs would be most welcome!</p>
<p>But it’s better to discuss on the <a href="https://groups.google.com/d/forum/gensim" rel="nofollow">gensim mailing list</a>, so others can chime in and comment.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2490#respond" onclick="return addComment.moveForm( &quot;comment-2490&quot;, &quot;2490&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Radim Rehurek">Reply <input type="hidden" id="id_replay_for_comment" value="2490"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2491" class="comment even depth-5">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/f62aee9ddc14233d12aa40551d2b8eda" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2491" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">PS</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2491" class="x-comment-time"><time datetime="2016-02-10T03:41:38+00:00">2016-02-10 at 3:41 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Sure thing. Will do</p>
</section>
<div class="x-reply">
</div>
</article>
</li> 
</ol> 
</li> 
</ol> 
</li> 
</ol> 
</li> 
</ol> 
</li> 
<li id="li-comment-2492" class="comment odd alt thread-odd thread-alt depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/caea91083a00fdfab4827a5011999c62" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2492" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Ken Yeung</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2492" class="x-comment-time"><time datetime="2016-02-22T00:30:08+00:00">2016-02-22 at 12:30 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Hi Radim</p>
<p> Thanks for the great work on doc2vec in python. </p>
<p> I get a question of how to get similarity by using both word and tag? For example something like this below</p>
<p>model.most_similar(‘MOVIE_123’, ‘good’)</p>
<p>Also, how could I get the sentence as string based on the tag? if I only know the tag MOVIE_123, is it possible to get the original sentence as string?</p>
<p>Many thanks!</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2492#respond" onclick="return addComment.moveForm( &quot;comment-2492&quot;, &quot;2492&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Ken Yeung">Reply <input type="hidden" id="id_replay_for_comment" value="2492"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2493" class="comment byuser comment-author-radim bypostauthor even depth-2">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/radim.jpg" width="120" height="94" alt="Radim Rehurek" class="avatar avatar-120 wp-user-avatar wp-user-avatar-120 alignnone photo"></span> <span class="bypostauthor">Post<br>Author</span></div> <article id="comment-2493" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Radim Rehurek</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2493" class="x-comment-time"><time datetime="2016-02-22T07:59:21+00:00">2016-02-22 at 7:59 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Hello Ken,</p>
<p>have a look at the gensim mailing list, that is the standard support channel. I believe your question is answered there (e.g.<br>
<a href="https://groups.google.com/forum/#!topic/gensim/h5iftGRFF18" rel="nofollow">https://groups.google.com/forum/#!topic/gensim/h5iftGRFF18</a>).</p>
<p>Best,<br>
Radim</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2493#respond" onclick="return addComment.moveForm( &quot;comment-2493&quot;, &quot;2493&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Radim Rehurek">Reply <input type="hidden" id="id_replay_for_comment" value="2493"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2494" class="comment odd alt depth-3">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/caea91083a00fdfab4827a5011999c62" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2494" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Ken</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2494" class="x-comment-time"><time datetime="2016-02-22T14:29:26+00:00">2016-02-22 at 2:29 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>Hi Radim,</p>
<p> Seems the question in the mailing list is about multiple tags on a sentence. However, my question is more about how to query similarity with both word and tag together. do you know how it might be done with gensim? Thanks.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2494#respond" onclick="return addComment.moveForm( &quot;comment-2494&quot;, &quot;2494&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Ken">Reply <input type="hidden" id="id_replay_for_comment" value="2494"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
</ol> 
</li> 
</ol> 
</li> 
<li id="li-comment-2497" class="comment even thread-even depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/9bce8a09266039b56f770ec08401b2fa" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2497" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Koorm</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2497" class="x-comment-time"><time datetime="2016-03-21T08:40:21+00:00">2016-03-21 at 8:40 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Hi Radim. I am having a hard time getting your tutorial to run. A basic case solution will be nice: Read 2 documents from a file where each document has 1 sentence per line, and build the doc2vec model. What you have fails here and there. For example, </p>
<p>import gensim<br>
import numpy<br>
import random<br>
import os</p>
<p>sentence = gensim.models.doc2vec.LabeledSentence(words=[u’some’, u’words’, u’here’], tags=[u’SENT_1′])<br>
model = gensim.models.doc2vec.Doc2Vec(alpha=0.025, min_alpha=0.025)<br>
model.build_vocab(sentence)</p>
<p>fails:</p>
<p>—————————————————————————<br>
AttributeError Traceback (most recent call last)<br>
in ()<br>
6 sentence = gensim.models.doc2vec.LabeledSentence(words=[u’some’, u’words’, u’here’], tags=[u’SENT_1′])<br>
7 model = gensim.models.doc2vec.Doc2Vec(alpha=0.025, min_alpha=0.025)<br>
—-&gt; 8 model.build_vocab(sentence)</p>
<p>/home/ehsan/anaconda2/lib/python2.7/site-packages/gensim-0.12.4-py2.7-linux-x86_64.egg/gensim/models/word2vec.pyc in build_vocab(self, sentences, keep_raw_vocab, trim_rule)<br>
506<br>
507 “””<br>
–&gt; 508 self.scan_vocab(sentences, trim_rule=trim_rule) # initial survey<br>
509 self.scale_vocab(keep_raw_vocab=keep_raw_vocab, trim_rule=trim_rule) # trim by min_count &amp; precalculate downsampling<br>
510 self.finalize_vocab() # build tables &amp; arrays</p>
<p>/home/ehsan/anaconda2/lib/python2.7/site-packages/gensim-0.12.4-py2.7-linux-x86_64.egg/gensim/models/doc2vec.pyc in scan_vocab(self, documents, progress_per, trim_rule)<br>
637 interval_start = default_timer()<br>
638 interval_count = total_words<br>
–&gt; 639 document_length = len(document.words)<br>
640<br>
641 for tag in document.tags:</p>
<p>AttributeError: ‘list’ object has no attribute ‘words’</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2497#respond" onclick="return addComment.moveForm( &quot;comment-2497&quot;, &quot;2497&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Koorm">Reply <input type="hidden" id="id_replay_for_comment" value="2497"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
<li id="li-comment-2498" class="comment odd alt thread-odd thread-alt depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/ebc5645f6f43d44c1a30b45a677995f9" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2498" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Ying</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2498" class="x-comment-time"><time datetime="2016-04-12T07:35:27+00:00">2016-04-12 at 7:35 am</time></a></div>
</header>
<section class="x-comment-content">
<p>if my document label is not unique, the same document may have different labels and a few documents have a same label. The form of the answer of model.docvecs[label1] is as follow:<br>
[[[ 0.1111, 0.1111, 0.0222, 1.555,….]<br>
[0.444, 0.555, 1.788, -0.222……..]<br>
……<br>
[0.555, -0.7777, ……..]]]<br>
that is all the vectors of documents haing the label [label1]? and how can I get each of it?</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2498#respond" onclick="return addComment.moveForm( &quot;comment-2498&quot;, &quot;2498&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Ying">Reply <input type="hidden" id="id_replay_for_comment" value="2498"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2499" class="comment byuser comment-author-radim bypostauthor even depth-2">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/radim.jpg" width="120" height="94" alt="Radim Řehůřek" class="avatar avatar-120 wp-user-avatar wp-user-avatar-120 alignnone photo"></span> <span class="bypostauthor">Post<br>Author</span></div> <article id="comment-2499" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author"><a href="http://radimrehurek.com/" rel="external nofollow" class="url">Radim Řehůřek</a></cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2499" class="x-comment-time"><time datetime="2016-04-12T08:22:53+00:00">2016-04-12 at 8:22 am</time></a></div>
</header>
<section class="x-comment-content">
<p>The best place for such questions is the gensim mailing list.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2499#respond" onclick="return addComment.moveForm( &quot;comment-2499&quot;, &quot;2499&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Radim Řehůřek">Reply <input type="hidden" id="id_replay_for_comment" value="2499"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2500" class="comment odd alt depth-3">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/ebc5645f6f43d44c1a30b45a677995f9" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2500" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Ying</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2500" class="x-comment-time"><time datetime="2016-04-18T11:35:00+00:00">2016-04-18 at 11:35 am</time></a></div>
</header>
<section class="x-comment-content">
<p>what is the gensim mailing list</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2500#respond" onclick="return addComment.moveForm( &quot;comment-2500&quot;, &quot;2500&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Ying">Reply <input type="hidden" id="id_replay_for_comment" value="2500"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
</ol> 
</li> 
</ol> 
</li> 
<li id="li-comment-2501" class="comment even thread-even depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/f7545744e05753bc087908e375f3bee3" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2501" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Tim</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2501" class="x-comment-time"><time datetime="2016-04-18T22:12:01+00:00">2016-04-18 at 10:12 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>Hi can you please let me know what exactly is the output of the build_vocab method given a corpus of tagged documents?</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2501#respond" onclick="return addComment.moveForm( &quot;comment-2501&quot;, &quot;2501&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Tim">Reply <input type="hidden" id="id_replay_for_comment" value="2501"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2502" class="comment byuser comment-author-radim bypostauthor odd alt depth-2">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/radim.jpg" width="120" height="94" alt="Radim Řehůřek" class="avatar avatar-120 wp-user-avatar wp-user-avatar-120 alignnone photo"></span> <span class="bypostauthor">Post<br>Author</span></div> <article id="comment-2502" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author"><a href="http://radimrehurek.com/" rel="external nofollow" class="url">Radim Řehůřek</a></cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2502" class="x-comment-time"><time datetime="2016-04-19T01:15:59+00:00">2016-04-19 at 1:15 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Hello Tim, the “build_vocab” method has no output (“None” in Python).</p>
<p>If you have any additional questions, gensim mailing list is the best place for them.</p>
<p>Best,<br>
Radim</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2502#respond" onclick="return addComment.moveForm( &quot;comment-2502&quot;, &quot;2502&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Radim Řehůřek">Reply <input type="hidden" id="id_replay_for_comment" value="2502"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
</ol> 
</li> 
<li id="li-comment-2503" class="comment even thread-odd thread-alt depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/ed860efab18e0e4d7a47bc7be872896a" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2503" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Wayne</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2503" class="x-comment-time"><time datetime="2016-04-20T11:21:56+00:00">2016-04-20 at 11:21 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Hi Radim.<br>
Thank you for your great work. I am try the doc2vec for documents’ classification( use the infer_vector to get the vector for new documents<br>
I want to ask:<br>
1. Whether should I split one document into multiple lines?<br>
2. If I split each document, should I set the same one tag for these lines from one document?<br>
3. If the multiple lines have the same tag, how does the algorithm work for the tag when training the model?<br>
Thank you very much?</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2503#respond" onclick="return addComment.moveForm( &quot;comment-2503&quot;, &quot;2503&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Wayne">Reply <input type="hidden" id="id_replay_for_comment" value="2503"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
<ol class="children">
<li id="li-comment-2504" class="comment byuser comment-author-radim bypostauthor odd alt depth-2">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/radim.jpg" width="120" height="94" alt="Radim Řehůřek" class="avatar avatar-120 wp-user-avatar wp-user-avatar-120 alignnone photo"></span> <span class="bypostauthor">Post<br>Author</span></div> <article id="comment-2504" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author"><a href="http://radimrehurek.com/" rel="external nofollow" class="url">Radim Řehůřek</a></cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2504" class="x-comment-time"><time datetime="2016-04-21T01:30:12+00:00">2016-04-21 at 1:30 am</time></a></div>
</header>
<section class="x-comment-content">
<p>Hello Wayne,</p>
<p>you’ll get most success asking such questions at the <a href="https://groups.google.com/d/forum/gensim" rel="nofollow">gensim mailing list</a> (+searching the mailing list archive for previous answers first).</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2504#respond" onclick="return addComment.moveForm( &quot;comment-2504&quot;, &quot;2504&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Radim Řehůřek">Reply <input type="hidden" id="id_replay_for_comment" value="2504"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
</ol> 
</li> 
<li id="li-comment-2506" class="comment even thread-even depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/6d259bc34429a47d61d2a27d8605815c" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2506" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">ahmed mohammed</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2506" class="x-comment-time"><time datetime="2016-05-15T17:18:08+00:00">2016-05-15 at 5:18 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>Hi Radim<br>
nice job i have learnt a lot from your tutorials and posts. i am facing a big challenge using gensim to check for semantic similarity in 20newsgroups. assuming i have a word or sentence to check for its similarity from all categories found in 20newsgroup. how am i suppose to do this with gensim. Thank u.</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2506#respond" onclick="return addComment.moveForm( &quot;comment-2506&quot;, &quot;2506&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to ahmed mohammed">Reply <input type="hidden" id="id_replay_for_comment" value="2506"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
<li id="li-comment-2561" class="comment odd alt thread-odd thread-alt depth-1">
<div class="x-comment-img"><span class="avatar-wrap cf"><img src="./Doc2vec tutorial _ RaRe Technologies_files/fcd1e024b23f0a1b846fd6fad3b6b854" width="120" height="120" alt="" class="avatar avatar-120wp-user-avatar wp-user-avatar-120 alignnone photo avatar-default"></span> </div> <article id="comment-2561" class="comment">
<header class="x-comment-header">
<cite class="x-comment-author">Haroon</cite><div><a href="https://rare-technologies.com/doc2vec-tutorial/#comment-2561" class="x-comment-time"><time datetime="2016-09-08T14:16:30+00:00">2016-09-08 at 2:16 pm</time></a></div>
</header>
<section class="x-comment-content">
<p>hello just discovered your blog…bookmarked!</p>
<p>Quick thing, I think the label attribute should is called tag in Doc2Vec now. </p>
<p>thanks much</p>
</section>
<div class="x-reply">
<a rel="nofollow" class="comment-reply-link" href="https://rare-technologies.com/doc2vec-tutorial/?replytocom=2561#respond" onclick="return addComment.moveForm( &quot;comment-2561&quot;, &quot;2561&quot;, &quot;respond&quot;, &quot;2093&quot; )" aria-label="Reply to Haroon">Reply <input type="hidden" id="id_replay_for_comment" value="2561"> <span class="comment-reply-link-after"><i class="x-icon-reply" data-x-icon=""></i></span></a> </div>
</article>
</li> 
<li class="pingback even thread-even depth-1" id="comment-2564">
<p>Pingback: <a href="https://badripatro.wordpress.com/2016/07/31/visual-question-answer/" rel="external nofollow" class="url">Visual Question Answer – badripatro</a> </p>
</li> 
<li class="pingback odd alt thread-odd thread-alt depth-1" id="comment-2565">
<p>Pingback: <a href="http://gurmezin.com/gensim-vektorel-dokuman-egitimi/" rel="external nofollow" class="url">Gensim Vektörel Doküman Eğitimi - gurmezin sci-tech-art</a> </p>
</li> 
<li class="pingback even thread-even depth-1" id="comment-2588">
<p>Pingback: <a href="https://amsterdam.luminis.eu/2017/01/16/googling-doc2vec/" rel="external nofollow" class="url">Googling doc2vec - Luminis Amsterdam : Luminis Amsterdam</a> </p>
</li> 
<li class="pingback odd alt thread-odd thread-alt depth-1" id="comment-2600">
<p>Pingback: <a href="https://amsterdam.luminis.eu/2017/01/30/implementing-doc2vec/" rel="external nofollow" class="url">Implementing doc2vec - Luminis Amsterdam : Luminis Amsterdam</a> </p>
</li> 
</ol>
<div id="respond" class="comment-respond">
 <form action="https://rare-technologies.com/wp-comments-post.php" method="post" id="commentform" class="comment-form anti-spam-form-processed"><h3 id="comments_disabled" class="comment-reply-title"><a class="anchor dashicons" href="https://rare-technologies.com/doc2vec-tutorial/#comments_disabled"></a>Comments disabled.</h3><p class="comment-notes">The discussion is closed. Visit http://radimrehurek.com/gensim/support.html for support.</p>
<p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" aria-required="true" required="required" disabled=""></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" aria-required="true" required="required" disabled=""></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" maxlength="100" aria-describedby="email-notes" aria-required="true" required="required" disabled=""></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" maxlength="200" disabled=""></p>
<p class="form-submit"><input name="submit" type="submit" id="entry-comment-submit" class="submit" value="Submit" disabled=""> <input type="hidden" name="comment_post_ID" value="2093" id="comment_post_ID" disabled="">
<input type="hidden" name="comment_parent" id="comment_parent" value="0" disabled="">
</p> <p class="antispam-group antispam-group-q" style="clear: both; display: none;">
<label>Current ye@r <span class="required">*</span></label>
<input type="hidden" name="antspm-a" class="antispam-control antispam-control-a" value="2017" disabled="">
<input type="text" name="antspm-q" class="antispam-control antispam-control-q" value="4.2" autocomplete="off" disabled="">
</p>
<p class="antispam-group antispam-group-e" style="display: none;">
<label>Leave this field empty</label>
<input type="text" name="antspm-e-email-url-website" class="antispam-control antispam-control-e" value="" autocomplete="off" disabled="">
</p>
<input type="hidden" name="antspm-d" class="antispam-control antispam-control-d" value="2017"></form>
</div> 
</div>
</div>
<aside class="x-sidebar right" role="complementary">
<div id="x_child_post_author-2" class="widget x_child_post_author"><h4 class="h-widget">Author of Post</h4><img src="./Doc2vec tutorial _ RaRe Technologies_files/radim.jpg" width="265" height="208" alt="Radim Řehůřek" class="avatar avatar-300 wp-user-avatar wp-user-avatar-300 alignnone photo"><br><h5>Radim Řehůřek's bio:</h5>A full-stack engineer with over 10 years of industry experience in machine learning. Creator of gensim, founder at RaRe Technologies. Lover of history and beginnings in general. A world nomad, currently hailing from the beautiful island of Geoje, South Korea. Occasional travel blogger.</div><div id="text-4" class="widget widget_text"><h4 class="h-widget">Need Expert Consulting in ML and NLP?</h4> <div class="textwidget"><div role="form" class="wpcf7" id="wpcf7-f8690-o1" lang="en-US" dir="ltr">
<div class="screen-reader-response"></div>
<form action="https://rare-technologies.com/doc2vec-tutorial/#wpcf7-f8690-o1" method="post" class="wpcf7-form" novalidate="novalidate">
<div style="display: none;">
<input type="hidden" name="_wpcf7" value="8690">
<input type="hidden" name="_wpcf7_version" value="4.6.1">
<input type="hidden" name="_wpcf7_locale" value="en_US">
<input type="hidden" name="_wpcf7_unit_tag" value="wpcf7-f8690-o1">
<input type="hidden" name="_wpnonce" value="fb62239643">
</div>
<div class="_form contact-form">
<p class="x-column x-sm vc x-1-2"><span class="wpcf7-form-control-wrap your-name"><input type="text" name="your-name" value="" size="40" class="wpcf7-form-control wpcf7-text wpcf7-validates-as-required" aria-required="true" aria-invalid="false" placeholder="Your Name"></span> </p>
<p class="x-column x-sm vc x-1-2"><span class="wpcf7-form-control-wrap email"><input type="email" name="email" value="" size="40" class="wpcf7-form-control wpcf7-text wpcf7-email wpcf7-validates-as-required wpcf7-validates-as-email" aria-required="true" aria-invalid="false" placeholder="Email"></span> </p>
<p><span class="wpcf7-form-control-wrap salary-27-wrap" style="display:none !important; visibility:hidden !important;"><input class="wpcf7-form-control wpcf7-text" type="text" name="salary-27" value="" size="40" tabindex="-1"><span class="hp-message">Please leave this field empty.</span></span></p>
<p class="x-column x-sm vc x-1-1"><span class="wpcf7-form-control-wrap your-message"><textarea name="your-message" cols="40" rows="10" class="wpcf7-form-control wpcf7-textarea wpcf7-validates-as-required" aria-required="true" aria-invalid="false" placeholder="Project Details"></textarea></span> </p>
<p class="x-column x-sm vc x-1-1"><input type="submit" value="Send" class="wpcf7-form-control wpcf7-submit"><span class="ajax-loader"></span></p>
</div>
<div class="wpcf7-response-output wpcf7-display-none"></div></form></div></div>
</div><div id="categories-2" class="widget widget_categories"><h4 class="h-widget">Categories</h4><label class="screen-reader-text" for="cat">Categories</label><select name="cat" id="cat" class="postform">
<option value="-1">Select Category</option>
<option class="level-0" value="139">gensim</option>
<option class="level-0" value="165">Go</option>
<option class="level-0" value="176">Google Summer of Code 2016</option>
<option class="level-0" value="158">Machine Learning</option>
<option class="level-0" value="177">Open Source</option>
<option class="level-0" value="216">podcast</option>
<option class="level-0" value="144">politics</option>
<option class="level-0" value="140">programming</option>
<option class="level-0" value="166">PyCon</option>
<option class="level-0" value="146">startups</option>
<option class="level-0" value="178">Student Incubator</option>
<option class="level-0" value="1">Uncategorized</option>
</select>
<script type="text/javascript">
/* <![CDATA[ */
(function() {
	var dropdown = document.getElementById( "cat" );
	function onCatChange() {
		if ( dropdown.options[ dropdown.selectedIndex ].value > 0 ) {
			location.href = "https://rare-technologies.com/?cat=" + dropdown.options[ dropdown.selectedIndex ].value;
		}
	}
	dropdown.onchange = onCatChange;
})();
/* ]]> */
</script>
</div><div id="archives-2" class="widget widget_archive"><h4 class="h-widget">Archives</h4> <label class="screen-reader-text" for="archives-dropdown-2">Archives</label>
<select id="archives-dropdown-2" name="archive-dropdown" onchange="document.location.href=this.options[this.selectedIndex].value;">
<option value="">Select Month</option>
<option value="https://rare-technologies.com/2017/03/"> March 2017 </option>
<option value="https://rare-technologies.com/2017/02/"> February 2017 </option>
<option value="https://rare-technologies.com/2017/01/"> January 2017 </option>
<option value="https://rare-technologies.com/2016/12/"> December 2016 </option>
<option value="https://rare-technologies.com/2016/10/"> October 2016 </option>
<option value="https://rare-technologies.com/2016/08/"> August 2016 </option>
<option value="https://rare-technologies.com/2016/07/"> July 2016 </option>
<option value="https://rare-technologies.com/2016/06/"> June 2016 </option>
<option value="https://rare-technologies.com/2016/05/"> May 2016 </option>
<option value="https://rare-technologies.com/2016/02/"> February 2016 </option>
<option value="https://rare-technologies.com/2015/08/"> August 2015 </option>
<option value="https://rare-technologies.com/2014/12/"> December 2014 </option>
<option value="https://rare-technologies.com/2014/09/"> September 2014 </option>
<option value="https://rare-technologies.com/2014/03/"> March 2014 </option>
<option value="https://rare-technologies.com/2014/02/"> February 2014 </option>
<option value="https://rare-technologies.com/2014/01/"> January 2014 </option>
<option value="https://rare-technologies.com/2013/12/"> December 2013 </option>
<option value="https://rare-technologies.com/2013/11/"> November 2013 </option>
<option value="https://rare-technologies.com/2013/10/"> October 2013 </option>
<option value="https://rare-technologies.com/2013/09/"> September 2013 </option>
<option value="https://rare-technologies.com/2013/08/"> August 2013 </option>
</select>
</div> <div id="recent-posts-2" class="widget widget_recent_entries"> <h4 class="h-widget">Recent Posts</h4> <ul>
<li>
<a href="https://rare-technologies.com/rrp-2-john-d-cook-consulting/">RRP #2: John D. Cook on math consulting, Python and going solo</a>
</li>
<li>
<a href="https://rare-technologies.com/gensim-switches-to-semantic-versioning/">Gensim switches to semantic versioning</a>
</li>
<li>
<a href="https://rare-technologies.com/rrp-1-tomas-mikolov-on-word2vec-and-ai-research-at-microsoft-google-facebook/">RRP #1: Tomáš Mikolov on word2vec and AI research at Microsoft, Google, Facebook</a>
</li>
<li>
<a href="https://rare-technologies.com/wordrank-embedding-crowned-is-most-similar-to-king-not-word2vecs-canute/">WordRank embedding: “crowned” is most similar to “king”, not word2vec’s “Canute”</a>
</li>
<li>
<a href="https://rare-technologies.com/new-gensim-feature-author-topic-modeling-lda-with-metadata/">New Gensim feature: Author-topic modeling. LDA with metadata.</a>
</li>
</ul>
</div> </aside>
</div>
<a class="x-scroll-top right fade" href="https://rare-technologies.com/doc2vec-tutorial/#top" title="Back to Top">
<i class="x-icon-angle-up" data-x-icon=""></i>
</a>
<script>

  jQuery(document).ready(function($) {

    var windowObj            = $(window);
    var body                 = $('body');
    var bodyOffsetBottom     = windowObj.scrollBottom();             // 1
    var bodyHeightAdjustment = body.height() - bodyOffsetBottom;     // 2
    var bodyHeightAdjusted   = body.height() - bodyHeightAdjustment; // 3
    var scrollTopAnchor      = $('.x-scroll-top');

    function sizingUpdate(){
      var bodyOffsetTop = windowObj.scrollTop();
      if ( bodyOffsetTop > ( bodyHeightAdjusted * 0.25 ) ) {
        scrollTopAnchor.addClass('in');
      } else {
        scrollTopAnchor.removeClass('in');
      }
    }

    windowObj.bind('scroll', sizingUpdate).resize(sizingUpdate);
    sizingUpdate();

    scrollTopAnchor.click(function(){
      $('html,body').animate({ scrollTop: 0 }, 850, 'easeInOutExpo');
      return false;
    });

  });

  </script>
<footer class="x-colophon top" role="contentinfo">
<div class="x-container max width">
<div class="x-column x-md x-1-1 last"><div id="text-2" class="widget widget_text"> <div class="textwidget"><h4 id="newsletter">STAY AHEAD OF THE CURVE</h4>
<h5>Get our latest tutorials, updates and insights delivered straight to your inbox.</h5></div>
</div><div id="mc4wp_form_widget-3" class="widget widget_mc4wp_form_widget"><script type="text/javascript">(function() {
	if (!window.mc4wp) {
		window.mc4wp = {
			listeners: [],
			forms    : {
				on: function (event, callback) {
					window.mc4wp.listeners.push({
						event   : event,
						callback: callback
					});
				}
			}
		}
	}
})();
</script> <form id="mc4wp-form-2" class="mc4wp-form mc4wp-form-7558" method="post" data-id="7558" data-name="Subscribe form"><div class="mc4wp-form-fields"><div class="_form wpcf7 x-container max width wpb_row">
<p class="x-column x-sm vc x-1-6"></p>
<p class="x-column x-sm vc x-1-4"><span class="wpcf7-form-control-wrap"><input type="text" name="FNAME" placeholder="Your first name" class="wpcf7-form-control wpcf7-text"></span></p>
<p class="x-column x-sm vc x-1-4"><span class="wpcf7-form-control-wrap your-email"><input type="email" name="EMAIL" placeholder="Your email address" required="" class="wpcf7-form-control wpcf7-text wpcf7-email"></span></p>
<p class="x-column x-sm vc x-1-4 submit"><input type="submit" value="Subscribe" class="wpcf7-form-control wpcf7-submit"></p>
</div><div style="display: none;"><input type="text" name="_mc4wp_honeypot" value="" tabindex="-1" autocomplete="off"></div><input type="hidden" name="_mc4wp_timestamp" value="1489716147"><input type="hidden" name="_mc4wp_form_id" value="7558"><input type="hidden" name="_mc4wp_form_element_id" value="mc4wp-form-2"></div><div class="mc4wp-response"></div></form> </div><div id="text-3" class="widget widget_text"> <div class="textwidget">1-2 times a month, if lucky. Your information will not be shared.</div>
</div></div>
</div>
</footer>
<footer class="x-colophon bottom" role="contentinfo">
<div class="x-container max width">
<div class="x-column x-sm vc x-1-4 footer-logo">
<a href="https://rare-technologies.com/doc2vec-tutorial/"><img src="./Doc2vec tutorial _ RaRe Technologies_files/footer-logo.png" width="164px" height="52px"></a>
</div>
<div class="x-column x-sm vc x-1-2">
<ul id="menu-footer" class="x-nav"><li id="menu-item-8587" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8587"><a href="https://rare-technologies.com/services/">Services</a></li>
<li id="menu-item-8585" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8585"><a href="https://rare-technologies.com/careers/">Careers</a></li>
<li id="menu-item-8756" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8756"><a href="https://rare-technologies.com/our-team/">Our Team</a></li>
<li id="menu-item-8586" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8586"><a href="https://rare-technologies.com/corporate-training/">Corporate Training</a></li>
<li id="menu-item-8588" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-8588"><a href="https://rare-technologies.com/blog/">Blog</a></li>
<li id="menu-item-8591" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8591"><a href="https://rare-technologies.com/incubator/">Incubator</a></li>
<li id="menu-item-8590" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8590"><a href="https://rare-technologies.com/contact/">Contact</a></li>
<li id="menu-item-8589" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8589"><a href="https://rare-technologies.com/competitions/">Competitions</a></li>
<li id="menu-item-8429" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8429"><a href="https://rare-technologies.com/sitemap">Site Map</a></li>
</ul> </div>
<div class="x-column x-sm vc x-1-4">
<div class="footer-content-block">
RaRe Technologies<br>
<a href="mailto:info@rare-technologies.com"><i class="fa fa-envelope"></i> info@rare-technologies.com</a><br>
<span style="display: none"><i class="fa fa-map-marker"></i>Světova 5, Prague, Czech Republic<br></span>
<i class="fa fa-mobile"></i> (US) 1-617-901-0264<br>
<i class="fa fa-mobile" style="opacity: 0.0"></i> (EU) +420 776 288 853<br> </div>
<div class="x-social-global"><a href="https://www.facebook.com/RaReTechnologies" class="facebook" title="Facebook" target="_blank"><i class="x-icon-facebook-square" data-x-icon="" aria-hidden="true"></i></a><a href="https://twitter.com/RaReTechTeam" class="twitter" title="Twitter" target="_blank"><i class="x-icon-twitter-square" data-x-icon="" aria-hidden="true"></i></a><a href="https://www.linkedin.com/company/6457766" class="linkedin" title="LinkedIn" target="_blank"><i class="x-icon-linkedin-square" data-x-icon="" aria-hidden="true"></i></a><a href="https://github.com/piskvorky/" class="github" title="GitHub" target="_blank"><i class="x-icon-github-square" data-x-icon="" aria-hidden="true"></i></a><a href="https://rare-technologies.com/feed/" class="rss" title="RSS" target="_blank"><i class="x-icon-rss-square" data-x-icon="" aria-hidden="true"></i></a></div> </div>
</div>
</footer>
<div class="x-searchform-overlay">
<div class="x-searchform-overlay-inner">
<div class="x-container max width">
<form method="get" id="searchform" class="form-search center-text" action="https://rare-technologies.com/">
<label for="s" class="cfc-h-tx tt-upper">Type and Press “enter” to Search</label>
<input type="text" id="s" class="search-query cfc-h-tx center-text tt-upper" name="s">
</form>
</div>
</div>
</div>
</div><iframe name="_hjRemoteVarsFrame" title="_hjRemoteVarsFrame" id="_hjRemoteVarsFrame" src="./Doc2vec tutorial _ RaRe Technologies_files/rcj-99d43ead6bdf30da8ed5ffcb4f17100c.html" style="display: none !important; width: 1px !important; height: 1px !important; opacity: 0 !important; pointer-events: none !important;"></iframe>  
<script type="text/javascript">(function() {function addEventListener(element,event,handler) {
	if(element.addEventListener) {
		element.addEventListener(event,handler, false);
	} else if(element.attachEvent){
		element.attachEvent('on'+event,handler);
	}
}function maybePrefixUrlField() {
	if(this.value.trim() !== '' && this.value.indexOf('http') !== 0) {
		this.value = "http://" + this.value;
	}
}

var urlFields = document.querySelectorAll('.mc4wp-form input[type="url"]');
if( urlFields && urlFields.length > 0 ) {
	for( var j=0; j < urlFields.length; j++ ) {
		addEventListener(urlFields[j],'blur',maybePrefixUrlField);
	}
}/* test if browser supports date fields */
var testInput = document.createElement('input');
testInput.setAttribute('type', 'date');
if( testInput.type !== 'date') {

	/* add placeholder & pattern to all date fields */
	var dateFields = document.querySelectorAll('.mc4wp-form input[type="date"]');
	for(var i=0; i<dateFields.length; i++) {
		if(!dateFields[i].placeholder) {
			dateFields[i].placeholder = 'YYYY-MM-DD';
		}
		if(!dateFields[i].pattern) {
			dateFields[i].pattern = '[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])';
		}
	}
}

})();</script> <script>
      if (document.location.protocol != "https:") {
          document.location = document.URL.replace(/^http:/i, "https:");
      }
      </script>
<script type="text/javascript" src="./Doc2vec tutorial _ RaRe Technologies_files/shCore.js"></script>
<script type="text/javascript" src="./Doc2vec tutorial _ RaRe Technologies_files/shBrushPython.js"></script>
<script type="text/javascript">
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://rare-technologies.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "https://rare-technologies.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
<script type="text/javascript" src="./Doc2vec tutorial _ RaRe Technologies_files/anti-spam-4.2.js"></script>
<script type="text/javascript" src="./Doc2vec tutorial _ RaRe Technologies_files/jquery.form.min.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var _wpcf7 = {"recaptcha":{"messages":{"empty":"Please verify that you are not a robot."}},"cached":"1"};
/* ]]> */
</script>
<script type="text/javascript" src="./Doc2vec tutorial _ RaRe Technologies_files/scripts.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var x_email_forms = {"ajaxurl":"https:\/\/rare-technologies.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type="text/javascript" src="./Doc2vec tutorial _ RaRe Technologies_files/main.js"></script>
<script type="text/javascript" src="./Doc2vec tutorial _ RaRe Technologies_files/x-body.min.js"></script>
<script type="text/javascript" src="./Doc2vec tutorial _ RaRe Technologies_files/comment-reply.min.js"></script>
<script type="text/javascript" src="./Doc2vec tutorial _ RaRe Technologies_files/cs-body.min.js"></script>
<script type="text/javascript" src="./Doc2vec tutorial _ RaRe Technologies_files/x_child_script_first.js"></script>
<script type="text/javascript" src="./Doc2vec tutorial _ RaRe Technologies_files/wp-embed.min.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var mc4wp_forms_config = [];
/* ]]> */
</script>
<script type="text/javascript" src="./Doc2vec tutorial _ RaRe Technologies_files/forms-api.min.js"></script>
<!--[if lte IE 9]>
<script type='text/javascript' src='//rare-technologies.com/wp-content/plugins/mailchimp-for-wp/assets/js/third-party/placeholders.min.js?ver=4.0.12'></script>
<![endif]-->
<script id="x-customizer-js">
      jQuery(document).ready(function($){

    "use strict";
	if($('#job-popup').length > 0) {
		$('#job-popup').prepend('<div class="close">X</div>')
	}
	$('.vacancy .x-accordion-inner a.x-btn, .x-accordion-inner.apply a.x-btn').on('click', function(e) {
		e.preventDefault();
		var position = $(this).closest('.x-accordion-group');
		var position_name = position.children('.x-accordion-heading').text();
		if($('.job-wrapper').length > 0) {
			$('.job-wrapper').show();
			$('.job-wrapper input[name="position"]').val(position_name);
		} else {
			alert('No Contact-form found!');
		}
		
	});
	$('.job-wrapper .x-column').on('click', function(e) {
		if (e.target !== this)
			return;
		
		$('.job-wrapper').hide();
	});
	$('.job-wrapper .close').on('click', function(e) {
		$('.job-wrapper').hide();
	});
	$(document).keyup(function(e) {
		if (e.keyCode == 27) {$('.job-wrapper').hide();}
	});
  var _top = $(window).scrollTop();
  var _nav = $('.x-navbar');
  $(window).scroll(function menuToggle() {
		var _cur_top = $(window).scrollTop();
		if (_top > _cur_top && _top > 300) {
			_nav.removeClass('hide');
			setTimeout(function() {
				_nav.addClass('top');
			}, 10);
			var $height = _nav.height();
			$height += 50;
			$height += "px";
			_nav.next().css("padding-top", $height);
			_nav.css("height", '$height');
		} else if (_cur_top < 1) {
			_nav.removeClass('top');
			_nav.removeClass('hide');
			_nav.next().css("padding-top", '');
		} else if (_top < _cur_top && _top > 300) {
      _nav.addClass('hide');
			_nav.removeClass('top');
		}
		_top = $(window).scrollTop();
	});
  
function addAnchors(){
    //loop through all your headers
    $.each($('h1, h2, h3'),function(){
        //append the text of your header to a list item in a div, linking to an anchor we will create on the next line
        var link_text = $(this).text().replace(/[^a-z0-9\s]/gi, '').split(' ').join('_').trim().toLowerCase();
        var heading_text = $(this).text();
        var link = link_text.substring(0, 30);
       if(link.length > 29){
          var parts = link.split('_');
        	var loc = parts.pop();
					var link = parts.join('_');
        }
        
        $(this).attr('id', link);
        //$(this).html(heading_text);
        $(this).prepend('<a class="anchor dashicons" href="#'+link+'"></a>');
    });
}
  addAnchors();
});    </script>
<script>/* <![CDATA[ */(function(d,s,a,i,j,r,l,m,t){try{l=d.getElementsByTagName('a');t=d.createElement('textarea');for(i=0;l.length-i;i++){try{a=l[i].href;s=a.indexOf('/cdn-cgi/l/email-protection');m=a.length;if(a&&s>-1&&m>28){j=28+s;s='';if(j<m){r='0x'+a.substr(j,2)|0;for(j+=2;j<m&&a.charAt(j)!='X';j+=2)s+='%'+('0'+('0x'+a.substr(j,2)^r).toString(16)).slice(-2);j++;s=decodeURIComponent(s)+a.substr(j,m-j)}t.innerHTML=s.replace(/</g,'&lt;').replace(/\>/g,'&gt;');l[i].href='mailto:'+t.value}}catch(e){}}}catch(e){}})(document);/* ]]> */</script>
 
 <div id="ads"></div></body></html>