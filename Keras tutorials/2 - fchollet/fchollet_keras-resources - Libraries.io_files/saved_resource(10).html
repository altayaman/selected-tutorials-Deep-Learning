
<!-- saved from url=(0883)https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-2950082304969984&format=750x90&output=html&h=90&slotname=1929607435&adk=453791610&adf=1477197835&w=750&afmt=auto&lmt=1493013196&loeid=368226011%2C389613000&rafmt=1&flash=25.0.0&fwr=0&url=https%3A%2F%2Flibraries.io%2Fgithub%2Ffchollet%2Fkeras-resources&resp_fmts=3&wgl=1&dt=1493013195955&bpp=57&bdt=4527&fdt=62&idt=227&shv=r20170417&cbv=r20170110&saldr=aa&correlator=374774108740&frm=20&ga_vid=108224247.1489909382&ga_sid=1493013196&ga_hid=637068634&ga_fc=0&pv=2&iag=3&icsg=2&nhd=1&dssz=2&mdo=0&mso=0&u_tz=-420&u_his=1&u_java=0&u_h=900&u_w=1440&u_ah=820&u_aw=1440&u_cd=24&u_nplug=5&u_nmime=7&adx=150&ady=312&biw=1440&bih=679&eid=368226001&oid=3&rx=0&eae=0&fc=16&brdim=0%2C0%2C0%2C0%2C1440%2C23%2C0%2C0%2C1440%2C679&vis=2&rsz=%7C%7CeEr%7C&abl=CS&ppjl=f&pfx=0&fu=144&bc=1&ifi=1&xpc=gEbfRo4pXk&p=https%3A//libraries.io&dtd=275 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script src="./moatwrapper.js"></script><script>bLoaded = true;</script><script src="./moatwrapper(1).js"></script><style>.component-blocker {
    width: 100%;
    height: 100%;
    z-index: 999999;
    background-color: black;
    display: table;
}

.component-blocker > p {
    text-align: center;
    font-family: Arial, Helvetica, sans-serif;
    font-size: 13px;
    font-weight: bold;
    color: white;
    white-space: normal;
    display: table-cell;
    vertical-align: middle;
}

.transplanted-form-element-container input,
.transplanted-form-element-container textarea,
.transplanted-form-element {
    -webkit-user-select: text;
       -moz-user-select: text;
        -ms-user-select: text;
            user-select: text;
    text-align: center;
}

.celtra-display-image-overlay {
    position: absolute;
    top: 0; right: 0; bottom: 0; left: 0;
    z-index: 30;
    background-repeat: no-repeat;
    background-position: center center;
    /* background-color and background-image set in code */
}

.celtra-display-image-overlay .celtra-back-button {
    position: absolute;
    top: 0;
    width: 30px; height: 30px;
    background: url('https://cache-ssl.celtra.com/api/static/v4182299cfe/runner/clazzes/CreativeUnit/back.png');
    background-size: 30px 60px;
}

.celtra-display-image-overlay .celtra-back-button.left {
    left: 0;
}

.celtra-display-image-overlay .celtra-back-button.right {
    right: 0;
}

.celtra-display-image-overlay .celtra-back-button.touched {
    background-position: 0 100%;
}

.celtra-fit-to-container {
    max-width: 100%;
    max-height: 100%;
}

.celtra-center-content {
    width: 100%;
    height: 100%;
    text-align: center;
}
.celtra-center-content::before {
    content: '';
    display: inline-block;
    height: 100%;
    vertical-align: middle;
}
.celtra-center-content > * {
    vertical-align: middle;
}

/* Custom alert box */
.alert, .alert-dark-overlay {
    position: absolute;
    top: 0;
    left: 0;
    z-index: 40;
    width: 100%;
    height: 100%;
}
.alert-dark-overlay {
    background-color: #000;
    opacity: .5;
}
.alert-box {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 220px;
    text-align: center;
    padding: 13px 10px;
    margin: -93px 0 0 -120px;
    border-radius: 7px;
    display: none;
    z-index: 41;
    font-size: 14px;
    background: rgba(50,50,50,1);
    background: -webkit-linear-gradient(top, rgba(64,64,64,1) 0%, rgba(39,39,39,1) 100%);
    background: linear-gradient(top, rgba(64,64,64,1) 0%, rgba(39,39,39,1) 100%);
    border: 1px solid #191919;
    box-shadow: 0 3px 20px rgba(0,0,0,0.4), inset 0 1px 0 0 rgba(255,255,255,0.2), inset 0 -1px 0 0 rgba(0,0,0,0.3);
}
.alert-title {
    font-family: "Helvetica Neue", sans-serif;
    font-size: 17px;
    color: white;
    text-align: center;
    margin-bottom: 10px;
    text-shadow: 0 1px 0 rgba(0,0,0,1);
}
.alert-dark-line,
.alert-light-line {
    width: 100%;
    height: 1px;
    padding: 0;
    margin: 0;
    border: none;
    background: rgba(45,44,45,1);
    background: -webkit-linear-gradient(left, rgba(45,44,45,0) 0%, rgba(45,44,45,1) 20%, rgba(45,44,45,1) 80%, rgba(45,44,45,0) 100%);
    background: linear-gradient(left, rgba(45,44,45,0) 0%, rgba(45,44,45,1) 20%, rgba(45,44,45,1) 80%, rgba(45,44,45,0) 100%);
}
.alert-light-line {
    margin: 0 0 10px 0;
    background: rgba(73,74,73,1);
    background: -webkit-linear-gradient(left, rgba(73,74,73,0) 0%, rgba(73,74,73,1) 20%, rgba(73,74,73,1) 80%, rgba(73,74,73,0) 100%);
    background: linear-gradient(left, rgba(73,74,73,0) 0%, rgba(73,74,73,1) 20%, rgba(73,74,73,1) 80%, rgba(73,74,73,0) 100%);
}
.alert-message {
    font-family: Helvetica, Arial, sans-serif;
    color: #999999;
    font-size: 14px;
    text-align: center;
    margin-bottom: 10px;
    text-shadow: 0 1px 0 rgba(0,0,0,1);
}
.alert-input {
    display: block;
    width: 178px;
    height: 37px;
    box-sizing: border-box;
    border: 1px solid #1a1a1a;
    border-radius: 3px;
    color: white;
    background: rgba(29,29,29,1);
    background: -webkit-linear-gradient(top, rgba(26,26,26,1) 0%, rgba(33,33,33,1) 100%);
    background: linear-gradient(top, rgba(26,26,26,1) 0%, rgba(33,33,33,1) 100%);
    box-shadow : 0 1px 0 0 rgba(255,255,255,0.1);
    margin: 0 auto;
}
.alert-ok,
.alert-cancel {
    margin: 10px auto 0;
    display: inline-block;
    text-align: center;
    box-sizing: border-box;
    width: 178px;
    height: 37px;
    background: -webkit-linear-gradient(top, rgba(0,0,0,0) 0%, rgba(0,0,0,0.2) 100%);
    background: linear-gradient(top, rgba(0,0,0,0) 0%, rgba(0,0,0,0.2) 100%);
    border: 1px solid rgba(0,0,0,0.8);
    border-radius: 3px;
    color: white;
    line-height: 37px;
    text-transform: uppercase;
    text-shadow: 0 -1px 0 rgba(0,0,0,0.8);
    box-shadow : 0 1px 0 0 rgba(255,255,255,0.1), inset 0 1px 0 0 rgba(255,255,255,0.3);
    cursor: pointer;
}
.alert-ok.with-cancel {
    width: 84px;
}
.alert-ok.no-margin-top {
    margin-top: 0;
}
.alert-cancel {
    margin-left: 10px;
    width: 84px;
}

/* Disables green outline on tapped objects on HTC phones running Android */
* {
    -webkit-tap-highlight-color : rgba(0,0,0,0);
    tap-highlight-color         : rgba(0,0,0,0);
}

.celtra-creative-unit {
    font-family: Helvetica;
    font-size: 12pt;

    position: relative; /* so contained elements are positioned OK and 'overflow: hidden' works */

    /*
      z-indices:
        10 - screenHolder
        20 - placeboBar
        40 - alert
        30 - displayImageAction overlay
        100 - close button
    */
}

.celtra-screen-holder {
    position: absolute; top: 0; left: 0; bottom: 0; right: 0;
    z-index: 10;
}

.celtra-creative-unit, .celtra-creative-unit * {
    -webkit-text-size-adjust: none;
        -ms-text-size-adjust: none;
            text-size-adjust: none;
    tap-highlight-color: transparent;
    touch-callout: none;
    -webkit-user-select: none;
       -moz-user-select: none;
        -ms-user-select: none;
            user-select: none; /* override to 'text' manually if needed */

    margin: 0;
    padding: 0;
}

.celtra-close-button {
    position: absolute;
    top: 0; right: 0;
    width: 30px; height: 30px;
    z-index: 99999999;
    overflow: hidden;
    -webkit-transform: translateZ(0);
}

.celtra-close-button-text {
    font-family: Arial, Helvetica, Tahoma, sans-serif;
    font-size: 12px;
    line-height: 12px;
    padding: 10px;
    white-space: nowrap;
    width: auto;
    height: auto;
    cursor: pointer;
}

.celtra-close-button.touched {
    visibility: hidden;
}

.celtra-close-button-down {
    visibility: hidden;
}

.celtra-close-button-up.touched+.celtra-close-button-down {
    visibility: visible;
}

.celtra-close-button-text.touched {
    visibility: visible;
    padding-top: 11px;
    padding-right: 9px;
}

.celtra-creative-unit input,
.celtra-creative-unit textarea {
    -webkit-user-select: text;
       -moz-user-select: text;
        -ms-user-select: text;
            user-select: text;
    text-align: center;
}

.celtra-screen {
    /*
      Screens themselves have 0 area and visible overflow (default), so
      click-through from base to master screen works.
      
      The master has z-index 0 and the primary screen has z-index 1.
    */
    position: absolute;
    top: 0; left: 0; 
    
    pointer-events: none;
    overflow: hidden;
}

.celtra-screen > * {
    pointer-events: auto;
}
/*
This extra CSS attribute is required for Internet Explorer 10+ to correctly
route Pointer events to the object being touched. This is mutually exclusive
with scrolling, so there's no way to have both at the same time. This will
also prevent swipeable banners if any element on stage has the `touchable`
CSS class, but will generate `tap` events.
*/
.touchable { -ms-touch-action: none; }

/*
On IE, if a background is not set on an element, it is
transparent to mouse and touch events. This forces the
element to become opaque to user events.
*/
.celtra-screen-object { background: rgba(0,0,0,0); }

/*
Pointer cursor for hotspot component on desktop.
*/
.celtra-hotspot { cursor: pointer; }


/*
Force GPU rendering for all children of animated layers in order to prevent jittery scaling animations.
Because the `animated` class is added to objects only when SceneOverrides.js is included, this style rule
will not affect any elements in creatives which are not using scenes.
*/
.celtra-screen-object.animated div,
.celtra-screen-object.animated > img,
.celtra-screen-object.animated .celtra-screen-object div,
.celtra-screen-object.animated .celtra-screen-object > img {
    -webkit-transform: perspective(1px);
            transform: perspective(1px);
}

.celtra-picture {
    overflow: hidden;
}

.celtra-picture.empty {
    background-color: #000000;
    background-image: url(https://cache-ssl.celtra.com/api/static/v4182299cfe/runner/image-placeholder.png);
    background-position: center;
    background-repeat: no-repeat;
    background-size: 28px;
    border: 2px solid #404040;
    box-sizing: border-box;
}

</style><script>function inherit(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,Object.defineProperties(e,{uber:{get:function(){return t.prototype},enumerable:!1,configurable:!1},uberConstructor:{get:function(){return t},enumerable:!1,configurable:!1}}),e.prototype.constructor=e}function extend(e,t){for(var n=1;n<arguments.length;n++){var t=arguments[n];if(t instanceof Object)for(var r in t)e[r]=t[r]}return e}function deep(e,t){for(var n in t)e[n]instanceof Object&&t[n]instanceof Object?deep(e[n],t[n]):e[n]=t[n]}function delayed(e,t){var n=null;return function(){n&&clearTimeout(n),n=setTimeout(e,t)}}function throttled(e,t){var n=null;return function(){n||(n=setTimeout(function(){n=null,e()},t))}}function deferred(e,t,n){return function(){defer(e,t,n)}}function hasClass(e,t){return-1!=(" "+e.className+" ").indexOf(" "+t+" ")}function addClass(e,t){hasClass(e,t)||(e.className+=" "+t)}function removeClass(e,t){e.className=e.className.replace(new RegExp("(\\s|^)"+t+"(\\s|$)")," ")}function toggleClass(e,t){hasClass(e,t)?removeClass(e,t):addClass(e,t)}function cssurl(e){return"url('"+e.replace(/'/g,"\\'")+"')"}function ucfirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}function zeroPad(e,t){null==t&&(t=2);var n=Math.max(0,t-(""+e).length),r=(""+Math.pow(10,n)).slice(1);return r+e}function htmlentitize(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function removeHtmlTags(e){var t,n="(?:[^\"'>]|\"[^\"]*\"|'[^']*')*",r=new RegExp("<(?:!--(?:(?:-*[^->])*--+|-?)|script\\b"+n+">[\\s\\S]*?</script\\s*|style\\b"+n+">[\\s\\S]*?</style\\s*|/?[a-z]"+n+")>","gi");do t=e,e=e.replace(r,"");while(e!==t);return e.replace(/</g,"&lt;")}function trim(e){return e.replace(/^\s+|\s+$/g,"")}function to_utf8(e){return unescape(encodeURIComponent(e))}function randInt(){return(Math.random()+"").slice(2)}function attach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.addEventListener(o,n,!!r)}function detach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.removeEventListener(o,n,!!r)}function once(e,t,n,r){attach(e,t,function o(){detach(e,t,o,r),n.apply(this,arguments)},r)}function trigger(e,t,n,r){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,r);var i="on"+ucfirst(t);return"function"==typeof e[i]&&e[i](),e.dispatchEvent(o)}function fakeclick(e,t){t=t||window;var n=t.document.createElement("a");n.cssText="visibility: hidden",n.addEventListener("click",function(t){e(),t.preventDefault(),t.stopPropagation(),n.parentNode.removeChild(n)},!0),t.document.body.appendChild(n);var r=document.createEvent("MouseEvents");r.initEvent("click",!0,!0),n.dispatchEvent(r)}function fakeClickAhrefBlank(e,t,n){t=t||noop,n=n||window;var r=n.document.createElement("a");r.style.cssText="visibility: hidden",r.setAttribute("href",e),r.setAttribute("target","_blank"),r.addEventListener("click",function(e){e.stopPropagation(),t(),r.parentNode.removeChild(r)},!0),n.document.body.appendChild(r);var o=n.document.createEvent("MouseEvents");o.initEvent("click",!0,!0),r.dispatchEvent(o)}function noop(){}function nullai(e,t){t()}function retTrue(){return!0}function retFalse(){return!1}function offset(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,o=n.defaultView;return{top:t.top+(o.pageYOffset||r.scrollTop)-(r.clientTop||0),left:t.left+(o.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}}function addCssRule(e,t,n){var r=document.createElement("style");r.textContent=e+" {"+t+"}",n?n.document.getElementsByTagName("head")[0].appendChild(r):document.getElementsByTagName("head")[0].appendChild(r)}function redrawAndroidIframe(){var e=document.createElement("style");document.body.appendChild(e),document.body.removeChild(e)}function parseQuery(e){var t={};return e=e.replace(/\&$/,"").replace(/\+/g,"%20"),e.split("&").forEach(function(e){var n=e.split("=").map(decodeURIComponent);t[n[0]]=n[1]}),t}function buildQuery(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function postBlob(e,t){var n=new XMLHttpRequest;n.open("POST",creative.apiUrl+"blobs?base64=1"),n.setRequestHeader("Content-Type","application/octet-stream"),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText,n.status)},n.send(e)}function tmpl(e,t){function n(e){return"  p.push('"+e.replace(/'/g,"\\'").split(/\r?\n/g).join("\\n');\n  p.push('")+"');\n"}if(!e)return"";var r;if(-1==e.indexOf("<%"))r=function(){return e};else{var o=e.split(/<%\s*|\s*%>/g),i="var p = []; with(o) {\n",a=!1;o.forEach(function(e){a?i+="="==e[0]?"  p.push("+e.replace(/^=\s*|\s*$/g,"")+");\n":"  "+e+"\n":e&&(i+=n(e)),a=!a}),i+='} return p.join("");';try{r=new Function("o",i)}catch(c){var u=new Error("Cannot parse template! (see `template` property)");throw u.template=i,u}}return t?r(t):r}function flash(){var e=document.createElement("div");e.style.background="white",e.style.opacity=.005,e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.width="100%",e.style.height="100%",e.style.zIndex=2147483647,document.body.appendChild(e),setTimeout(function(){e.parentNode.removeChild(e)},0)}function crc32(e){"use strict";var t=-1,n=0,r=[0,-227835133,-516198153,324072436,-946170081,904991772,648144872,-724933397,-1965467441,2024987596,1809983544,-1719030981,1296289744,-1087877933,-1401372889,1578318884,274646895,-499825556,-244992104,51262619,-675000208,632279923,922689671,-996891772,-1702387808,1760304291,2075979607,-1982370732,1562183871,-1351185476,-1138329528,1313733451,549293790,-757723683,-1048117719,871202090,-416867903,357341890,102525238,-193467851,-1436232175,1477399826,1264559846,-1187764763,1845379342,-1617575411,-1933233671,2125378298,820201905,-1031222606,-774358714,598981189,-143008082,85089709,373468761,-467063462,-1170599554,1213305469,1526817161,-1452612982,2107672161,-1882520222,-1667500394,1861252501,1098587580,-1290756417,-1606390453,1378610760,-2032039261,1955203488,1742404180,-1783531177,-878557837,969524848,714683780,-655182201,205050476,-28094097,-318528869,526918040,1361435347,-1555146288,-1340167644,1114974503,-1765847604,1691668175,2005155131,-2047885768,-604208612,697762079,986182379,-928222744,476452099,-301099520,-44210700,255256311,1640403810,-1817374623,-2130844779,1922457750,-1503918979,1412925310,1197962378,-1257441399,-350237779,427051182,170179418,-129025959,746937522,-554770511,-843174843,1070968646,1905808397,-2081171698,-1868356358,1657317369,-1241332974,1147748369,1463399397,-1521340186,-79622974,153784257,444234805,-401473738,1021025245,-827320098,-572462294,797665321,-2097792136,1889384571,1674398607,-1851340660,1164749927,-1224265884,-1537745776,1446797203,137323447,-96149324,-384560320,461344835,-810158936,1037989803,781091935,-588970148,-1834419177,1623424788,1939049696,-2114449437,1429367560,-1487280117,-1274471425,1180866812,410100952,-367384613,-112536529,186734380,-538233913,763408580,1053836080,-860110797,-1572096602,1344288421,1131464017,-1323612590,1708204729,-1749376582,-2065018290,1988219213,680717673,-621187478,-911630946,1002577565,-284657034,493091189,238226049,-61306494,-1307217207,1082061258,1395524158,-1589280451,1972364758,-2015074603,-1800104671,1725896226,952904198,-894981883,-638100751,731699698,-11092711,222117402,510512622,-335130899,-1014159676,837199303,582374963,-790768336,68661723,-159632680,-450051796,390545967,1230274059,-1153434360,-1469116676,1510247935,-1899042540,2091215383,1878366691,-1650582816,-741088853,565732008,854102364,-1065151905,340358836,-433916489,-177076669,119113024,1493875044,-1419691417,-1204696685,1247431312,-1634718085,1828433272,2141937292,-1916740209,-483350502,291187481,34330861,-262120466,615137029,-691946490,-980332558,939183345,1776939221,-1685949482,-1999470558,2058945313,-1368168502,1545135305,1330124605,-1121741762,-210866315,17165430,307568514,-532767615,888469610,-962626711,-707819363,665062302,2042050490,-1948470087,-1735637171,1793573966,-1104306011,1279665062,1595330642,-1384295599];for(n=0;n<e.length;n++)t=t>>>8^r[255&(t^e.charCodeAt(n))];return(-1^t)>>>0}function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function isDefAndNotNull(e){return null!=e}function updateQueryStringParameter(e,t,n){t=encodeURIComponent(t),n=encodeURIComponent(n);var r=new RegExp("([?|&])"+t+"=.*?(&|$)","i");return separator=-1!==e.indexOf("?")?"&":"?",e.match(r)?e.replace(r,"$1"+t+"="+n+"$2"):e+separator+t+"="+n}function fetchShortenedUrl(e,t,n){function r(t,n){i[e].forEach(function(e){e[t](n)}),delete i[e]}n=n||noop;var o=!1,i=fetchShortenedUrl.inProgress,a=fetchShortenedUrl.cache,c="http"==e.slice(0,4),u=new RegExp("^(https?://)?(www.)?("+fetchShortenedUrl.invalidDomains.map(function(e){return e.replace(/[^a-zA-Z]/g,"\\$&")}).join("|")+")(/|\\?)").test(e);if(!c||u)return void n();if(a[e])return void defer(function(){t(a[e])},0,"fetchShortenedUrl defer success callback");if(i[e]||(i[e]=[],o=!0),i[e].push({success:t,error:n}),o){var s=creative.runtimeParams.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl,f=s+"/services/shortener",d={longUrl:e},l=btoa(to_utf8(e));l=l.replace(/\//g,"$").replace(/\+/g,"_").replace(/=/g,"");var p={cbName:"shortener_"+l};loadJSONP(f+"?"+buildQuery(d),p,function(t){a[e]=t.id,r("success",t.id)},function(){r("error")})}}function isMediaPlaying(e){try{return e.currentTime>0&&!e.paused&&!e.ended}catch(t){return!1}}function merge(){var e,t,n={};for(t=0;t<arguments.length;t+=1)if(e=arguments[t],null!==e&&void 0!==e)for(var r in e)n[r]=e[r];return n}function clamp(e,t,n){return Math.max(e,Math.min(t,n))}function lerp(e,t,n){return e+n*(t-e)}function map(e,t,n,r,o){return(o-e)/(t-e)*(r-n)+n}function step(e,t){return e>t?0:1}function pulse(e,t,n){return step(e,n)-step(t,n)}function smoothstep(e,t,n){var r=clamp(0,1,(n-e)/(t-e));return r*r*r*((6*r-15)*r+10)}function bump(e,t,n){var r=clamp(0,1,(n-e)/(t-e));return(Math.cos(Math.PI*r)+1)/2}function getWindowNesting(e){var t={iframe:e!==e.top,friendlyIframe:!1,iabFriendlyIframe:!1,hostileIframe:!1,iframeDepth:0};if(t.iframe){var n=e;try{for(t.friendlyIframe=!!e.top.location.href,t.iabFriendlyIframe=t.friendlyIframe&&"undefined"!=typeof e.inDapIF&&e.inDapIF;"undefined"!=typeof n.parent.location.href&&n.parent.document!==n.document;)n=n.parent,t.iframeDepth++;"undefined"==typeof e.top.document&&(t.hostileIframe=!0)}catch(r){t.hostileIframe=!0}}return t}!function(e){if(!this.defer){try{for(;"undefined"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}this.defer=function(t,n,r){var o,i=0|n;if(r){var a;"undefined"!=typeof defer.perf?a=defer.perf:"undefined"!=typeof creative?a=creative.perf:"undefined"!=typeof perf&&(a=perf),a&&(a._stopTrackingDefers||(o=a.start("defer",{deferId:r,delay:i})))}t&&e.setTimeout(function(){o&&o.end(),t()},i)}}}(window),Function.prototype.bind||Object.defineProperty(Function.prototype,"bind",{value:function(e){var t=this;return function(){return t.apply(e,arguments)}}}),function(e){e.getEventNames=function(){var t={};return"WebKitAnimationEvent"in e&&(t.animationstart="webkitAnimationStart",t.animationiteration="webkitAnimationIteration",t.animationend="webkitAnimationEnd"),"WebKitTransitionEvent"in e&&(t.transitionend="webkitTransitionEnd"),t}}(window);var getTimestamp=function(){return void 0===window.performance||void 0===window.performance.now?Date.now:window.performance.now.bind(window.performance)}();Date.now||(Date.now=function(){return+new Date}),Array.prototype.waitForEach||Object.defineProperty(Array.prototype,"waitForEach",{value:function(e,t,n){var r=this.length;r?this.forEach(function(o,i,a){var c=!1;e.call(n,o,function(){if(c)throw"Called `done` multiple times for element "+i;c=!0,--r||t()},i,a)},n):t()}}),function(e){e.loadJS=function(t,n,r,o){var i=e.loadJS.externals,a={success:n||noop,error:r||noop};if(!/^[A-Za-z0-9]*:\/\/|^\/\//.test(t)){var c=creative.hostedFiles.filter(function(e){return e.filepath===t})[0];if("undefined"==typeof c)return console.warn('Hosted file "'+t+'" was not found.'),void a.error();if(c.loaded!==!1)return console.warn('Hosted file "'+t+'" is already loaded.'),void setTimeout(a.success,0);c.loaded=!0,t=creative.cachedApiUrl+"hostedFiles/"+creative.id+"/"+creative.version+"/"+t}if(t in i&&!o)i[t].loaded?setTimeout(a.success,0):i[t].cbs.push(a);else{i[t]={cbs:[a]};var u=document.createElement("script");u.type="text/javascript",u.onload=function(){i[t].loaded=!0,i[t].cbs.forEach(function(e){e.success()}),i[t].cbs=[]},u.onerror=function(){i[t].cbs.forEach(function(e){e.error()}),i[t].cbs=[],delete i[t]},u.src=t,e.loadJS.appendToRoot(u)}},e.loadJS.externals={},e.loadJS.appendToRoot=function(e){return document.querySelector("head").appendChild(e)},e.loadJSONP=function(t,n,r,o){"function"==typeof n&&(o=r,r=n,n={});var i=n.cbName||"__jsonp"+randInt();t+=(-1==t.indexOf("?")?"?":"&")+(n.paramName||"jsonp")+"="+i,e[i]=function(t){r(t),delete e[i]},loadJS(t,noop,o,!0)}}(window),"undefined"==typeof Function.prototype.name&&!function(){var e=/^function\s+(\w+?)\s*?\(/;Object.defineProperty(Function.prototype,"name",{get:function(){var t=this.constructor.prototype.toString.call(this);return e.test(t)?t.match(e)[1]:""}})}(),fetchShortenedUrl.cache={},fetchShortenedUrl.inProgress={},fetchShortenedUrl.invalidDomains=["db.tt","lnkd.in","t.co","youtu.be","goo.gl","adf.ly","bit.do","bit.ly","fur.ly","ht.ly","is.gd","ow.ly","tr.im","tiny.cc","tinyurl.com"];;
function CPoint(t,i){this.x=1*t||0,this.y=1*i||0}function CRect(t,i,e,o){this.left=1*t||0,this.top=1*i||0,this.width=1*e||0,this.height=1*o||0}CPoint.offset=function(t){var i=offset(t);return new CPoint(i.left,i.top)},CPoint.convertPointFromNodeToPage=function(t,i){if(!t||"undefined"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x:0)+(e?e.x:0),(i?i.y:0)+(e?e.y:0))},CPoint.convertPointFromPageToNode=function(t,i){if(!t||"undefined"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x:0)-(e?e.x:0),(i?i.y:0)-(e?e.y:0))},CPoint.sample=function(t,i,e){for(var o=Math.floor(Math.sqrt(t.width*i/t.height)),n=Math.floor(Math.sqrt(t.height*i/t.width)),h=t.width/o,r=t.height/n,s=0;n>s;s++)for(var f=0;o>f;f++)e((f+.5)*h+t.left,(s+.5)*r+t.top)},CPoint.epsilon=function(t,i,e){return Math.abs(t-i)<e},CPoint.prototype.equals=function(t){return CPoint.epsilon(this.x,t.x,.25)&&CPoint.epsilon(this.y,t.y,.25)},CRect.ZERO=new CRect,Object.defineProperties(CRect.prototype,{right:{get:function(){return this.left+this.width},set:function(t){var i=this.left;t<this.left&&(this.left=t,t=i),this.width=t-this.left},enumerable:!0},bottom:{get:function(){return this.top+this.height},set:function(t){var i=this.top;t<this.top&&(this.top=t,t=i),this.height=t-this.top},enumerable:!0},tl:{get:function(){return new CPoint(this.left,this.top)}},tr:{get:function(){return new CPoint(this.right,this.top)}},bl:{get:function(){return new CPoint(this.left,this.bottom)}},br:{get:function(){return new CPoint(this.right,this.bottom)}},area:{get:function(){return this.width*this.height}}}),CRect.adopt=function(t){return new CRect(t.left,t.top,t.width,t.height)},CRect.prototype.zero=function(){return 0===this.area},CRect.prototype.intersect=function(t){if(!t)return!1;var i=Math.max(this.left,t.left),e=Math.max(this.top,t.top),o=Math.min(this.right,t.right),n=Math.min(this.bottom,t.bottom),h=o-i,r=n-e;return 0>h||0>r?CRect.ZERO:new CRect(i,e,h,r)},CRect.prototype.relativeTo=function(t){return new CRect(this.left-t.left,this.top-t.top,this.width,this.height)},CRect.prototype.contains=function(t){return t instanceof CPoint?t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom:t instanceof CRect?t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom:void 0},CRect.prototype.map=function(t,i){var e=i.width/t.width,o=i.height/t.height;return new CRect((this.left-t.left)*e+i.left,(this.top-t.top)*o+i.top,this.width*e,this.height*o)},CRect.prototype.equals=function(t){return t&&this.left==t.left&&this.top==t.top&&this.right==t.right&&this.bottom==t.bottom},CRect.prototype.toString=function(){return"CRect: "+JSON.stringify(this)};;
function Logger(e){if(!(this instanceof Logger))return new Logger(e);e=e||"";var n=noop;(Logger.enabledNames.indexOf(e)>=0||Logger.enabledNames.indexOf("all")>=0)&&(n=function(){var e=[].slice.apply(arguments);e.unshift(Logger._ts()+" ["+Logger.sessionId+(this.name?" "+this.name:"")+"]"),console.log.apply(console,e)}),this.name=e,this.log=n,this.warn=n,this.debug=n,this.error=n}Logger._ts=function(){function e(e,n){for(e+="";e.length<n;)e="0"+e;return e}var n=new Date;return n.getFullYear()+"-"+e(n.getMonth()+1,2)+"-"+e(n.getDate(),2)+" "+e(n.getHours(),2)+":"+e(n.getMinutes(),2)+":"+e(n.getSeconds(),2)+"."+e(n.getTime()-1e3*Math.floor(n.getTime()/1e3),3)},Logger.init=function(e,n){Logger.enabledNames=e,Logger.sessionId=n||(Math.random()+"").slice(15)},Logger.initFromRuntimeParams=function(e){Logger.init(e.debug?e.debug.split(","):[],e.sessionId)};;
window.CeltraDeviceInfo={},function(e){function n(e){this.os=new t(e.osName,e.osVersion),this.browser=new r(e.browserName,e.browserVersion),this.engine=new i(e.browserRenderingEngine,e.browserRenderingEngineVersion),this.deviceType=new o(e.deviceType,e.mobileDevice),this.vendor=e.vendor||"",this.model=e.model||""}function t(e,n){this.name=e||"",this.version=n||"0"}function r(e,n){this.name=e||"",this.version=n||"0"}function i(e,n){this.name=e||"",this.version=n||"0"}function o(e,n){this.hardwareType=e||"",this.mobile=n||""}function s(e,n){function t(e){return parseInt(e.replace(/\D/g,""),10)}function r(e,n){var t;for(t=0;t<Math.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,o,s;if(!e)return!0;if(0===n.length)o=null,s=null;else if(1===n.length)o=n[0],s=n[0];else{if(2!==n.length)throw"Invalid number of arguments";o=n[0],s=n[1]}for(e=e.split(".").map(t),o=o?o.split(".").map(t):[],s=s?s.split(".").map(t):[],i=Math.max(o.length,s.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,o)||1===r(e,s))}function u(e,n){if(-1===e.indexOf("Playstation")){var t=e.match(/\bSilk\/([0-9._-]+)\b/);t&&(n.browserName="Amazon Silk",n.browserVersion=t[1])}n.browserName&&n.browserVersion&&(0===n.browserName.indexOf("Chrome")&&s(n.browserVersion,["28",null])||0===n.browserName.indexOf("Opera")&&s(n.browserVersion,["15",null]))&&(n.browserRenderingEngine="Blink"),n.browserRenderingEngineVersion||(n.browserRenderingEngineVersion=function(){var n;return(n=e.match(/Trident\/([0-9.]+)/))?n[1]:(n=e.match(/Presto\/([0-9.]+)/))?n[1]:(n=e.match(/AppleWebKit\/*([0-9.]+)/i))?n[1]:(n=e.match(/Gecko\/*([0-9.]+)/),n?n[1]:"")}())}t.prototype.android=function(){return"Android"===this.name&&s(this.version,arguments)},t.prototype.osx=function(){return"OSX"===this.name&&s(this.version,arguments)},t.prototype.ios=function(){return"IOS"===this.name&&s(this.version,arguments)},t.prototype.windows=function(){return"Windows"===this.name&&s(this.version,arguments)},t.prototype.windowsPhone=function(){return"WindowsPhone"===this.name&&s(this.version,arguments)},t.prototype.linux=function(){return"Linux"===this.name},r.prototype.safari=function(){return"Safari"===this.name&&s(this.version,arguments)},r.prototype.chrome=function(){return 0===this.name.indexOf("Chrome")&&s(this.version,arguments)},r.prototype.ie=function(){return 0===this.name.indexOf("Internet Explorer")&&s(this.version,arguments)},r.prototype.android=function(){return"Android Browser"===this.name&&s(this.version,arguments)},r.prototype.opera=function(){return 0===this.name.indexOf("Opera")&&s(this.version,arguments)},r.prototype.silk=function(){return"Amazon Silk"===this.name&&s(this.version,arguments)},r.prototype.firefox=function(){return"Firefox"===this.name&&s(this.version,arguments)},r.prototype.edge=function(){return"Edge"===this.name&&s(this.version,arguments)},i.prototype.webkit=function(){return"WebKit"===this.name&&s(this.version,arguments)},i.prototype.gecko=function(){return"Gecko"===this.name&&s(this.version,arguments)},i.prototype.trident=function(){return"Trident"===this.name&&s(this.version,arguments)},i.prototype.presto=function(){return"Presto"===this.name&&s(this.version,arguments)},i.prototype.blink=function(){return"Blink"===this.name&&s(this.version,arguments)},o.prototype.phone=function(){return"Phone"===this.hardwareType},o.prototype.tablet=function(){return"Tablet"===this.hardwareType},o.prototype.desktop=function(){return"Desktop"===this.hardwareType},o.prototype.mobileDevice=function(){return this.mobile===!0},e.CeltraDeviceInfo.create=function(t,r){return t=t||e.navigator.userAgent,r=r||{},u(t,r),new n(r)}}(window);;
window.deviceInfo=CeltraDeviceInfo.create(window.navigator.userAgent,window.celtraDeviceInfoRuntimeParams);;
!function(e){function n(){var e=p().match(/iP(ad|hone|od).*OS ([0-9_]+)/);return!!e&&s(e[2].replace(/_/g,"."),arguments)}function t(){var e=p().match(/Android ([0-9.]+)/),n=p().match(/Windows Phone/);return!n&&!!e&&s(e[1],arguments)}function r(){var e=p().match(/Windows Phone ([0-9.]+)/);return!!e&&s(e[1],arguments)}function i(){var e=p().match(/AppleWebKit\/*([0-9.]+)/i);return!!e&&s(e[1],arguments)}function a(){var e=p().match(/Gecko\/*([0-9.]+)/i);return!!e&&s(e[1],arguments)}function o(){var e=p().match(/MSIE ([0-9]{1,}[.0-9]{0,})|Trident.* rv:([0-9]{1,}[.0-9]{0,})/i);return!!e&&s(e[1]||e[2],arguments)}function u(){var e=p().match(/Silk\/([0-9.]+)/);return!!e&&s(e[1],arguments)}function f(){var e=p().toLowerCase();return/kftt|kfot|kfjwi|kfjwa|kfso|kfth|kfapwi|kfthwi|kfsowi|kfthwa|kfapwa|kfap|sd4930ur/.test(e)?s("2",arguments):!1}function d(){return"undefined"!=typeof offsetWidthOverride?offsetWidthOverride:(document.body.offsetWidth,Math.min(innerWidth,innerHeight))}function c(){return/iPad/.test(p())||d()>550}function m(){return!(t()||n()||r())}function s(e,n){function t(e){return parseInt(e.replace(/\D/g,""),10)}function r(e,n){for(var t=0;t<v.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,a,o;if(!e)return!0;if(0===n.length)a=null,o=null;else if(1===n.length)a=n[0],o=n[0];else{if(2!==n.length)throw"Invalid number of arguments";a=n[0],o=n[1]}e=e.split(".").map(t),a=a?a.split(".").map(t):[],o=o?o.split(".").map(t):[];for(var i=v.max(a.length,o.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,a)||1===r(e,o))}function h(){return v.top!==e}function l(){if(!(n()||window.chrome&&"Google Inc."===window.navigator.vendor))return!1;var e;return e=p().match(n()?/CriOS\/([0-9]+.)/:/Chrome\/([0-9]+.)/),!!e&&s(e[1],arguments)}function g(){var e="(-webkit-min-device-pixel-ratio: 1.5),(min--moz-device-pixel-ratio: 1.5),(-o-min-device-pixel-ratio: 3/2),(min-resolution: 1.5dppx)";return window.devicePixelRatio>1||window.matchMedia&&window.matchMedia(e).matches}e.celtra=e.celtra||{};var w={};w.ios=n,w.android=t,w.webkit=i,w.windowsPhone=r,w.gecko=a,w.windows=o,w.kindleSilk=u,w.kindle=f,w.iframe=h,w.desktop=m,w.tablet=c,w.chromeBased=l,w.isHighDensityDisplay=g,extend(e.celtra,w),delete w.webkit,extend(e,w);var v={max:e.Math.max,min:e.Math.min,userAgent:e.navigator.userAgent,top:e.top},p=function(){return"undefined"!=typeof e.userAgentOverride?e.userAgentOverride:v.userAgent}}(window);;
!function(t){function e(){var e=t;try{for(;"undefined"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(n){}return e}function n(){return s.getComputedStyle(s.document.body,null)}function i(t,e,n){if(!t)throw new Error("No element specified!");if(a(e)){if(!(e in t.style)&&i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+e);if("undefined"==typeof n)return t.style[e];t.style[e]=n}else{if(-1==w.indexOf(e)&&o(e),"undefined"==typeof n)return t.style[y[e]];t.style[y[e]]=n}}function r(t,e){if(!t)throw new Error("No element specified!");var n=t.ownerDocument.defaultView.getComputedStyle(t,null);if(R&&v.indexOf(e)>-1&&(e="webkit"+f(e)),!n||"none"==n.display||!u())return null;if(!(e in n)&&i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+e);return a(e)?n[e]:(-1==w.indexOf(e)&&o(e),n[y[e]])}function o(t){S=S||n();var e=E+f(t);if(R&&v.indexOf(t)>-1)y[t]=e;else if(S&&t in S)y[t]=t;else if(S&&e in S)y[t]=e;else if(i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+t+' or iframe still display "none" in FF');w.push(t)}function a(t){return p.test(t)}function u(){if(t===s)return!0;var e=t.frameElement.ownerDocument.defaultView.getComputedStyle(t.frameElement,null);return e&&"none"!=e.display}function f(t){return t+="",t?t[0].toUpperCase()+t.slice(1):""}var l=t.navigator.userAgent,s=e(),c=/rv:.*Gecko\//.test(l),d=/MSIE|Trident\//.test(l),m=/WebKit/.test(l),p=/^-?([mM]oz|[wW]eb[kK]it|[mM]s)-?/,y={},w=[],E=function(){return m?"webkit":d?"ms":c?"Moz":""}(),R=function(){var t=l.match(/AppleWebKit\/(\d+)/);return t&&~~t[1]<540}(),v=["transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","backface-visibility","perspective","perspective-origin"],S=n();i.BREAK_ON_ERROR=!1,t.celtra=t.celtra||{},t.celtra.styler={css:i,computedCSS:r,isWebkit:m,isGecko:c,isIE:d},t.css=i,t.computedCSS=r}(window);;
var Freezer={};Freezer.unfreeze=function(n,e,o){function t(n,e,o,t,a){ActionInvocationSimulator.isDryRun()?ActionInvocationSimulator.needsDryRun(n.internalId)&&(ActionInvocationSimulator.logActionDryRun(n.internalId,n.method,e.localId),e[n.method+"ActionDryRun"]?e[n.method+"ActionDryRun"](o,t,a):a()):e[n.method+"Action"](o,t,a)}function a(n){if(n instanceof Array)return n.map(a);if(n instanceof Object){var o;if("ActionInvocation"===n.clazz){n.internalId=++c;var s=l;o=function(e,a){if(!e)throw"Cannot execute an action without a context.";a||(a=noop);var i=o.isStatic;if("undefined"==typeof i&&(i=!o.instance),o.disabled)return void a();if(i){if(o.instance)throw"ActionInvocation for a static method must not have an instance assigned.";if("function"!=typeof o.actionClazz[o.method+"Action"])throw"Clazz "+o.actionClazz+' does not define the static action "'+o.method+'".';var r=extend({},o.args,{triggerId:s,caller:n});t(o,o.actionClazz,e,r,a)}else if(o.instance){if(!(o.instance instanceof o.actionClazz))throw"Instance "+o.instance+" is not an instance of clazz "+o.actionClazz;if("function"!=typeof o.instance[o.method+"Action"])throw"Instance of clazz "+o.actionClazz+' does not define the instance action "'+o.method+'".';var r=extend({},o.args,{triggerId:s,caller:n});t(o,o.instance,e,r,a)}else ActionInvocationSimulator.isDryRun()?a():defer(a,0,"Freezer.unfreeze defer c")}}else if(n.clazz){var f=e[n.clazz];if(!f)throw new Error("Unsupported clazz: "+n.clazz);o=Object.create(f.prototype)}else o={},n.onFire&&(l=n.type);for(var d in n)n.hasOwnProperty(d)&&"clazz"!==d&&(o[d]=a(n[d]));i.push(o),o.localId&&(r[o.localId]&&console.error("Duplicate localId: "+o.localId),r[o.localId]=o);for(var d in o)if("clazz"===d.slice(-5).toLowerCase()){var z=o[d];if(!z)continue;e[z]?o[d]=e[z]:console.error("Unsupported clazz: "+o.clazz)}return o}return n}var i=[],r={},c=0,l=null,s=a(n);i.forEach(function(n){for(var e in n)if("LocalId"===e.slice(-7)){var o=n[e];if(o instanceof Function)continue;var t;null===o?t=null:(t=r[o],t||console.error("Invalid localId reference: "+o)),n[e.slice(0,-7)]=t,delete n[e]}else if("LocalIds"===e.slice(-8)){for(var a=[],i=0;i<n[e].length;i++){var c=n[e][i],t=r[c];t||console.error("Invalid localId reference: "+c),a.push(t)}n[e.slice(0,-8)]=a,delete n[e]}});for(var f in o)s[f]=o[f];return i.reverse().forEach(function(n){n.awake&&n.awake()}),s};;
function Batcher(e){this._cache={},this._downloadQueue={},this._base=e}Batcher.prototype.getDataUri=function(e,a){var t=this;if("function"!=typeof a)throw"getDataURI callback is not a function";var r;if(-1!==e.indexOf("://"))r=e;else{if("/"===e[0])throw"An absolute path as URL?";r=this._base+e}var c,n;0===r.indexOf(creative.cachedApiUrl)?(c=r.slice(creative.cachedApiUrl.length),n=!0):0===r.indexOf(creative.insecureCachedApiUrl)&&(c=r.slice(creative.insecureCachedApiUrl.length),n=!1),c?c in this._cache?defer(function(){a(t._cache[c])},0,"Batcher.getDataUri in cache"):(this._downloadQueue[c]||(this._downloadQueue[c]={requested:!1,secure:!1,callbacks:[]}),this._downloadQueue[c].callbacks.push(a),n&&(this._downloadQueue[c].secure=!0),defer(function(){var e=[],a=!1;for(var r in t._downloadQueue){var c=t._downloadQueue[r];c.requested||(c.requested=!0,e.push(r),c.secure&&(a=!0))}e.length&&(Logger("batcher").log(e.length+" new batchable URLs requested during last runloop iteration ("+(a?"at least one secure":"none secure")+"):\n - "+e.join("\n - ")),t._loadBatch(a,e,function(e){for(var a in e)t._cache[a]=e[a],t._downloadQueue[a].callbacks.forEach(function(t){t(e[a])}),delete t._downloadQueue[a]}))},0,"Batcher.getDataUri downloadQueue")):defer(function(){a(e)},0,"Batcher.getDataUri url not batchable")},Batcher.prototype._loadBatch=function(e,a,t){function r(e){var a,t=5381;for(a=0;a<e.length;a++)char=e.charCodeAt(a),t=(t<<5)+t+char;return t}var c=(e?creative.cachedApiUrl:creative.insecureCachedApiUrl)+"batch?urls="+a.sort().map(encodeURIComponent).join(",");loadJSONP(c,{cbName:"__batcher_jsonp_"+Math.abs(r(c))},function(e){var a={};for(var r in e){var c=e[r];200===c.code?a[r]=c.data:(Logger("batcher").warn("Batcher: Could not retrieve URL '"+r+"' using batcher, returning it directly."),a[r]=r)}t(a)})},Batcher._keys=function(e){var a=[];for(var t in e)a.push(t);return a};;
function Tapper(t){attach(t,"touchstart",function(e){for(var a,o=e.target;1!=o.nodeType;)o=o.parentNode;for(;o&&1==o.nodeType&&o.tagName;){var n=o.tagName.toLowerCase();if(hasClass(o,"touchable")||"a"===n&&o.href||"button"===n||"img"===n||"input"===n&&o.type&&"button"===o.type.toLowerCase()){a=o;break}o=o.parentNode}if(a){var c=!1;if(celtra.iframe()){var r=function(){var t=("undefined"!=typeof creative&&creative.adapter||adapter).getTopWindow();return[t.scrollX,t.scrollY,t.innerWidth,t.innerHeight]},u=r();c=!0}var i=20,h=e.targetTouches[0].clientX-i,s=e.targetTouches[0].clientX+i,d=e.targetTouches[0].clientY-i,l=e.targetTouches[0].clientY+i;addClass(a,"touched");var f=!1,v=!1,p=!1,g=!1,m=new Date,T=function(t){if(!f&&!v){var e=t.targetTouches[0].clientX,o=t.targetTouches[0].clientY;f=c&&u.toString()!=r().toString(),v=!(e>=h&&s>=e&&o>=d&&l>=o),v||f?removeClass(a,"touched"):addClass(a,"touched")}},C=function(){if(!g&&(g=!0,detach(t,"touchmove",T,!1),detach(t,"touchend",arguments.callee,!1),hasClass(a,"touched"))){if(removeClass(a,"touched"),v||f||p||new Date-m>400&&!desktop())return;var e=t.ownerDocument.createEvent("MouseEvents");e.initEvent("tap",!0,!0),a.dispatchEvent(e)}},w=function(){detach(t,"touchend",w,!0),nextFrame(function(){p=!0,C()})};attach(t,"touchcancel",function(t){removeClass(a,"touched"),C(t)},!1),attach(t,"touchmove",T,!1),attach(t,"touchend",C,!1),attach(t,"touchend",w,!0)}},!0)};
function TouchEventSimulator(t){this.el=t,this.doc=t.ownerDocument?t.ownerDocument:t,this.win=this.doc.defaultView,this.touch=null,this._initialised=!1,this._firstEventFired=!1,this.handleFirstEvent=this.handleFirstEvent.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseOut=this.handleMouseOut.bind(this),this.handlePointerDown=this.handlePointerDown.bind(this),this.handlePointerMove=this.handlePointerMove.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handlePointerCancel=this.handlePointerCancel.bind(this),this.captureBubbleEvents=this.captureBubbleEvents.bind(this)}TouchEventSimulator.mode=null,TouchEventSimulator.prototype.start=function(){return this._initialised?void Logger("TouchEventSimulator").warn("Touch event simulator already initialised!"):(Logger("TouchEventSimulator").log("Enabling touch event simulation"),this.doc.defaultView.msPointerEnabled?this.startPointers():this.startMouse(),this.el.addEventListener("touchstart",this.captureBubbleEvents,!1),this.el.addEventListener("touchmove",this.captureBubbleEvents,!1),this.el.addEventListener("touchend",this.captureBubbleEvents,!1),this.el.addEventListener("touchcancel",this.captureBubbleEvents,!1),void this.el.addEventListener("tap",this.captureBubbleEvents,!1))},TouchEventSimulator.prototype.stop=function(){return this._initialised?(Logger("TouchEventSimulator").log("Disabling touch event simulation"),this.win&&this.win.msPointerEnabled?this.stopPointers():this.stopMouse(),this.el.removeEventListener("touchstart",this.captureBubbleEvents,!1),this.el.removeEventListener("touchmove",this.captureBubbleEvents,!1),this.el.removeEventListener("touchend",this.captureBubbleEvents,!1),this.el.removeEventListener("touchcancel",this.captureBubbleEvents,!1),void this.el.removeEventListener("tap",this.captureBubbleEvents,!1)):void Logger("TouchEventSimulator").warn("Touch event simulator not running!")},TouchEventSimulator.prototype.captureBubbleEvents=function(t){t.stopPropagation(),t.preventDefault()},TouchEventSimulator.prototype.startMouse=function(){this.el.addEventListener("mousedown",this.handleMouseDown,!0),this.el.addEventListener("mousemove",this.handleMouseMove,!0),this.el.addEventListener("mouseup",this.handleMouseUp,!0),this.el.addEventListener("mouseout",this.handleMouseOut,!0),this.el.addEventListener("dragstart",this.handleDragStart,!0),this._initialised=!0},TouchEventSimulator.prototype.stopMouse=function(){this.el.removeEventListener("mousedown",this.handleMouseDown,!0),this.el.removeEventListener("mousemove",this.handleMouseMove,!0),this.el.removeEventListener("mouseup",this.handleMouseUp,!0),this.el.removeEventListener("mouseout",this.handleMouseOut,!0),this.el.removeEventListener("dragstart",this.handleDragStart,!0),this._initialised=!1},TouchEventSimulator.prototype.startPointers=function(){this.el.addEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.addEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.addEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.addEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!0},TouchEventSimulator.prototype.stopPointers=function(){this.el.removeEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.removeEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.removeEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.removeEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!1},TouchEventSimulator.prototype.init=function(){this.doc.defaultView.navigator.msPointerEnabled?this.start():(this.el.addEventListener("touchstart",this.handleFirstEvent,!0),this.el.addEventListener("mousedown",this.handleFirstEvent,!0))},TouchEventSimulator.prototype.updateTouchCoordinates=function(t){this.touch.screenX=t.screenX,this.touch.screenY=t.screenY,this.touch.pageX=t.pageX,this.touch.pageY=t.pageY,this.touch.clientX=t.clientX,this.touch.clientY=t.clientY},TouchEventSimulator.prototype.ignorables=["select","input","textarea"],TouchEventSimulator.prototype.isFormElement=function(t){return this.ignorables.indexOf(t.nodeName.toLowerCase())>-1},TouchEventSimulator.prototype.isIgnorable=function(t){for(var e=t;e&&e instanceof HTMLElement;e=e.parentNode)if(hasClass(e,"ignore-toucheventsimulator"))return!0;return!1},TouchEventSimulator.prototype.handleFirstEvent=function(t){this._firstEventFired||(this._firstEventFired=!0,this.el.removeEventListener("touchstart",this.handleFirstEvent,!0),this.el.removeEventListener("mousedown",this.handleFirstEvent,!0),"touch"!=TouchEventSimulator.mode&&"mousedown"==t.type?(TouchEventSimulator.mode="mouse",this.start(),this.handleMouseDown(t)):TouchEventSimulator.mode="touch")},TouchEventSimulator.prototype.handleMouseDown=function(t){0!=t.button||this.isIgnorable(t.target)||(this.touch={identifier:0,target:t.target},this.updateTouchCoordinates(t),t.stopPropagation(),this.isFormElement(t.target)||t.preventDefault(),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handleMouseMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handleMouseUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchend",t),this.touch=null)},TouchEventSimulator.prototype.handleMouseOut=function(t){this.touch&&0==t.button&&(t.pageX<0||t.pageX>this.win.innerWidth||t.pageY<0||t.pageY>this.win.innerHeight)&&this.cancelInteraction()},TouchEventSimulator.prototype.handleDragStart=function(t){return t.preventDefault(),!1},TouchEventSimulator.prototype.handlePointerDown=function(t){0==t.button&&(this.touch={identifier:0,target:t.target},this.updateTouchCoordinates(t),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handlePointerMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handlePointerUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchend",t))},TouchEventSimulator.prototype.handlePointerCancel=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchcancel",t),this.touch=null)},TouchEventSimulator.prototype.fireTouchEvent=function(t,e){var n=this.doc.createEvent("HTMLEvents");n.initEvent(t,!0,!0),"touchend"==t||"touchcancel"==t?(n.touches=n.targetTouches=[],n.changedTouches=[this.touch]):n.touches=n.targetTouches=n.changedTouches=[this.touch],e.target.dispatchEvent(n)},TouchEventSimulator.prototype.cancelInteraction=function(){this.touch&&(this.fireTouchEvent("touchcancel",this.touch),this.touch=null)};;
function SwipeListener(e){function t(e,t){return Math.abs(e)>Math.abs(t)?e>0?"east":"west":t>0?"south":"north"}function n(){r.removeEventListener("touchmove",a),r.removeEventListener("touchend",h)}function a(e){if(e.touches.length>1)n();else{var a=e.changedTouches[0].pageX-s,h=e.changedTouches[0].pageY-u;if(i=Math.max(Math.abs(a),Math.abs(h)),i>Math.min(50,v))if(null===c)c=t(a,h);else{var o=t(a,h);c!=o&&n()}}}function h(){n(),i>=v&&d(c,i)}function o(e){e.preventDefault(),1==e.touches.length&&(s=e.changedTouches[0].pageX,u=e.changedTouches[0].pageY,c=null,r.addEventListener("touchmove",a,!1),r.addEventListener("touchend",h,!1))}var s,u,c,i,r=e.target,d=e.swipe,v=e.minLength||50;window.addEventListener("touchstart",noop,!1),r.addEventListener("touchstart",o,!1)};
function PlaceboBar(e,t,a,i){var n=!1,r=document.createElement("div");r.className="celtra-placebobar",r.style.cssText="position: absolute; bottom: 60px; left: 0; right: 0; margin: auto; z-index: 20; width: 215px; height: 8px;";var l=document.createElement("img");l.src=creative.resourceUrl+"runner/clazzes/CreativeUnit/loading-back.png",l.style.position="absolute",l.style.width="100%",l.style.height="100%",r.appendChild(l);var o=document.createElement("div");o.style.position="absolute",o.style.top="2px",o.style.bottom="2px",o.style.left="3px",o.style.right="3px",r.appendChild(o);var s=document.createElement("div");return s.style.background="url("+creative.resourceUrl+"runner/clazzes/CreativeUnit/loading-over.png) "+i+" repeat-x",s.style.position="absolute",s.style.width="0",s.style.height="100%",o.appendChild(s),r.start=function(){function i(){if(r.parentNode){var n=Math.min((new Date-l)/e,t);s.style.width=100*n+"%",t>n&&setTimeout(i,2*a*Math.random())}}if(!n){n=!0;var l=new Date;setTimeout(i,0)}},r};
var EventEmitter={emit:function(t){var e=this._listeners;if(e&&e[t]){var n=[].slice.call(arguments,1);e[t].forEach(function(t){t.apply(window,n)})}},emits:function(){var t=arguments;return function(){this.emit.apply(this,t)}.bind(this)},addListener:function(t,e){var n=this._listeners;n||(n=this._listeners={}),n[t]||(n[t]=[]),n[t].push(e)},removeListener:function(t,e){var n=this._listeners;n&&n[t]&&(n[t]=n[t].filter(function(t){return t!==e}))},once:function(t,e){var n=this;n.on(t,function i(){n.off(t,i),e.apply(this,arguments)})},onAll:function(t,e){t.split(" ").waitForEach(function(t,e){this.once(t,e)},e,this)}};EventEmitter.on=EventEmitter.addListener,EventEmitter.off=EventEmitter.removeListener,EventEmitter.addEventListener=EventEmitter.addListener,EventEmitter.removeEventListener=EventEmitter.removeListener;;
function InViewObject(t,e){this.view=t,this.inViewParent=e,this._init()}extend(InViewObject.prototype,EventEmitter),InViewObject.prototype._init=function(){this.rectInView=CRect.ZERO,this.areaInViewRatio=0,this.active=!1,this._maxPossibleDimensions={width:0,height:0,area:0},this.computeRectInView=this.computeRectInView.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this)},InViewObject.prototype.getNode=function(){return this.view.getNode()},InViewObject.prototype.getParentMaxPossDims=function(){return this.inViewParent?this.inViewParent.getMaxPossibleDimensions():this.adapter.getViewportRect()},InViewObject.prototype.computeRectInView=function(){var t=this.inViewParent.getRectInView(),e=this.getBoundingClientRect(),i=t.intersect(e),n=!1;this.rectInView.equals(i)||(this.rectInView=i,n=!0),this._computeMaxPossibleDimensions(e,this.getParentMaxPossDims());var s=this._maxPossibleDimensions.area>0?i.area/this._maxPossibleDimensions.area:0,o=!1;s!==this.areaInViewRatio&&(this.areaInViewRatio=s,o=!0),n&&(this.emit("rectInViewChanged",i),Logger("InViewObject").debug(this.view.toString()+", rectInViewChanged: "+this.rectInView.toString())),o&&(this.emit("areaInViewRatioChanged",s),Logger("InViewObject").debug(this.view.toString()+", areaInViewRatioChanged: "+s))},InViewObject.prototype.getBoundingClientRect=function(){var t=this.getNode();return t?CRect.adopt(t.getBoundingClientRect()):CRect.ZERO},InViewObject.prototype.getMaxPossibleDimensions=function(){return this._maxPossibleDimensions},InViewObject.prototype._computeMaxPossibleDimensions=function(t,e){this._maxPossibleDimensions.width=Math.min(e.width,t.width),this._maxPossibleDimensions.height=Math.min(e.height,t.height),this._maxPossibleDimensions.area=this._maxPossibleDimensions.width*this._maxPossibleDimensions.height},InViewObject.prototype.getRectInView=function(){return this.rectInView},InViewObject.prototype.getAreaInViewRatio=function(){return this.areaInViewRatio},InViewObject.prototype.start=function(){this.active||(this._start(),this.active=!0,this.computeRectInView())},InViewObject.prototype._start=function(){this.inViewParent.on("rectInViewChanged",this.computeRectInView),this.inViewParent.on("areaInViewRatioChanged",this.computeRectInView)},InViewObject.prototype.stop=function(){this.active&&(this.computeRectInView(),this._stop(),this.active=!1)},InViewObject.prototype._stop=function(){this.inViewParent.off("rectInViewChanged",this.computeRectInView),this.inViewParent.off("areaInViewRatioChanged",this.computeRectInView)};;
function TaskScheduler(){this.hub=extend({},EventEmitter)}TaskScheduler.prototype.when=function(){var t,e=this;return t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),{run:function(n){t.waitForEach(function(t,n){e.hub.once(t,n)},n)}}},TaskScheduler.prototype.notify=function(t){this.paused||this.hub.emit(t)},TaskScheduler.prototype.notifies=function(t){return function(){this.notify(t)}.bind(this)},TaskScheduler.prototype.pause=function(){this._paused=!0};;
function DryRunResultSet(t){this._actions=t}DryRunResultSet.prototype.contains=function(t,n){return this._actions.some(function(e){var o=t==e.method,u=!n||n==e.instance;return o&&u})},DryRunResultSet.prototype.getAll=function(){return this._actions},DryRunResultSet.prototype.concat=function(t){return new DryRunResultSet(this._actions.concat(t.getAll()))};;
var ActionInvocationSimulator={_dryRun:!1,_dryRunActions:[],_dryRunExecutedActionsLocalIds:[],beginDryRun:function(){this._dryRun=!0,this._dryRunActions=[],this._dryRunExecutedActionsLocalIds=[]},endDryRun:function(){var n=this._dryRunActions;return this._dryRun=!1,this._dryRunActions=[],this._dryRunExecutedActionsLocalIds=[],new DryRunResultSet(n)},isDryRun:function(){return this._dryRun},needsDryRun:function(n){return!this._dryRunExecutedActionsLocalIds[n]},logActionDryRun:function(n,t,u){this._dryRunExecutedActionsLocalIds[n]=!0,this._dryRunActions.push({method:t,instance:u})}};;
var TriggerHost={_getTriggers:function(r,i){return i||(i=retTrue),this.triggers.filter(function(t){return t.type==r&&i(t.parameters,t)})},_fireArrayOfTriggers:function(r,i,t){var e=this;i||(i=noop),t||(t=new ActionContext(e)),r.waitForEach(function(r,i){r.onFire?r.onFire(t,i):i()},i)},hasTriggers:function(r,i){return this._getTriggers(r,i).length>0},fireTriggersDryRun:function(r,i,t,e){var n;try{ActionInvocationSimulator.beginDryRun(),this.fireTriggers(r,i,t,e)}finally{n=ActionInvocationSimulator.endDryRun()}return n},fireTriggers:function(r,i,t,e){var n=this._getTriggers(r,i);this._fireArrayOfTriggers(n,t,e)},fireSortedTriggers:function(r,i,t,e,n){var g=this._getTriggers(r,i),n=n||null;this._fireArrayOfTriggers(g.sort(n),t,e)},triggerAction:function(r,i,t){this.fireTriggers(i.eventName,null,t,r)},triggerByLocalIdAction:function(r,i,t){var e=i.event?[i.event]:[];this._fireArrayOfTriggers(e,t,r)},triggerByLocalIdActionDryRun:function(r,i,t){this.triggerByLocalIdAction(r,i,t)}};;
function ActionContext(e,t){if(this._id=randInt(),this.initiator=e,this.initiationTimestamp=new Date/1e3,"object"==typeof t?(this.consideredUserInitiatedByBrowser=!!t.consideredUserInitiatedByBrowser,this.certainlyNotCausedByUserBehavior=!!t.certainlyNotCausedByUserBehavior):(this.consideredUserInitiatedByBrowser=!!t,this.certainlyNotCausedByUserBehavior=!1),this.inUserInitiatedIteration=this.consideredUserInitiatedByBrowser,this.consideredUserInitiatedByBrowser&&this.certainlyNotCausedByUserBehavior)throw new Error("Unable to create an ActionContext where both consideredUserInitiatedByBrowser and certainlyNotCausedByUserBehavior are true!");if(this.shouldTrackUVTEvents=creative.shouldTrackUVTEvents,this.shouldTrackClassicEvents=!0,e instanceof View||(this.shouldTrackUVTEvents=!1),e instanceof Screen?(this.screen=e,this.screenObject=null,this.unitVariant=this.screen.parentUnitVariant):e instanceof ScreenObject?(this.screen=e.parentScreen,this.screenObject=e,this.unitVariant=this.screen.parentUnitVariant):"undefined"!=typeof CreativeUnitVariant&&e instanceof CreativeUnitVariant?(this.screen=null,this.screenObject=null,this.unitVariant=e):this.shouldTrackClassicEvents=!1,e instanceof Screen?this.screenUVT=e:(e instanceof ScreenObject||e instanceof ScreenObjectContainer)&&(this.screenUVT=e.parentScreen),this.inUserInitiatedIteration){var i=function(){this.inUserInitiatedIteration=!1}.bind(this);defer(i),nextFrame(i)}this.trackUserInteraction=this.trackUserInteraction.bind(this),this._isAttributable=this.screen?this._isScreenReadyForEventAttribution():!1,this._isAttributableUVT=this.screenUVT?this._isScreenReadyForEventAttributionUVT():!0}ActionContext.prototype._isScreenReadyForEventAttribution=function(){return this.screen.isMasterScreen()?this.screen.parentContainer.screens.some(function(e){return e.appearedAtLeastOnce&&e.isNormalScreen()}):this.screen.appearedAtLeastOnce},ActionContext.prototype._isScreenReadyForEventAttributionUVT=function(){return this.screenUVT.isMasterScreen()||this.screenUVT.isLoadingScreen()?this.screenUVT.parentContainer.screens.some(function(e){return e.appearedAtLeastOnce&&e.isNormalScreen()}):this.screenUVT.appearedAtLeastOnce},ActionContext.prototype.extendEvent=function(e){return extend({unitName:this.unitVariant?this.unitVariant.parentUnit.name:this.screen.parentUnit.name,unitVariantLocalId:this.unitVariant?this.unitVariant.localId:null,screenLocalId:this.screen?this.screen.localId:null,screenTitle:this.screen?this.screen.title:null,screenIsMaster:this.screen?this.screen.isMasterScreen():null,objectLocalId:this.screenObject?this.screenObject.localId:null,objectName:this.screenObject?this.screenObject.name:null,objectClazz:this.screenObject?this.screenObject.constructor.name:null,initiationTimestamp:this.initiationTimestamp},e)},ActionContext.prototype.extendEventUVT=function(e){var t={localId:this.initiator.localId,initiationTimestamp:this.initiationTimestamp,testDeploy:!0};return"viewShown"==e.name&&(t.parentLocalId=this.initiator.parentContainer?this.initiator.parentContainer.localId:this.initiator.parentObject?this.initiator.parentObject.localId:null),extend(t,e)},ActionContext.prototype.track=function(e,t){var i=this.shouldTrackUVTEvents&&"screenShown"!=e.name;"viewShown"==e.name||this._isAttributable||console.warn('Event "'+e.name+'" appears to be initated before a screen was ever shown and will be ignored.'),this.shouldTrackClassicEvents&&("viewShown"!=e.name||"viewShown"==e.name&&(this.screenObject&&this.screenObject.isTrackable||"CreativeUnitVariant"===e.clazz))&&creative.track(this.extendEvent(e),i?noop:t),i&&creative.track(this.extendEventUVT(e),t)},ActionContext.prototype.trackUserInteraction=function(){if(creative.runtimeParams.userInteracted)creative.interactionTrackingTimeout||(this.track({name:"interaction"}),creative.interactionTrackingTimeout=setTimeout(function(){creative.interactionTrackingTimeout=null},1e3));else{if(creative.runtimeParams.userInteracted=1,creative.experiments.get("TrackViewableAreaChange")){var e=creative.adapter;e.canMeasureViewportPlacementGeometry&&"function"==typeof e.trackViewableAreaRatio&&e.trackViewableAreaRatio()}this.track({name:"firstInteraction"})}creative.userInteracted(this)},ActionContext.prototype.trackClickThrough=function(e){e||(e=noop),creative.runtimeParams.clickedThrough?setTimeout(e,0):(creative.runtimeParams.clickedThrough=1,this.track({name:"firstClickThrough"},e)),creative.clickedThrough(this)};;
function VideoContext(t,e,i){VideoContext.uberConstructor.call(this,t instanceof ActionContext?t.initiator:t,t&&t.userInitiated),this.file=e,this.url=e.getUrl(),this.label=i,this.source=null}inherit(VideoContext,ActionContext),VideoContext._eventNames=["videoDurationUpdate","videoPlayAttempted","videoPlayedSegment","videoStart","videoFirstQuartile","videoMidpoint","videoThirdQuartile","videoComplete"],VideoContext.prototype.registerSource=function(t){if(!t)throw"Not a valid source of video events.";this.source=t,VideoContext._eventNames.forEach(function(t){this.source.on(t,function(e){this.handleEvent(t,e)}.bind(this))}.bind(this))},VideoContext.prototype.handleEvent=function(t,e){this.track(extend(JSON.parse(JSON.stringify(e||{})),{name:t}))},VideoContext.prototype.track=function(t){if("videoPlayAttempted"==t.name){var e=this.file.url?"URL":"File";extend(t,{sourceType:e,source:"URL"==e?this.file.url:this.file.blobHash,label:this.label})}VideoContext.uber.track.call(this,t)};;
function ShakeListener(){this.shakeThreshold=1.5,this.canListen=!0,this.slidingWindow=5,this.signals=[],this.handleMotion=this.handleMotion.bind(this),this.topWindow=creative.adapter.getTopWindow()}extend(ShakeListener.prototype,EventEmitter),ShakeListener.prototype.start=function(){this.canListen=!0,creative.deviceMotionListenerAdded||(creative.deviceMotionListenerAdded=!0,this.topWindow.addEventListener("devicemotion",this.handleMotion))},ShakeListener.prototype.stop=function(){this.canListen=!1,creative.deviceMotionListenerAdded&&(creative.deviceMotionListenerAdded=!1,this.topWindow.removeEventListener("devicemotion",this.handleMotion))},ShakeListener.prototype.handleMotion=function(i){if(this.canListen){this.signals.push(i.accelerationIncludingGravity),this.signals.length>this.slidingWindow&&this.signals.shift();var e=this.signals.reduce(function(i,e){return{x:i.x+e.x,y:i.y+e.y,z:i.z+e.z}}),t={x:e.x/this.signals.length,y:e.y/this.signals.length,z:e.z/this.signals.length};if(this.prevSignal){var s=null,n=Math.abs(t.x-this.prevSignal.x),h=Math.abs(t.y-this.prevSignal.y),a=Math.abs(t.z-this.prevSignal.z);if(90===Math.abs(creative.adapter.orientation)){var o=h;h=n,n=o}n>h&&n>a&&n>this.shakeThreshold?s="x":h>n&&h>a&&h>this.shakeThreshold?s="y":a>n&&a>h&&a>this.shakeThreshold&&(s="z"),(n>this.shakeThreshold||h>this.shakeThreshold||a>this.shakeThreshold)&&this.emit("shake",s)}this.prevSignal=t}};;
!function(){"use strict";function t(t){for(var e in t)this[e]=t[e]}var e=function(t){var e="undefined"!=typeof FontFace,i=/iP(?:ad|hone|od).*OS ([0-9_]+)/.exec(t),o=!!i&&parseInt(i[1],10)>=10,n=/^(?!.*(?:Android|Chrome)).*Version\/(\d+(?:\.\d+)*).*?Safari/.exec(t);if(n||o)return!1;var r=/Gecko.*Firefox\/(\d+)/.exec(t);return r?e&&parseInt(r[1],10)>46:e}(window.navigator.userAgent);t.prototype.getBrowserCompatibleFontFamily=function(){var t=this.supportsStretch()&&this.stretch?this.family+" "+this.stretch:this.family;if(t.length>25){for(var e,i=5381,o=0,n=t.length;n>o;o++)e=t.charCodeAt(o),i=(i<<5)+i+e;return i.toString()}return t},t.prototype.setBaseUrl=function(t){this.baseUrl=t},t.prototype.isCustom=function(){return"custom"===this.provider},t.prototype.isGoogle=function(){return"google"===this.provider},t.prototype.isMonotype=function(){return"monotype"===this.provider},t.prototype.isSystem=function(){return"system"===this.provider},t.prototype.needsLoading=function(){return this.isMonotype()||this.isGoogle()||this.isCustom()},t.prototype.supportsStretch=function(){return this.isMonotype()||this.isCustom()},t.prototype.getCssProperties=function(){return{"font-family":this.needsLoading()?'"'+this.getBrowserCompatibleFontFamily()+'", Helvetica, sans-serif':this.getBrowserCompatibleFontFamily(),"font-style":this.style,"font-weight":this.weight}},t.prototype.getFileUrl=function(t){if("undefined"!=typeof this.files&&"undefined"!=typeof this.files[t]){var e;if(this.files[t].hasOwnProperty("blobHash")){var i=this.files[t].name||"webfont";e=this.files[t].blobHash+"/"+i}else e=this.files[t];return this.baseUrl+e+"."+t}},t.prototype.getStyleForVariation=function(){var t=/normal|italic|oblique/i.exec(this.style);return"undefined"!=typeof t?t[0]:void 0},t.prototype.getWeightForVariation=function(){var t=/normal|bold|([1-9])00/i.exec(this.weight);return"undefined"!=typeof t?t[0]:void 0},t.prototype.generateFontFace=function(){var t="",e=this.getFileUrl("ttf"),i=this.getFileUrl("woff");return this.style&&this.weight&&(e||i)&&(t="@font-face {",t+='font-family: "'+this.getBrowserCompatibleFontFamily()+'";',t+="font-style: "+this.style+";",t+="font-weight: "+this.weight+";",t+="src:",i&&(t+='url("'+i+'") format("woff")'),e&&i&&(t+=","),e&&(t+='url("'+e+'") format("truetype")'),t+=";}"),t},t.prototype.loadStyle=function(t){t=t||function(){};var i=this.getBrowserCompatibleFontFamily(),o=function(e){t(e||"Failed to load font files.")},n=function(){if(e){var n="300px",r=this.style+" "+this.weight+" "+n+' "'+i+'"';document.fonts.load(r).then(function(e){1===e.length?t():o()},function(){o()})}else{if("undefined"==typeof FontLoader)return void o("Font Loader is not initialized.");FontLoader.watch(i,this.style,this.weight,t,o)}}.bind(this);if(this.isCustom()||this.isMonotype()){var r="font-style-manager",s=document.getElementById(r);s||(s=document.createElement("style"),s.id=r,document.getElementsByTagName("head")[0].appendChild(s));var a=this.generateFontFace(),l=[].slice.apply(s.sheet.cssRules).some(function(t){var e=t.style.getPropertyValue("font-family").replace(/^['"](.+)['"]$/,"$1");return e==this.getBrowserCompatibleFontFamily()&&t.style.getPropertyValue("font-style")==this.style&&t.style.getPropertyValue("font-weight")==this.weight}.bind(this));l||s.sheet.insertRule(a,s.sheet.cssRules.length),n()}else if(this.isGoogle()){var f=("https:"===document.location.protocol?"https":"http")+"://fonts.googleapis.com/css",h=i.replace(/ /g,"+"),u=this.variation;if(!u){var d="",p="",y=this.getWeightForVariation();if("undefined"!=typeof y){p=y,"normal"==p?p=400:"bold"==p&&(p=700);var c=this.getStyleForVariation();"undefined"!=typeof c&&"italic"==c&&(d=c)}u=p+d}u&&(h+=":"+u);var g=f+"?family="+h,m=[].slice.apply(document.getElementsByTagName("link")).filter(function(t){return t.href===g})[0];if(m||(m=document.createElement("link"),m.setAttribute("rel","stylesheet"),m.setAttribute("media","all"),m.setAttribute("href",g)),e){var v=function(){m._finished=!0,n()};m._finished?n():(m.addEventListener("load",v),m.addEventListener("error",v))}else"undefined"!=typeof defer?defer(n,0,"FontBase.loadStyle defer watchFont"):setTimeout(n,0);m.parentNode||document.getElementsByTagName("head")[0].appendChild(m)}else this.isSystem()?t():o("Invalid or unsupported provider.")},Object.defineProperty(t,"useCSSFontLoadingAPI",{value:e}),window.FontBase=t}();;
var ScreenTransition={replace:function(t,e,r,s,i,a){r.style.opacity=0,r.style.display="block",s.style.display="block",e.style.display="none",nextFrame(function(){r.style.opacity=1,t.style.opacity=0,nextFrame(function(){t.style.display="none",nextFrame(a||noop)})})},fade:function(t,e,r,s,i,a){function n(){celtra.styler.css(r,"transition",""),celtra.styler.css(t,"transition",""),t.style.display="none",nextFrame(a||noop)}r.style.opacity=0,r.style.display="block",s.style.display="block",e.style.display="none",once(t,"transitionend",n),nextFrame(function(){celtra.styler.css(t,"transition","opacity "+i.duration+"ms ease-out"),celtra.styler.css(r,"transition","opacity "+i.duration+"ms ease-out"),nextFrame(function(){r.style.opacity=1,t.style.opacity=0})})},slide:function(t,e,r,s,i,a){var n={transition:"all "+i.duration+"ms ease-out"};switch(i.direction||"west"){case"north":n.startingFrom="translateY(0)",n.endingFrom="translateY("+-i.unitSize.height+"px)",n.startingTo="translateY("+i.unitSize.height+"px)",n.endingTo="translateY(0)";break;case"south":n.startingFrom="translateY(0)",n.endingFrom="translateY("+i.unitSize.height+"px)",n.startingTo="translateY("+-i.unitSize.height+"px)",n.endingTo="translateY(0)";break;case"east":n.startingFrom="translateX(0)",n.endingFrom="translateX("+i.unitSize.width+"px)",n.startingTo="translateX("+-i.unitSize.width+"px)",n.endingTo="translateX(0)";break;case"west":n.startingFrom="translateX(0)",n.endingFrom="translateX("+-i.unitSize.width+"px)",n.startingTo="translateX("+i.unitSize.width+"px)",n.endingTo="translateX(0)"}n.startingFromOpacity=1,n.startingToOpacity=0,n.endingFromOpacity=0,n.endingToOpacity=1,this._runTransition(t,e,r,s,n,i.duration,a)},flip:function(t,e,r,s,i,a){var n={transition:"all "+i.duration+"ms ease-out"},o="perspective("+2*i.unitSize.width+"px) ";switch(i.direction||"west"){case"north":n.startingFrom=o+"rotateX(0)",n.endingFrom=o+"rotateX(180deg)",n.startingTo=o+"rotateX(-180deg)",n.endingTo=o+"rotateX(0)";break;case"south":n.startingFrom=o+"rotateX(0)",n.endingFrom=o+"rotateX(-180deg)",n.startingTo=o+"rotateX(180deg)",n.endingTo=o+"rotateX(0)";break;case"east":n.startingFrom=o+"rotateY(0)",n.endingFrom=o+"rotateY(180deg)",n.startingTo=o+"rotateY(-180deg)",n.endingTo=o+"rotateY(0)";break;case"west":n.startingFrom=o+"rotateY(0)",n.endingFrom=o+"rotateY(-180deg)",n.startingTo=o+"rotateY(180deg)",n.endingTo=o+"rotateY(0)"}celtra.styler.css(t.parentNode,"transformStyle","preserve-3d"),celtra.styler.css(t,"backfaceVisibility","hidden"),celtra.styler.css(e,"backfaceVisibility","hidden"),celtra.styler.css(r,"backfaceVisibility","hidden"),celtra.styler.css(s,"backfaceVisibility","hidden"),celtra.styler.css(t,"transformOrigin","50% 50% 0"),celtra.styler.css(e,"transformOrigin","50% 50% 0"),celtra.styler.css(r,"transformOrigin","50% 50% 0"),celtra.styler.css(s,"transformOrigin","50% 50% 0"),this._runTransition(t,e,r,s,n,i.duration,function(){celtra.styler.css(t.parentNode,"transformStyle",""),celtra.styler.css(t,"backfaceVisibility",""),celtra.styler.css(e,"backfaceVisibility",""),celtra.styler.css(r,"backfaceVisibility",""),celtra.styler.css(s,"backfaceVisibility",""),celtra.styler.css(t,"transform",""),celtra.styler.css(e,"transform",""),celtra.styler.css(r,"transform",""),celtra.styler.css(s,"transform",""),celtra.styler.css(t,"transformOrigin",""),celtra.styler.css(e,"transformOrigin",""),celtra.styler.css(r,"transformOrigin",""),celtra.styler.css(s,"transformOrigin",""),nextFrame(a||noop)})},cube:function(t,e,r,s,i,a){var n={transition:"all "+i.duration+"ms ease-out"},o="perspective("+2*i.unitSize.width+"px) ";switch(i.direction||"west"){case"north":n.startingFrom=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(0)     ",n.endingFrom=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(90deg) ",n.startingTo=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(-90deg)",n.endingTo=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(0)     ";break;case"south":n.startingFrom=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(0)     ",n.endingFrom=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(-90deg)",n.startingTo=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(90deg) ",n.endingTo=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(0)     ";break;case"east":n.startingFrom=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(0)     ",n.endingFrom=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(90deg) ",n.startingTo=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(-90deg)",n.endingTo=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(0)     ";break;case"west":n.startingFrom=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(0)     ",n.endingFrom=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(-90deg)",n.startingTo=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(90deg) ",n.endingTo=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(0)     "}var l=t.style.overflow,c=e.style.overflow,y=r.style.overflow,d=s.style.overflow;switch(celtra.styler.css(t.parentNode,"transformStyle","preserve-3d"),t.style.overflow=e.style.overflow="hidden",r.style.overflow=s.style.overflow="hidden",t.style.backfaceVisibility=e.style.backfaceVisibility="hidden",r.style.backfaceVisibility=s.style.backfaceVisibility="hidden",i.direction||"west"){case"north":case"south":celtra.styler.css(t,"transformOrigin","50% 50% "+-i.unitSize.height/2+"px"),celtra.styler.css(e,"transformOrigin","50% 50% "+-i.unitSize.height/2+"px"),celtra.styler.css(r,"transformOrigin","50% 50% "+-i.unitSize.height/2+"px"),celtra.styler.css(s,"transformOrigin","50% 50% "+-i.unitSize.height/2+"px");break;case"east":case"west":celtra.styler.css(t,"transformOrigin","50% 50% "+-i.unitSize.width/2+"px"),celtra.styler.css(e,"transformOrigin","50% 50% "+-i.unitSize.width/2+"px"),celtra.styler.css(r,"transformOrigin","50% 50% "+-i.unitSize.width/2+"px"),celtra.styler.css(s,"transformOrigin","50% 50% "+-i.unitSize.width/2+"px")}this._runTransition(t,e,r,s,n,i.duration,function(){celtra.styler.css(t.parentNode,"transformStyle",""),t.style.overflow=l,e.style.overflow=c,r.style.overflow=y,s.style.overflow=d,celtra.styler.css(t,"transformOrigin",""),celtra.styler.css(e,"transformOrigin",""),celtra.styler.css(r,"transformOrigin",""),celtra.styler.css(s,"transformOrigin",""),celtra.styler.css(t,"backfaceVisibility",""),celtra.styler.css(e,"backfaceVisibility",""),celtra.styler.css(r,"backfaceVisibility",""),celtra.styler.css(s,"backfaceVisibility",""),nextFrame(a||noop)})},_runTransition:function(t,e,r,s,i,a,n){function o(){celtra.styler.css(r,"transition",""),celtra.styler.css(s,"transition",""),celtra.styler.css(t,"transition",""),celtra.styler.css(e,"transition",""),celtra.styler.css(r,"transform",""),celtra.styler.css(s,"transform",""),celtra.styler.css(t,"transform",""),celtra.styler.css(e,"transform",""),t.style.display=e.style.display="none",t.style.opacity=e.style.opacity=r.style.opacity=s.style.opacity="",nextFrame(n||noop)}celtra.styler.css(t,"transform",i.startingFrom),celtra.styler.css(e,"transform",i.startingFrom),celtra.styler.css(r,"transform",i.startingTo),celtra.styler.css(s,"transform",i.startingTo),t.style.opacity=e.style.opacity="undefined"==typeof i.startingFromOpacity?1:i.startingFromOpacity,r.style.opacity=s.style.opacity="undefined"==typeof i.startingToOpacity?1:i.startingToOpacity,r.style.display=s.style.display="block";var l=this._runOnce(o);once(r,"transitionend",l),setTimeout(function(){celtra.styler.css(r,"transition",i.transition),celtra.styler.css(t,"transition",i.transition),celtra.styler.css(s,"transition",i.transition),celtra.styler.css(e,"transition",i.transition),nextFrame(function(){celtra.styler.css(t,"transform",i.endingFrom),celtra.styler.css(e,"transform",i.endingFrom),celtra.styler.css(r,"transform",i.endingTo),celtra.styler.css(s,"transform",i.endingTo),t.style.opacity=e.style.opacity="undefined"==typeof i.endingFromOpacity?1:i.endingFromOpacity,r.style.opacity=s.style.opacity="undefined"==typeof i.endingToOpacity?1:i.endingToOpacity}),setTimeout(l,a+50)},20)},run:function(t,e,r,s,i){var a=this._getSupportedAnimation(i.animation||"replace");if(!(a in this))throw new Error("The transition function does not exist!");this[a].apply(this,arguments)},_getSupportedAnimation:function(t){return!android("4")||window.navigator.userAgent.match(/Chrome.*(Mobile)? Safari/)||"cube"!==t&&"flip"!==t?t:"fade"},_runOnce:function(t){var e=!1;return function(){return e?void 0:(e=!0,t())}}};;
function AdViewableTimeObserver(e){this._tracker=e,this._readyToShow=!1,this._adapter}function AdViewableInViewObjectObserver(){AdViewableInViewObjectObserver.uberConstructor.apply(this,arguments),this._inViewObjects=[],this._viewableInViewObjects=[]}function AdViewableUnitObserver(){AdViewableUnitObserver.uberConstructor.apply(this,arguments),this._units=[],this._viewableUnits=[],this._containerIsViewable=!1}AdViewableTimeObserver.prototype.readyToShow=function(){throw new Error("AdViewableInViewObjectObserver.readyToShow not implemented!")},AdViewableTimeObserver.prototype.registerUnit=function(){throw new Error("AdViewableInViewObjectObserver.registerUnit not implemented!")},AdViewableTimeObserver.prototype.registerAdapter=function(){throw new Error("AdViewableTimeObserver.registerAdapter not implemented!")},AdViewableTimeObserver.prototype.stop=function(){this._tracker.stop()},inherit(AdViewableInViewObjectObserver,AdViewableTimeObserver),AdViewableInViewObjectObserver.prototype.registerAdapter=function(e){this._adapter=e;var t=this._tracker;e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){0===this._viewableInViewObjects.length&&t.stop()}.bind(this))},AdViewableInViewObjectObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableInViewObjectObserver.prototype.registerUnit=function(e){var t=e.inView,i=this._inViewObjects,r=this._viewableInViewObjects,a=this._tracker;if(-1===i.indexOf(t)){i.push(t);var n=-1!==r.indexOf(t);!n&&t.getAreaInViewRatio()>0&&r.push(t),this._tryStartTracker(),t.on("areaInViewRatioChanged",function(e){var i=r.indexOf(t),n=-1!==i;!n&&e>0?(r.push(t),this._tryStartTracker()):0===e&&n&&(r.splice(i,1),0===r.length&&a.stop())}.bind(this))}},AdViewableInViewObjectObserver.prototype._tryStartTracker=function(){var e=this._adapter,t=e&&e.mediaState.playingVideo;return this._readyToShow&&(this._viewableInViewObjects.length>0||t)?(this._tracker.start(),!0):!1},inherit(AdViewableUnitObserver,AdViewableTimeObserver),AdViewableUnitObserver.prototype.registerAdapter=function(e){this._adapter=e,this._containerIsViewable=e.containerIsViewable;var t=this._tracker;e.on("containerViewableChange",function(e){this._containerIsViewable=e,e?this._tryStartTracker():t.stop()}.bind(this)),e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){this._adapter.containerIsViewable&&0!==this._viewableUnits.length||t.stop()}.bind(this))},AdViewableUnitObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableUnitObserver.prototype.registerUnit=function(e){if(!this._adapter)throw new Error("adapter was not registered yet!");var t=this._units,i=this._viewableUnits,r=this._tracker;-1===t.indexOf(e)&&(t.push(e),-1===i.indexOf(e)&&e._visible&&(i.push(e),this._tryStartTracker()),e.on("appeared",function(){-1===i.indexOf(e)&&(i.push(e),this._tryStartTracker())}.bind(this)),e.on("disappeared",function(){var t=i.indexOf(e);-1!==t&&(i.splice(t,1),0===i.length&&r.stop())}.bind(this)))},AdViewableUnitObserver.prototype._tryStartTracker=function(){var e=this._adapter;return e&&(e.containerIsViewable||e.mediaState.playingVideo)&&this._readyToShow&&this._viewableUnits.length>0?(this._tracker.start(),!0):!1};;
function AdViewableTimeTracker(i,e,t,n){this._trackingCenter=i,this._raf=e,this._win=t,this._intervals=n||{3e3:1e3,1e4:2e3,63e3:3e3},this._isRunning=!1,this._viewableMilliseconds=0,this._fromTime=0,this._pendingPingTimeoutId,this._pendingPingRafId,this._maxRafLatency=500}AdViewableTimeTracker.eventName="viewableTime",AdViewableTimeTracker.TrackingData=function(i,e){return i>e&&(e=i),{name:AdViewableTimeTracker.eventName,from:i/1e3,to:e/1e3}},AdViewableTimeTracker.prototype.start=function(){this._isRunning||(this._isRunning=!0,this._fromTime=Date.now(),0===this._viewableMilliseconds?this._initPing():this._setNextPing())},AdViewableTimeTracker.prototype.stop=function(){if(this._clearPendingPing(),this._isRunning&&-1!==this._getPingInterval()){var i=Date.now(),e=i-this._fromTime;this._viewableMilliseconds+=e;var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t)}this._isRunning=!1},AdViewableTimeTracker.prototype._initPing=function(){var i=this._fromTime,e=this._getPingInterval(),t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._pendingPingRafId=this._raf.nextFrame(function(){this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))},AdViewableTimeTracker.prototype._setNextPing=function(){function i(){if(this._isRunning){var i=Date.now();this._viewableMilliseconds+=e,this._normalizeFromTime(i,e),this._pendingPingRafId=this._raf.nextFrame(function(){var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))}}this._clearPendingPing();var e=this._getPingInterval();this._isRunning&&-1!==e&&(this._pendingPingTimeoutId=this._win.setTimeout(i.bind(this),e))},AdViewableTimeTracker.prototype._normalizeFromTime=function(i,e){var t=i-this._fromTime,n=e+this._maxRafLatency;t>n&&(this._fromTime=i)},AdViewableTimeTracker.prototype._setFromTimeForNextPing=function(i,e){var t=Date.now(),n=t-i,r=n>e;this._fromTime=r?t:i},AdViewableTimeTracker.prototype._getPingInterval=function(){var i=this._viewableMilliseconds,e=this._intervals,t=Object.keys(this._intervals),n=1*t[t.length-1],r=-1;return t.some(function(t){return 1*t>i?(r=e[t],i+r>n&&(r=-1),!0):!1}),r},AdViewableTimeTracker.prototype._clearPendingPing=function(){this._raf.cancelFrame(this._pendingPingRafId),this._win.clearTimeout(this._pendingPingTimeoutId)},AdViewableTimeTracker.prototype._track=function(i){this._trackingCenter.track(i)};;
!function(t){function i(){this.playingVideo=!1}var e=i.prototype;extend(e,EventEmitter),e.stopVideo=function(){this.playingVideo=!1,this.emit("videoStopped")},e.startVideo=function(){this.playingVideo=!0,this.emit("videoStarted")},t.MediaState=i}(window);;
function StateObject(t){Object.defineProperties(this,{values:{enumerable:!1,configurable:!1,writable:!0,value:{}},_isDirty:{enumerable:!1,configurable:!1,writable:!0,value:!1}}),Object.keys(t).forEach(function(e){this.registerValue(e,t[e])},this)}extend(StateObject.prototype,EventEmitter),StateObject.prototype.registerValue=function(t,e){this.values[t]={dirty:!1,value:e},Object.defineProperty(this,t,{get:function(){return this.values[t].value},set:function(e){var i=this.values[t],r=i.value;e!=r&&(i.dirty=!0,i.value=e,this._isDirty=!0,this.emit("change:"+t,e,r))},enumerable:!0})},StateObject.prototype.markClean=function(t){var e=!1;Object.keys(this.values).forEach(function(i){t&&i!==t||(this[i].dirty=!1),e=e||this[i].dirty},this.values),this._isDirty=e},StateObject.prototype.getDirtyValues=function(){for(var t={},e=Object.keys(this.values),i=0;i<e.length;i++)this.values[e[i]].dirty&&(t[e[i]]=this.values[e[i]].value);return t},StateObject.prototype.isDirty=function(t){return"undefined"==typeof t?this._isDirty:this.values[t].dirty},StateObject.prototype.anyDirty=function(t){arguments.length>1&&(t=Array.prototype.slice.apply(arguments));for(var e=0;e<t.length;e++)if(this.values[t[e]].dirty)return!0;return!1},StateObject.prototype.copy=function(){var t=JSON.parse(JSON.stringify(this.values));return new StateObject(t)},StateObject.prototype.copyFrom=function(t){for(var e in t.values)this[e]=t[e]};;
function StateAnimation(t,i){this.stateObject=t,this.propertyName=i,this.running=!1,this.lastUpdateTime=null,this.tick=this.tick.bind(this),this._callback=null}function SpringyAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},SpringyAnimation.defaults,e||{}),this.state={x:t[i],v:0},this.derivative={dx:0,dv:0}}function EasingAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},EasingAnimation.defaults,e||{}),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null}StateAnimation.prototype.start=function(){this.running||(this.lastUpdateTime=null,this.running=!0,Ticker.frame(this.tick,"update"))},StateAnimation.prototype.pause=function(){Ticker.removeFrame(this.tick,"update"),this.running=!1},StateAnimation.prototype.tick=function(){var t=Date.now();this.update(t-(this.lastUpdateTime||t)),this.lastUpdateTime=t},StateAnimation.prototype.update=function(){throw new Error("Not implemented")},Object.defineProperty(StateAnimation.prototype,"value",{get:function(){return this.stateObject[this.propertyName]},set:function(t){this.stateObject[this.propertyName]=t},enumerable:!0}),inherit(SpringyAnimation,StateAnimation),SpringyAnimation.defaults={springForce:1e3,damping:20,restThreshold:1},SpringyAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),"function"==typeof i&&(e=i,i=0),this.d=t,this.state.v="number"==typeof i?i:0,this.state.x=this.value,this._callback=e,this.start()},SpringyAnimation.prototype.update=function(t){var i=Math.min(.03,t/1e3),e=Math.abs(this.state.x-this.d);e<this.options.restThreshold&&Math.abs(this.state.v)<this.options.restThreshold?(this.pause(),this.value=this.d,this.d=null,defer(this._callback||noop),this._callback=null):(this._integrate(this.state,i),this.value=this.state.x)},SpringyAnimation.prototype._integrate=function(t,i){var e=this._getDerivative(this.state),a=this._getDerivative(this.state,.5*i,e),n=this._getDerivative(this.state,.5*i,a),s=this._getDerivative(this.state,i,n);t.x+=i/6*(e.dx+2*(a.dx+n.dx)+s.dx),t.v+=i/6*(e.dv+2*(a.dv+n.dv)+s.dv)},SpringyAnimation.prototype._getDerivative=function(t,i,e){if("undefined"==typeof e)return{dx:t.v,dv:this._acceleration(t)};var a={x:t.x+e.dx*i,v:t.v+e.dv*i};return{dx:a.v,dv:this._acceleration(a,i)}},SpringyAnimation.prototype._acceleration=function(t){return-this.options.springForce*(t.x-this.d)-this.options.damping*t.v},inherit(EasingAnimation,StateAnimation),EasingAnimation.defaults={exp:1.8},EasingAnimation.presets={easeIn:.6,easeOut:1.8,linear:1},EasingAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),this._callback=e,this._startValue=this.value,this._startTime=Date.now(),this._targetValue=t,this._targetTime=i,this.start()},EasingAnimation.prototype.update=function(){{var t=Date.now()-this._startTime,i=this._targetValue-this._startValue;i/Math.abs(i)}this.value=Math.pow(t/this._targetTime,this.options.exp)*i+this._startValue,t>=this._targetTime&&(this.pause(),this.value=this._targetValue,defer(this._callback||noop),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null,this._callback=null)};;
function ThresholdObserver(e){this.threshold=e,this._value=null}extend(ThresholdObserver.prototype,EventEmitter),Object.defineProperty(ThresholdObserver.prototype,"value",{get:function(){return this._value},set:function(e){if(null!==this._value&&this._value!==e){var t=this._value-this.threshold,h=e-this.threshold;0>=t*h&&(0>t?this.emit("up"):0>h&&this.emit("down"))}this._value=e}});;
function BaseCreativeUnit(){}inherit(BaseCreativeUnit,View),BaseCreativeUnit.IGNORABLES=["INPUT","SELECT","TEXTAREA"],BaseCreativeUnit.prototype.awake=function(){BaseCreativeUnit.uber.awake.call(this),this._availableSize={width:0,height:0},this._isRendering=!1},BaseCreativeUnit.prototype.createNode=function(){return Logger("unit").log("Starting to load "+this),this.on("loaded",creative.adapter.perf.start("CreativeUnit.load").end),creative.experiments.get("TrackingLoadingTimes")&&this.once("_firstScreenLoaded",function(){var e=Date.now()-1e3*creative.runtimeParams.payloadJsClientTimestamp;if(3e4>e){var t={unitName:this.name};creative.aggregatorTracking.trackAggregator("unitLoadTime",e,t),creative.aggregatorTracking.trackAggregator("unitLoadSuccesses",t)}}.bind(this)),creative.adapter.on("mediaStopRequested",this.emits("mediaStopRequested")),this.unitDiv=BaseCreativeUnit.uber.createNode.call(this),Tapper(this.unitDiv),attach(this.unitDiv,"touchstart",this._handleTouchStart.bind(this)),attach(this.unitDiv,"touchmove",this._handleTouchMove.bind(this)),this.unitDiv},BaseCreativeUnit.prototype.setAvailableSize=function(e,t){var r=this._availableSize.width!=e||this._availableSize.height!=t;return this._availableSize.width=e,this._availableSize.height=t,r},BaseCreativeUnit.prototype.getAvailableSize=function(){return{width:this._availableSize.width,height:this._availableSize.height}},BaseCreativeUnit.prototype.enterRenderTree=function(){throw new Error("Not implemented")},BaseCreativeUnit.prototype.exitRenderTree=function(){throw new Error("Not implemented")},BaseCreativeUnit.prototype.finishedLoading=function(){BaseCreativeUnit.uber.finishedLoading.call(this),Logger("unit").log("Finished loading "+this)},BaseCreativeUnit.prototype._handleTouchStart=function(e){if(!this.swipeable){for(var t=e.target;1!=t.nodeType;)t=t.parentNode;var r=function(){for(;t!==this.unitDiv;){if(t.className&&hasClass(t,"map-container"))return!0;t=t.parentNode}return!1}.bind(this);-1!=BaseCreativeUnit.IGNORABLES.indexOf(t.nodeName)||r()||e.preventDefault()}},BaseCreativeUnit.prototype._handleTouchMove=function(e){this.swipeable||e.preventDefault()},BaseCreativeUnit.prototype.getRxStateObject=function(){return creative.adapter.getRxStateObject(this.name)},BaseCreativeUnit.prototype.goToScreenAction=function(){throw new Error("Not implemented")},BaseCreativeUnit.prototype.alertAction=function(e,t,r){this.alert({message:t.text},r)},BaseCreativeUnit.prototype.checkOrientationAction=function(e,t,r){var a,i=creative.adapter.orientation;0===i||180===i?a=t.onPortrait:(-90==i||90==i)&&(a=t.onLandscape),a?a(e,r):r()},BaseCreativeUnit.prototype.checkOrientationActionDryRun=BaseCreativeUnit.prototype.checkOrientationAction,BaseCreativeUnit.prototype._processURLParams=function(e){return"string"!=typeof e?e:creative.macros(e)},BaseCreativeUnit.prototype._addUrlAppendage=function(e){if(creative.urlOpenedUrlAppendage){var t=this.size.width+"x"+this.size.height,r=function(e){return e.indexOf("?")>=0};return e+(r(e)?"&":"?")+creative.urlOpenedUrlAppendage.replace(new RegExp("{celtraFirstUnitSize}","ig"),t)}return e},BaseCreativeUnit.prototype.openClickThroughDestinationAction=function(e,t,r){var a=creative.clickThroughDestinationUrl,i=creative.shouldClickThroughToNewWindow(e),n=!1,o=2e3,s="clickThroughDestinationOpened",c=function(){n||(n=!0,creative.adapter.openBrowser(this._processURLParams(a),i))}.bind(this);if(a){var p=function(e){return e.indexOf("itunes.apple.com/us/app/")>0},l=function(e){return 0===e.indexOf("market://details?id=")};creative.adapter._stopAllMedia(),p(a)||l(a)?(e.track({name:s,appUri:a}),e.trackClickThrough(),creative.adapter.trackingCenter.flush(),creative.adapter.getApp(this._processURLParams(a))):(a=this._addUrlAppendage(a),e.track({name:s,url:a}),e.trackClickThrough(),!creative.adapter.canOpenUrlInSameWindow||i?(creative.adapter.trackingCenter.flush(),c()):(creative.adapter.trackingCenter.flush(c),defer(c,o)))}creative.adapter.sendToEventMonitor(s,t.triggerId,e.screen.name,a||""),r()},BaseCreativeUnit.prototype.goToURLAction=function(e,t,r){var a=creative.urlOpenedOverrideUrls&&creative.urlOpenedOverrideUrls[t.reportLabel]||t.url,i=creative.shouldClickThroughToNewWindow(e),n=!1,o=2e3,s=function(){n||(n=!0,creative.adapter.openBrowser(this._processURLParams(a),i))}.bind(this),c=(creative.experiments.get("OpenBrowserRefactor")||{}).chosenVariant,p=function(t,r,a){c&&e.track({name:"_openBrowserRefactor",experiment:c,branch:t,logic:r,environment:a})};if(!a)return r();a=this._addUrlAppendage(a);var l="urlOpened";if(creative.adapter._stopAllMedia(),e.track({name:l,url:a,label:t.reportLabel}),e.trackClickThrough(),desktop()&&windows())!creative.adapter.canOpenUrlInSameWindow||i?(p("new-window","flush-and-open","desktop-windows"),creative.adapter.trackingCenter.flush(),s()):(p("same-window","flush-then-open","desktop-windows"),creative.adapter.trackingCenter.flush(s),defer(s,o));else if("on"==c)!creative.adapter.canOpenUrlInSameWindow||i?(p("new-window","flush-and-open","all-except-desktop-windows"),creative.adapter.trackingCenter.flush(),s()):(p("same-window","flush-then-open","all-except-desktop-windows"),creative.adapter.trackingCenter.flush(s),defer(s,o));else if(!creative.adapter.canOpenUrlInSameWindow||i){p("new-window","wrap+open","all-except-desktop-windows"),c&&e.track({name:"_openBrowserRefactorFlushVsWrap",trackingWith:"wrap"});var d=creative.wrapRedirectPageUrl(this._processURLParams(a));c&&(e.track({name:"_openBrowserRefactorFlushVsWrap",trackingWith:"flush"}),creative.adapter.trackingCenter.flush()),creative.adapter.openBrowser(d,i)}else p("same-window","wrap+open","all-except-desktop-windows"),creative.adapter.openBrowser(creative.wrapRedirectPageUrl(this._processURLParams(a)),i);creative.adapter.sendToEventMonitor(l,t.triggerId,e.screen.name,a,t.reportLabel),r()},BaseCreativeUnit.prototype.facebookURLAction=function(e,t,r){if(!t.url)return r();creative.adapter._stopAllMedia(),e.track({name:"facebookShareAttempt",url:t.url,label:t.reportLabel,trackable:!1}),e.trackClickThrough();var a="http://m.facebook.com/sharer.php?u="+encodeURIComponent(t.url);creative.adapter.openBrowser(creative.wrapRedirectPageUrl(a),creative.shouldClickThroughToNewWindow(e)),r()},BaseCreativeUnit.prototype.callURLAction=function(e,t,r){if(!t.url)return r();var a=this._processURLParams(t.url),i=new Image;i.onload=i.onerror=function(){r()},i.src=a},BaseCreativeUnit.prototype.displayImageAction=function(e,t,r){if(!t.file)return r();var a=document.createElement("div");a.className="celtra-display-image-overlay touchable",a.style.backgroundImage="url("+t.file.getUrl()+")",this.unitDiv.appendChild(a),(t.file.meta.width>this.size.width||t.file.meta.height>this.size.height)&&(a.style.backgroundSize="contain"),t.color&&(a.style.backgroundColor=t.color),attach(a,"tap",function(){a.parentNode.removeChild(a),r()},!1);var i=document.createElement("div");i.className="celtra-back-button touchable "+this.alignBackButtonHorizontal,a.appendChild(i)},BaseCreativeUnit.prototype.saveImageAction=function(e,t,r){function a(a,n){var o=a.getOriginalUrl(),c=a.name,p=a.blobHash;if(i(p),creative.adapter.canSaveImage())creative.adapter.trackingCenter.flush(function(){creative.adapter.saveImage(o,c,r);var a=n||c;creative.adapter.sendToEventMonitor(s,t.triggerId,e.screen.name,a,t.reportLabel)});else{var l=new SaveImageDialog(creative.adapter,creative.resourceUrl,o);l.show(r)}}function i(r){e.track({name:s,blobHash:r,label:t.reportLabel}),e.trackClickThrough()}function n(){creative.adapter.createPlacements({preloader:{attachment:"body",positioning:"screen",type:"layer"}},function(){var e=creative.adapter.placements.preloader;e.setZIndex("max"),e.setSize("100%","100%"),e.setPosition(0,0);var t=e.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=creative.resourceUrl+"runner/clazzes/PostBlobPreloader.css",e.getContainer().appendChild(t);var r=e.createElement("div");addClass(r,"celtra-preloader-container");var a=e.createElement("div");addClass(a,"celtra-preloader-image"),a.style.backgroundImage="url("+creative.resourceUrl+"runner/clazzes/CreativeUnit/preloader.png)",r.appendChild(a),e.populate(r,function(){e.show()})})}function o(){creative.adapter.destroyPlacement("preloader")}var s="imageSaveAttempted";if(t.imageOrigin=t.imageOrigin?t.imageOrigin:"asset","component"==t.imageOrigin&&t.component)if(t.component.file)a(t.component.file,t.component.name);else{var c=t.component.getField().url,p=c.split(",")[1];n(),postBlob(p,function(e,i){if(o(),i>=200&&300>i){var n=JSON.parse(e),s=creative.cachedApiUrl+"blobs/"+n.hash+"/shared.png",c=new File(s);a(c,t.component.name)}else r()})}else"asset"==t.imageOrigin&&t.file?a(t.file):r()},BaseCreativeUnit.prototype.playSoundAction=function(e,t,r){if(!t.file)return r();var a=new Audio(t.file.getUrl());attach(a,"ended",function(){r()},!1),a.play()},BaseCreativeUnit.prototype.playVideoInPlayerAction=function(e,t,r){if(!t.file)return r();var a=creative.adapter.useFSVP,i=new VideoContext(e,t.file,t.reportLabel);i.track({engineType:"html5",name:"videoPlayAttempted",trackable:a,filename:t.file.name,userInitiated:e.consideredUserInitiatedByBrowser,startMuted:!1,videoPlayerMode:"fullscreen",videoPreset:null}),creative.adapter.playVideoInPlayer(i,function(a){var i=(a?t.onSuccess:t.onFailure)||nullai;i(e,r)})},BaseCreativeUnit.prototype.playVideoInPlayerActionDryRun=function(e,t,r){return t.file?((t.onSuccess||nullai)(e,noop),(t.onFailure||nullai)(e,noop),void r()):r()},BaseCreativeUnit.prototype.playVideoFromURLAction=function(e,t,r){if(!t.url)return r();var a=creative.adapter.useFSVP;creative.adapter._stopAllMedia(),videoContext=new VideoContext(e,new File(t.url),t.reportLabel),videoContext.track({engineType:"html5",name:"videoPlayAttempted",trackable:a,filename:null,userInitiated:e.consideredUserInitiatedByBrowser,startMuted:!1,videoPlayerMode:"fullscreen",videoPreset:null}),creative.adapter.playVideoInPlayer(videoContext,function(a){var i=(a?t.onSuccess:t.onFailure)||nullai;i(e,r)})},BaseCreativeUnit.prototype.playVideoFromURLActionDryRun=function(e,t,r){return t.url?((t.onSuccess||nullai)(e,noop),(t.onFailure||nullai)(e,noop),void r()):r()},BaseCreativeUnit.prototype.vibrateAction=function(e,t,r){r()},BaseCreativeUnit.prototype.getAppAction=function(e,t,r){var a=function(e){return new RegExp("(^http(s)?://)|(^market://)","i").test(e)},i=function(){return new RegExp("^\\d+$").test(t.appStoreUrl)?"http://itunes.apple.com/us/app/keynote/id"+t.appStoreUrl:(a(t.appStoreUrl)?"":"http://")+t.appStoreUrl},n=function(){return a(t.androidMarketAppId)?t.androidMarketAppId:"market://details?id="+t.androidMarketAppId};creative.adapter._stopAllMedia();var o;if(creative.storeOpenedOverrideUrls[t.reportLabel]?o=creative.storeOpenedOverrideUrls[t.reportLabel]:ios()&&t.appStoreUrl?o=i():android()&&t.androidMarketAppId?o=n():desktop()&&(t.appStoreUrl||t.androidMarketAppId)&&(o="app://"+encodeURIComponent(t.reportLabel)),o){var s=!ios("9",null),c="storeOpened",p=2,l=function(){creative.adapter.getApp(this._processURLParams(o))}.bind(this),d=function(){if(!--p&&s){l();var r={};t.appStoreUrl&&(r.appStoreUrl=i()),t.androidMarketAppId&&(r.androidMarketAppId=n()),creative.adapter.sendToEventMonitor(c,t.triggerId,e.screen.name,r,t.reportLabel)}}.bind(this);e.track({name:c,appUri:o,label:t.reportLabel},d),e.trackClickThrough(d),s||setTimeout(l,0)}r()},BaseCreativeUnit.prototype.callPhoneAction=function(e,t,r){function a(){--i||(creative.adapter.callPhone(t.number),creative.adapter.sendToEventMonitor(n,t.triggerId,e.screen.name,t.number,t.reportLabel))}if(!t.number)return r();creative.adapter._stopAllMedia();var i=2,n="phoneCalled";e.track({name:n,number:t.number,label:t.reportLabel},a),e.trackClickThrough(a),r()},BaseCreativeUnit.prototype.answerSurveyQuestion=function(e,t,r){var a=["answerIds","questionId","surveyId"],i=/[0-9a-f]{8}/;a.forEach(function(e){if("answerIds"==e){if(!(t.answerIds instanceof Array))throw new Error("args.answerIds must be an array");if(0===t.answerIds.length)throw new Error("args.answerIds must not be empty");t.answerIds.forEach(function(e){if(!i.test(e))throw new Error("args.answerIds must contain Ids that have hexadecimal formatted string containing 8 characters")})}else if(!i.test(t[e]))throw new Error("args."+e+" must be hexadecimal formatted string containing 8 characters")}),e.track({name:"surveyQuestionAnswered",answerIds:t.answerIds,questionId:t.questionId,surveyId:t.surveyId}),r()},BaseCreativeUnit.prototype.expandAction=function(){throw new Error("Expand action is not available for this ad format or creative unit")},BaseCreativeUnit.prototype.collapseAction=function(){throw new Error("Collapse action is not available for this ad format or creative unit")},BaseCreativeUnit.prototype.dismissAction=function(){throw new Error("Dismiss action is not available for this ad format or creative unit")},BaseCreativeUnit.prototype.findAll=function(){throw new Error("Not implemented!")},BaseCreativeUnit.prototype.find=function(e){var t=this.findAll(e);return t.length>0?t[0]:null};;
!function(e){"use strict";var t={};t.toString=function(){return"[Clazz CustomAudiences]"};var r=function(e,t,r,i){function d(t,r){var d=new XMLHttpRequest;d.open(e,a+n+"/"+t+"/"+r+"?"+creative.authTokenUrlParam),d.send(i)}if(-1===["PUT","DELETE"].indexOf(e))throw new Error("Unsupported request method: "+e);if("undefined"==typeof creative.runtimeParams.customAudiences[t])throw new Error('Custom audience "'+t+'" is not used by the creative.');creative.runtimeParams.customAudiences[t]={userExists:r,userData:i};var a=creative.secure?creative.customAudiencesUrl:creative.insecureCustomAudiencesUrl,n="/audiences/"+t,s=creative.userIdentifiers,o={tapadPlatformAdvIds:"platformAdvId",tapadMD5PlatformAdvIds:"platformAdvIdMD5",tapadSHA1PlatformAdvIds:"platformAdvIdSHA1",tapadCookieIds:"tapadCookieId"};for(var u in s)if(o.hasOwnProperty(u)&&null!=s[u].ids&&!s[u].limited)for(var c in s[u].ids)d(o[u],s[u].ids[c]);else s[u].limited||null==s[u].id||d(u,s[u].id)};t.addUser=function(e,t){r("PUT",e,!0,t)},t.removeUser=function(e){r("DELETE",e,!1)},e.CustomAudiences=t}(window);;
!function(t){"use strict";var e={stringPatternAngle:"(?:[+-]?\\d*\\.?\\d+)(?:deg|grad|rad|turn)",stringPatternColor:"(?:#(?:[A-Fa-f0-9]{3,6})|(?:(?:rgb|hsl)a?)\\(\\s*(?:\\d+(?:\\%)?\\s*,\\s*){2,3}(?:(?:\\d+\\.)?\\d+)\\s*\\))",stringPatternSideCorner:"top|bottom|left|right",stringPatternValue:"(?:[+-]?\\d*\\.?\\d+)(?:%|[a-z]+)?",patternHex:/^(#|)([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,matchHexHash:1,matchHexColor:2,patternRgb:/^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i,matchRgbRed:1,matchRgbGreen:2,matchRgbBlue:3,patternRgba:/^rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*((?:\d\.)?\d\d?)\s*\)$/i,matchRgbaRed:1,matchRgbaGreen:2,matchRgbaBlue:3,matchRgbaAlpha:4,patternGradient:/^\-?(moz|webkit|o|ms|)(?:(?:-|)(?:repeating-|)(linear|radial|))-gradient\((.*?)\)(?:;|)$/i,matchGradientPrefix:1,matchGradientType:2,matchGradientValues:3,generatedGradientSyntax:null,matchGradientSyntaxLine:1,matchGradientSyntaxAngle:2,matchGradientSyntaxSideCorner:3,matchGradientSyntaxStopList:4,buildGradientSyntax:function(){var t=["(?:to\\s+)?((?:",e.stringPatternSideCorner,")\\s*(?:",e.stringPatternSideCorner,")?)"].join(""),r=["(",e.stringPatternAngle,")"].join(""),n=["(",r,"|",t,")"].join(""),o=[e.stringPatternColor,"\\s*(?:",e.stringPatternValue,")?"].join(""),a=["(?:",o,"\\s*,\\s*)*",o].join(""),i=["^\\s*",n,"\\s*,\\s*(",a,")\\s*$"].join("");return e.generatedGradientSyntax=new RegExp(i,"i"),e.generatedGradientSyntax},generatedGradientStopList:null,matchGradientStopListColor:1,matchGradientStopListPosition:2,buildGradientStopList:function(){var t=["\\s*(",e.stringPatternColor,")","(?:\\s+","(",e.stringPatternValue,"))?","(?:\\s*,\\s*)?"].join("");return e.generatedGradientStopList=new RegExp(t,"gi"),e.generatedGradientStopList},gradientOldSideCorner:{"to top":"left bottom, left top","to left":"right top, left top","to bottom":"left top, left bottom","to right":"left top, right top","to top right":"left bottom, right top","to top left":"right bottom, left top","to bottom right":"left top, right bottom","to bottom left":"right top, left bottom"},gradientPrefixedSideCorner:{"to top":"bottom","to left":"right","to bottom":"top","to right":"left","to top right":"bottom left","to top left":"bottom right","to bottom right":"top left","to bottom left":"top right"}};Object.defineProperties(e,{patternGradientSyntax:{get:function(){return null===e.generatedGradientSyntax?e.buildGradientSyntax():e.generatedGradientSyntax}},patternGradientStopList:{get:function(){return null===e.generatedGradientStopList?e.buildGradientStopList():e.generatedGradientStopList}}}),e.convertAngleToSideCorner=function(t,e){/\-?(moz|webkit|o|ms)/.test(e)&&(t=90-t);var r=(t+360)%360,n="to top";return r>347||14>r?n="to top":r>=14&&75>=r?n="to top right":r>75&&105>r?n="to right":r>=105&&167>=r?n="to bottom right":r>167&&194>r?n="to bottom":r>=194&&255>=r?n="to bottom left":r>255&&285>r?n="to left":r>=285&&347>=r&&(n="to left top"),n},e.convertSideCornerToAngle=function(t,e){var r=0;switch(t){case"bottom":case"to top":r=0;break;case"left":case"to right":r=90;break;case"right":case"to left":r=270;break;case"top":case"to bottom":r=180;break;case"to bottom right":case"to right bottom":r=167;break;case"to bottom left":case"to left bottom":r=194;break;case"to top right":case"to right top":r=14;break;case"to top left":case"to left top":r=347;break;case"bottom right":case"right bottom":r=285;break;case"bottom left":case"left bottom":r=75;break;case"top right":case"right top":r=255;break;case"top left":case"left top":r=105}return/\-?(moz|webkit|o|ms)/.test(e)&&(r=90-r),(r+360)%360},e.isHex=function(t){return e.patternHex.test(t)},e.isRgb=function(t){return e.patternRgb.test(t)},e.isRgba=function(t){return e.patternRgba.test(t)},e.isGradient=function(t){return e.patternGradient.test(t)},e.parseGradient=function(t){var r=null,n=e.patternGradient.exec(t);if(null!==n){r={original:n[0],oldSyntax:!n[e.matchGradientType],prefix:n[e.matchGradientPrefix],type:n[e.matchGradientType],colorStopList:[]};var o=e.patternGradientSyntax.exec(n[e.matchGradientValues]);if(null!==o){o[e.matchGradientSyntaxLine]&&(r.line=o[e.matchGradientSyntaxLine]),o[e.matchGradientSyntaxAngle]&&(r.angle=o[e.matchGradientSyntaxAngle]),o[e.matchGradientSyntaxSideCorner]&&(r.sideCorner=o[e.matchGradientSyntaxSideCorner]);for(var a,i=e.patternGradientStopList.exec(o[e.matchGradientSyntaxStopList]);null!==i;)a={color:i[e.matchGradientStopListColor]},i[e.matchGradientStopListPosition]&&(a.position=i[e.matchGradientStopListPosition]),r.colorStopList.push(a),i=e.patternGradientStopList.exec(o[e.matchGradientSyntaxStopList])}}return r},e.createGradient=function(t){var r={backgroundColor:null,webkitGradient:null,mozLinearGradient:null,msLinearGradient:null,oLinearGradient:null,webkitLinearGradient:null,linearGradient:null},n=e.parseGradient(t);if(n.oldSyntax)throw new Error('[Not supported] Can not create gradient from old "webkit-gradient" syntax.');var o=0;"undefined"!=typeof n.angle?o=parseInt(n.angle,10):"undefined"!=typeof n.sideCorner&&(o=e.convertSideCornerToAngle(n.line,n.prefix));for(var a=o,i="",d="",s=n.colorStopList.length,l=0;s>l;l++){var g=n.colorStopList[l];if(g.color){if(0!==l?(i+=", ",d+=", "):r.backgroundColor=g.color,i+=g.color,d+="color-stop(",g.position)i+=" "+g.position,d+=g.position;else{var c=100/(s-1)*l;d+=c+"%"}d+=", "+g.color+")"}}/\-?(moz|webkit|o|ms)/.test(n.prefix)?o=90-a:a=90-o;var p=e.convertAngleToSideCorner(o),m=e.gradientOldSideCorner[p];return r.webkitGradient="-webkit-gradient(linear, "+m+", "+d+")",r.mozLinearGradient="-moz-linear-gradient("+a+"deg, "+i+")",r.msLinearGradient="-ms-linear-gradient("+a+"deg, "+i+")",r.oLinearGradient="-o-linear-gradient("+a+"deg, "+i+")",r.webkitLinearGradient="-webkit-linear-gradient("+a+"deg, "+i+")",r.linearGradient="linear-gradient("+o+"deg, "+i+")",r},e.createGradientStyle=function(t){var r=e.createGradient(t),n="";for(var o in r){var a=r[o];null!==a&&e.isGradient(a)&&(n+="background-image: "+a+"; ")}return n},t.Color=e}(window);;
!function(t){function i(t,i){return t.prototype=Object.create(i.prototype),t.prototype.constructor=t,t.uber=i.prototype,t.uberConstructor=i,t}function s(t){var i=[].slice.call(arguments,1);return i.forEach(function(i){Object.keys(i).forEach(function(s){t[s]=i[s]})}),t}function o(t,i,s){return Math.max(t,Math.min(i,s))}function e(t,i,s){var e=o(0,1,(s-t)/(i-t));return e*e*e*((6*e-15)*e+10)}function n(t,i,s,o,e){return(e-t)/(i-t)*(o-s)+s}function h(t,i,s){return t+o(0,1,s)*(i-t)}function r(t,i,s){var e=o(0,1,(s-t)/(i-t));return(Math.cos(Math.PI*e)+1)/2}function a(t){var i={};return i.df=t.clone(),i.dr=i.df.clone().cross(i.df.clone().scale(0,1,0).equals(i.df)?new p(1,0,0):new p(0,1,0)),i.du=i.dr.clone().cross(i.df),i}function p(t,i,s,o){this.x=t,this.y=i,this.z=s,this.w=o||1}function c(t){this.options={},Object.defineProperties(this.options,{maxBirthRate:{get:function(){return this.maxParticles/this.lifetime}},intensity:{get:function(){return this.birthRate/this.maxBirthRate},set:function(t){this.birthRate=h(0,this.maxBirthRate,t)}}}),this.options.position=new p(0,0,500),this.options.velocity=new p(0,0,0),this.options.bounds=new B(0,0,0,0,500,2e3,500),s(this.options,this.constructor.defaults,t||{}),this.particles=[],this.deadParticles=[],this.leftOver=0}function l(){c.apply(this,arguments),this._temp=p.zero()}function f(){c.apply(this,arguments),this._tempA=p.zero(),this._tempB=p.zero(),this._tempC=p.zero(),this._quads={front:{q:this.options.bounds.front.clone(),p:0},back:{q:this.options.bounds.back.clone(),p:0},left:{q:this.options.bounds.left.clone(),p:0},right:{q:this.options.bounds.right.clone(),p:0},top:{q:this.options.bounds.top.clone(),p:0},bottom:{q:this.options.bounds.bottom.clone(),p:0}},this._temp=p.zero()}function d(){c.apply(this,arguments),this._temp=p.zero()}function u(){this.time=0}function y(t){u.call(this),this.force=t.force}function m(t){u.call(this),this.acceleration=t.acceleration,this._temp=p.zero()}function v(t){u.call(this),this.options={},s(this.options,this.constructor.defaults,t||{}),this.simplex=new SimplexNoise,this._a=p.zero(),this._b=p.zero()}function g(t){u.call(this),this.friction=t.friction,this.drag=t.drag,this._a=p.zero(),this._b=p.zero()}function x(t){u.call(this),this.center=t.center,this.force=t.force,this.radius=t.radius,this._temp=p.zero()}function b(t){u.call(this),this.position=t.position,this.direction=t.direction,this.strength=t.strength,this._a=p.zero(),this._b=p.zero()}function M(t,i,s,o){this.pos=t,this.vel=i,this.mass=s,this.force=o||p.zero(),this.age=0,this.rot=0,this.rotVel=0}function _(t,i,s,o,e){this.a=t,this.b=i,this.c=s,this.d=o,this.n=e,this._tempA=p.zero(),this._tempB=p.zero()}function z(t,i,o){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.emitter=i,this.options=s({},this.constructor.defaults,o||{})}function R(){z.apply(this,arguments),this._temp=p.zero()}function w(){z.apply(this,arguments),this._a=p.zero(),this._b=p.zero()}function P(){z.apply(this,arguments),this._temp=p.zero()}function B(t,i,s,o,e,n,h){this.x=t,this.y=i,this.w=s,this.h=o,this.vFocal=new p(0,0,e),this.maxDepth=n,this.minDepth=h,this.maxRatio=this.maxDepth/this.vFocal.z,this.minRatio=this.minDepth/this.vFocal.z,this.vLeftTopEdge=this.vFocal.clone().add(-s/2,-o/2,0),this.vRightTopEdge=this.vFocal.clone().add(s/2,-o/2,0),this.vLeftBottomEdge=this.vFocal.clone().add(-s/2,o/2,0),this.vRightBottomEdge=this.vFocal.clone().add(s/2,o/2,0),this.vLeftTopMax=this.vLeftTopEdge.clone().scale(this.maxRatio),this.vLeftTopMin=this.vLeftTopEdge.clone().scale(this.minRatio),this.vRightTopMax=this.vRightTopEdge.clone().scale(this.maxRatio),this.vRightTopMin=this.vRightTopEdge.clone().scale(this.minRatio),this.vRightBottomMax=this.vRightBottomEdge.clone().scale(this.maxRatio),this.vRightBottomMin=this.vRightBottomEdge.clone().scale(this.minRatio),this.vLeftBottomMax=this.vLeftBottomEdge.clone().scale(this.maxRatio),this.vLeftBottomMin=this.vLeftBottomEdge.clone().scale(this.minRatio),this.nTop=this.vRightTopEdge.clone().cross(this.vLeftTopEdge.clone()).norm(),this.nRight=this.vRightBottomEdge.clone().cross(this.vRightTopEdge.clone()).norm(),this.nBottom=this.vLeftBottomEdge.clone().cross(this.vRightBottomEdge.clone()).norm(),this.nLeft=this.vLeftTopEdge.clone().cross(this.vLeftBottomEdge.clone()).norm(),this.nBack=new p(0,0,1),this.nFront=new p(0,0,-1),this.front=new _(this.vLeftTopMin,this.vRightTopMin,this.vRightBottomMin,this.vLeftBottomMin,this.nFront),this.back=new _(this.vRightTopMax,this.vLeftTopMax,this.vLeftBottomMax,this.vRightBottomMax,this.nBack),this.left=new _(this.vLeftTopMax,this.vLeftTopMin,this.vLeftBottomMin,this.vLeftBottomMax,this.nLeft),this.right=new _(this.vRightTopMin,this.vRightTopMax,this.vRightBottomMax,this.vRightBottomMin,this.nRight),this.top=new _(this.vLeftTopMax,this.vRightTopMax,this.vRightTopMin,this.vLeftTopMin,this.nTop),this.bottom=new _(this.vLeftBottomMin,this.vRightBottomMin,this.vRightBottomMax,this.vLeftBottomMax,this.nBottom)}function E(t,i,o){this.fields=t,this.emitters=i,this.options=s({},E.defaults,o||{}),this._temp=new p(0,0,0)}var F=t.Particles={};F.inherit=i,F.extend=s,F.clamp=o,F.smoothstep=e,F.map=n,F.lerp=h,F.bump=r,F.projectionMatrix=a,F.Vec3d=p,p.prototype.clone=function(){return new p(this.x,this.y,this.z,this.w)},p.prototype.zero=function(){return this.x=this.y=this.z=0,this.w=1,this},p.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},p.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z},p.prototype.isZero=function(){return 0===this.x&&0===this.y&&0===this.z},p.prototype.add=function(t,i,s){return t instanceof p?(i=t.y,s=t.z,t=t.x):"undefined"==typeof i&&(s=i=t),this.x+=t,this.y+=i,this.z+=s,this},p.prototype.sub=function(t,i,s){return t instanceof p?(i=t.y,s=t.z,t=t.x):"undefined"==typeof i&&(s=i=t),this.x-=t,this.y-=i,this.z-=s,this},p.prototype.neg=function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.w*=-1,this},p.prototype.scale=function(t,i,s){return t instanceof p?(i=t.y,s=t.z,t=t.x):"undefined"==typeof i&&(s=i=t),this.x*=t,this.y*=i,this.z*=s,this},p.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},p.prototype.cross=function(t){var i,s,o;return i=this.y*t.z-this.z*t.y,s=this.z*t.x-this.x*t.z,o=this.x*t.y-this.y*t.x,this.x=i,this.y=s,this.z=o,this},p.prototype.norm=function(){var t=this.mag;return t>0&&(this.x/=t,this.y/=t,this.z/=t),this},Object.defineProperty(p.prototype,"mag",{get:function(){return Math.sqrt(this.dot(this))},set:function(t){if(t>0){var i=Math.sqrt(this.dot(this));i>0&&(this.x*=t/i,this.y*=t/i,this.z*=t/i)}else this.x=0,this.y=0,this.z=0}}),p.prototype.random=function(){var t=2*Math.random()*Math.PI,i=2*Math.random()-1,s=Math.sqrt(1-i*i);return this.x=s*Math.cos(t),this.y=s*Math.sin(t),this.z=i,this.w=1,this},p.prototype.lerp=function(t,i){return this.x=h(this.x,t.x,i),this.y=h(this.y,t.y,i),this.z=h(this.z,t.z,i),this},p.prototype.project=function(t){var i=this.x*t.dr.x+this.y*t.dr.y+this.z*t.dr.z,s=this.x*t.du.x+this.y*t.du.y+this.z*t.du.z,o=this.x*t.df.x+this.y*t.df.y+this.z*t.df.z;return this.x=i,this.y=s,this.z=o,this},p.add=function(t,i){return t.clone().add(i)},p.sub=function(t,i){return t.clone().sub(i)},p.random=function(){return this.zero().random()},p.zero=function(){return new p(0,0,0)},p.lerp=function(t,i,s){return this.zero().copy(t).lerp(i,s)},F.Emitter=c,c.defaults={intensity:.2,birthRate:200,maxParticles:500,lifetime:5,rotation:!1,jitter:0,variance:0,dispersal:0,dispersalVariance:0,maxAngularVelocity:360,explosionDuration:0,sizeJitter:0,enabled:!0},c.prototype.step=function(t){this.particles.forEach(function(t){(t.age>this.options.lifetime&&!this.options.longLife||this.isOutOfBounds(t))&&this.killParticle(t)},this);var i=this.options.explosionDuration?this.options.birthRate:this.options.birthRate*t,s=this.options.maxParticles-this.particles.length,o=0;if(1>i?(this.leftOver+=i,this.leftOver>=1&&(o=Math.floor(this.leftOver--))):o=i,o=Math.min(s,o),this.options.enabled)for(var e=0;o>e;e++)this.particles.push(this.getNewParticle())},c.prototype.isOutOfBounds=function(t){return this.options.bounds?!this.options.bounds.contains(t.pos):!1},c.prototype.getNewParticle=function(){return this.deadParticles.length?this.createParticle(this.deadParticles.pop()):this.createParticle()},c.prototype.killParticle=function(t){var i=this.particles.indexOf(t);i>-1&&this.particles.splice(i,1),this.deadParticles.push(t),t.age=0},c.prototype.createParticle=function(){throw new Error("Not implemented")},c.prototype.applyRotation=function(t){t.rot=Math.random()*this.options.maxAngularVelocity,t.rotVel=Math.random()*this.options.maxAngularVelocity-this.options.maxAngularVelocity/2},c.prototype.cancelRotation=function(t){t.rot=0,t.rotVel=0},c.prototype.applySizeJitter=function(t){t.sizeJitter=this.options.sizeJitter*(2*Math.random()-1)},c.prototype.applyJitter=function(t){var i=Math.random()*t.vel.mag*this.options.jitter;t.vel.mag+=(1-2*Math.random()*this.options.variance)*i},c.prototype.applyDispersal=function(t){var i=Math.random()*this.options.dispersal,s=(1-2*Math.random()*this.options.dispersalVariance)*i;t.vel.add(this._temp.random().scale(s))},c.prototype.pulse=function(){this.options.intensity=1,setTimeout(function(){this.options.intensity=0}.bind(this),this.options.explosionDuration)},i(l,c),F.PointEmitter=l,l.defaults=s({},c.defaults,{type:"PointEmitter",radius:0}),l.prototype.createParticle=function(t){var i=this.options.position.clone();return this.options.radius>0&&i.add(p.random().scale(this.options.radius*Math.random())),"undefined"==typeof t?t=new M(i,this.options.velocity.clone(),1):(t.pos.copy(i),t.vel.copy(this.options.velocity)),this.options.jitter&&this.applyJitter(t),this.options.dispersal&&this.applyDispersal(t),this.options.rotation?this.applyRotation(t):this.cancelRotation(t),this.applySizeJitter(t),t},i(f,c),F.DirectionEmitter=f,f.defaults=s({},c.defaults,{type:"DirectionEmitter"}),f.prototype.step=function(){this.setDistribution(),f.uber.step.apply(this,arguments)},f.prototype.createParticle=function(t){return"undefined"==typeof t?t=new M(this.getRandomPosition(Math.random(),Math.random(),Math.random()).clone(),this.options.velocity.clone(),1):(t.pos.copy(this.getRandomPosition(Math.random(),Math.random(),Math.random())),t.vel.copy(this.options.velocity)),this.options.rotation?this.applyRotation(t):this.cancelRotation(t),this.options.jitter&&this.applyJitter(t),this.options.dispersal&&this.applyDispersal(t),this.applySizeJitter(t),t},f.prototype.setDistribution=function(){var t=this._tempA.copy(this.options.velocity).norm(),i=a(this._tempA.copy(t)),s=0;Object.keys(this._quads).forEach(function(o){var e=this._quads[o],n=this.options.bounds[o],h=Math.abs(Math.min(0,t.dot(n.n)));h>0?(e.q.copy(this.options.bounds[o]).project(i),e.p=h*e.q.area,s+=e.p):e.p=0},this),Object.keys(this._quads).forEach(function(t){var i=this._quads[t];s>0?i.p/=s:i.p=0},this)},f.prototype.getRandomPosition=function(t,i,s){var o=0,e=null;return Object.keys(this._quads).forEach(function(i){t>o&&(e=i);var s=this._quads[i];o+=s.p},this),this.options.bounds[e].getPoint(i,s)},i(d,c),F.AreaEmitter=d,d.defaults=s({},c.defaults,{type:"AreaEmitter",longLife:!0}),d.prototype.createParticle=function(t){var i=(Math.random()-.5)*this.options.bounds.w,s=(Math.random()-.5)*this.options.bounds.h,o=new p(i,s,this.options.bounds.vFocal.z);return"undefined"==typeof t?t=new M(o.clone(),this.options.velocity.clone(),1):(t.pos.copy(o),t.vel.copy(this.options.velocity)),this.options.jitter&&this.applyJitter(t),this.options.dispersal&&this.applyDispersal(t),this.options.rotation?this.applyRotation(t):this.cancelRotation(t),this.applySizeJitter(t),t},F.Field=u,u.prototype.step=function(t){this.time+=t},i(y,u),F.UniformField=y,y.prototype.applyForce=function(t){t.applyForce(this.force)},i(m,u),F.GravityField=m,m.prototype.applyForce=function(t){t.applyForce(this._temp.copy(this.acceleration).scale(t.mass))},i(v,u),F.NoiseField=v,v.defaults={scale:1,strength:1,variability:1},v.prototype.applyForce=function(t){var i=this.time*this.options.variability;this._a.copy(t.pos).scale(this.options.scale),this._b.x=this.simplex.noise4D(this._a.x,this._a.y,this._a.z,i),this._b.y=this.simplex.noise4D(this._a.x,this._a.y,this._a.z,i+1e6),this._b.z=this.simplex.noise4D(this._a.x,this._a.y,this._a.z,i+2e6),t.applyForce(this._b.scale(this.options.strength))},i(g,u),F.FluidField=g,g.prototype.applyForce=function(t){this._a.copy(t.vel).neg().norm(),this._b.copy(this._a).scale(t.vel.dot(t.vel)*this.drag),this._a.scale(this.friction*t.vel.mag),t.applyForce(this._a.add(this._b))},i(x,u),F.AttractorField=x,x.prototype.applyForce=function(t){this._temp.copy(this.center).sub(t.pos),this._temp.norm().scale(r(0,this.radius,this._temp.mag)*this.force),t.applyForce(this._temp)},i(b,u),F.PinchField=b,b.prototype.applyForce=function(t){this._a.copy(this.direction).norm(),this._b.copy(this.position).sub(t.pos),this._a.scale(this._b.dot(this._a)),this._b.sub(this._a).norm().scale(this.strength),t.applyForce(this._b)},F.Particle=M,M.prototype.applyForce=function(t){return this.force.add(t),this},M.prototype.clearForce=function(){return this.force.zero(),this},F.Quad=_,_.prototype.getPoint=function(t,i){return this._tempA.copy(this.a).lerp(this.b,t),this._tempB.copy(this.d).lerp(this.c,t),this._tempA.lerp(this._tempB,i)},Object.defineProperty(_.prototype,"area",{get:function(){var t=this._tempA.copy(this.b).sub(this.a).cross(this._tempB.copy(this.d).sub(this.a)).mag/2,i=this._tempA.copy(this.b).sub(this.c).cross(this._tempB.copy(this.d).sub(this.c)).mag/2;return t+i}}),_.prototype.project=function(t){return this.a.project(t),this.b.project(t),this.c.project(t),this.d.project(t),this.n.project(t),this},_.prototype.clone=function(){return new _(this.a.clone(),this.b.clone(),this.c.clone(),this.d.clone(),this.n.clone())},_.prototype.copy=function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this.d.copy(t.d),this.n.copy(t.n),this},F.ParticleRenderer=z,z.defaults={blendingMode:"source-over",alpha:1,clearOnRender:!0,perspective:!0,smoothRender:!0,pointA:.35,pointB:.65,focalDistance:500,radius:5,color:"#3333FF",width:2,length:.3,scale:.3,image:new Image},z.prototype.clear=function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)},z.prototype.render=function(){throw new Error("Not implemented")},z.prototype.projectPoint=function(t){var i;return this.options.perspective?(t.z<=0?t.zero():(i=this.options.focalDistance/t.z,t.x*=i,t.y*=i,t.z=i),t):(t.z=1,t)},z.prototype.getParticleOpacity=function(t){var i=this.options.alpha,s=t.age/this.emitter.options.lifetime;return this.emitter.options.longLife&&s>this.options.pointA&&(s=this.options.pointA),this.options.smoothRender&&(i*=e(0,this.options.pointA,s)-e(this.options.pointB,1,s)),this.options.perspective&&(i*=n(this.emitter.options.bounds.maxDepth,this.emitter.options.bounds.minDepth,0,1,t.pos.z)),o(0,1,i)},i(R,z),F.PointRenderer=R,R.defaults=s({},z.defaults,{type:"PointRenderer",radius:5,color:"#13f",gradient:!1}),R.prototype.render=function(){this.options.clearOnRender&&this.clear(),this.ctx.save(),this.ctx.translate(this.canvas.width/2,this.canvas.height/2),this.ctx.globalAlpha=this.options.alpha,this.ctx.globalCompositeOperation=this.options.blendingMode,this.ctx.fillStyle=this.options.color,this.emitter.particles.forEach(function(t){this.ctx.globalAlpha=this.getParticleOpacity(t),this.projectPoint(this._temp.copy(t.pos)),this._temp.z>0&&(this.ctx.beginPath(),this.ctx.arc(this._temp.x,this._temp.y,this.options.radius*this._temp.z*(1+t.sizeJitter),0,2*Math.PI),this.ctx.fill())},this),this.ctx.restore()},i(w,z),F.LineRenderer=w,w.defaults=s({},z.defaults,{type:"LineRenderer",color:"#09f",width:1,length:.1}),w.prototype.render=function(){this.options.clearOnRender&&this.clear(),this.ctx.save(),this.ctx.translate(this.canvas.width/2,this.canvas.height/2),this.ctx.globalAlpha=this.options.alpha,this.ctx.globalCompositeOperation=this.options.blendingMode,this.ctx.strokeStyle=this.options.color,this.ctx.lineWidth=this.options.width,this.emitter.particles.forEach(function(t){this.projectPoint(this._a.copy(t.pos)),this.projectPoint(this._b.copy(t.vel).scale(-this.options.length).add(t.pos)),this.ctx.globalAlpha=this.getParticleOpacity(t),this._a.z>0&&this.emitter.options.bounds.contains(t.pos)&&(this.ctx.beginPath(),this.ctx.moveTo(this._a.x,this._a.y),this.ctx.lineTo(this._b.x,this._b.y),this.ctx.stroke())},this),this.ctx.restore()},i(P,z),F.SpriteRenderer=P,P.defaults=s({},z.defaults,{type:"SpriteRenderer",scale:.5}),P.prototype.render=function(){var t=this.options.image.width*this.options.scale,i=this.options.image.height*this.options.scale,s=1,o=1;this.options.clearOnRender&&this.clear(),this.ctx.save(),this.ctx.translate(this.canvas.width/2,this.canvas.height/2),this.ctx.globalAlpha=this.options.alpha,this.ctx.globalCompositeOperation=this.options.blendingMode,this.emitter.particles.forEach(function(e){if(this.projectPoint(this._temp.copy(e.pos)),this.ctx.globalAlpha=this.getParticleOpacity(e),this._temp.z>0){var n=e.age/this.emitter.options.lifetime,r=this.emitter.options.smokePosition?h(1,2,n):1;s=t*this._temp.z*r,o=i*this._temp.z*r,this.ctx.save(),this.ctx.translate(this._temp.x,this._temp.y),this.ctx.rotate(e.rot/180*Math.PI);try{this.ctx.drawImage(this.options.image,-s/2,-o/2,s,o)}catch(a){}this.ctx.restore()}},this),this.ctx.restore()},!function(){"use strict";function t(t){t||(t=Math.random),this.p=new Uint8Array(256),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var i=0;256>i;i++)this.p[i]=256*t();for(i=0;512>i;i++)this.perm[i]=this.p[255&i],this.permMod12[i]=this.perm[i]%12}var i=.5*(Math.sqrt(3)-1),s=(3-Math.sqrt(3))/6,o=1/3,e=1/6,n=(Math.sqrt(5)-1)/4,h=(5-Math.sqrt(5))/20;t.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(t,o){var e,n,h=this.permMod12,r=this.perm,a=this.grad3,p=0,c=0,l=0,f=(t+o)*i,d=Math.floor(t+f),u=Math.floor(o+f),y=(d+u)*s,m=d-y,v=u-y,g=t-m,x=o-v;g>x?(e=1,n=0):(e=0,n=1);var b=g-e+s,M=x-n+s,_=g-1+2*s,z=x-1+2*s,R=255&d,w=255&u,P=.5-g*g-x*x;if(P>=0){var B=3*h[R+r[w]];P*=P,p=P*P*(a[B]*g+a[B+1]*x)}var E=.5-b*b-M*M;if(E>=0){var F=3*h[R+e+r[w+n]];E*=E,c=E*E*(a[F]*b+a[F+1]*M)}var L=.5-_*_-z*z;if(L>=0){var T=3*h[R+1+r[w+1]];L*=L,l=L*L*(a[T]*_+a[T+1]*z)}return 70*(p+c+l)},noise3D:function(t,i,s){var n,h,r,a,p,c,l,f,d,u,y=this.permMod12,m=this.perm,v=this.grad3,g=(t+i+s)*o,x=Math.floor(t+g),b=Math.floor(i+g),M=Math.floor(s+g),_=(x+b+M)*e,z=x-_,R=b-_,w=M-_,P=t-z,B=i-R,E=s-w;P>=B?B>=E?(p=1,c=0,l=0,f=1,d=1,u=0):P>=E?(p=1,c=0,l=0,f=1,d=0,u=1):(p=0,c=0,l=1,f=1,d=0,u=1):E>B?(p=0,c=0,l=1,f=0,d=1,u=1):E>P?(p=0,c=1,l=0,f=0,d=1,u=1):(p=0,c=1,l=0,f=1,d=1,u=0);var F=P-p+e,L=B-c+e,T=E-l+e,A=P-f+2*e,O=B-d+2*e,j=E-u+2*e,D=P-1+3*e,q=B-1+3*e,k=E-1+3*e,J=255&x,V=255&b,S=255&M,N=.6-P*P-B*B-E*E;if(0>N)n=0;else{var C=3*y[J+m[V+m[S]]];N*=N,n=N*N*(v[C]*P+v[C+1]*B+v[C+2]*E)}var I=.6-F*F-L*L-T*T;if(0>I)h=0;else{var U=3*y[J+p+m[V+c+m[S+l]]];I*=I,h=I*I*(v[U]*F+v[U+1]*L+v[U+2]*T)}var W=.6-A*A-O*O-j*j;if(0>W)r=0;else{var G=3*y[J+f+m[V+d+m[S+u]]];W*=W,r=W*W*(v[G]*A+v[G+1]*O+v[G+2]*j)}var Q=.6-D*D-q*q-k*k;if(0>Q)a=0;else{var Z=3*y[J+1+m[V+1+m[S+1]]];Q*=Q,a=Q*Q*(v[Z]*D+v[Z+1]*q+v[Z+2]*k)}return 32*(n+h+r+a)},noise4D:function(t,i,s,o){var e,r,a,p,c,l=(this.permMod12,this.perm),f=this.grad4,d=(t+i+s+o)*n,u=Math.floor(t+d),y=Math.floor(i+d),m=Math.floor(s+d),v=Math.floor(o+d),g=(u+y+m+v)*h,x=u-g,b=y-g,M=m-g,_=v-g,z=t-x,R=i-b,w=s-M,P=o-_,B=0,E=0,F=0,L=0;z>R?B++:E++,z>w?B++:F++,z>P?B++:L++,R>w?E++:F++,R>P?E++:L++,w>P?F++:L++;var T,A,O,j,D,q,k,J,V,S,N,C;T=B>=3?1:0,A=E>=3?1:0,O=F>=3?1:0,j=L>=3?1:0,D=B>=2?1:0,q=E>=2?1:0,k=F>=2?1:0,J=L>=2?1:0,V=B>=1?1:0,S=E>=1?1:0,N=F>=1?1:0,C=L>=1?1:0;var I=z-T+h,U=R-A+h,W=w-O+h,G=P-j+h,Q=z-D+2*h,Z=R-q+2*h,H=w-k+2*h,K=P-J+2*h,X=z-V+3*h,Y=R-S+3*h,$=w-N+3*h,tt=P-C+3*h,it=z-1+4*h,st=R-1+4*h,ot=w-1+4*h,et=P-1+4*h,nt=255&u,ht=255&y,rt=255&m,at=255&v,pt=.6-z*z-R*R-w*w-P*P;if(0>pt)e=0;else{var ct=l[nt+l[ht+l[rt+l[at]]]]%32*4;pt*=pt,e=pt*pt*(f[ct]*z+f[ct+1]*R+f[ct+2]*w+f[ct+3]*P)}var lt=.6-I*I-U*U-W*W-G*G;if(0>lt)r=0;else{var ft=l[nt+T+l[ht+A+l[rt+O+l[at+j]]]]%32*4;lt*=lt,r=lt*lt*(f[ft]*I+f[ft+1]*U+f[ft+2]*W+f[ft+3]*G)}var dt=.6-Q*Q-Z*Z-H*H-K*K;if(0>dt)a=0;else{var ut=l[nt+D+l[ht+q+l[rt+k+l[at+J]]]]%32*4;dt*=dt,a=dt*dt*(f[ut]*Q+f[ut+1]*Z+f[ut+2]*H+f[ut+3]*K)}var yt=.6-X*X-Y*Y-$*$-tt*tt;if(0>yt)p=0;else{var mt=l[nt+V+l[ht+S+l[rt+N+l[at+C]]]]%32*4;yt*=yt,p=yt*yt*(f[mt]*X+f[mt+1]*Y+f[mt+2]*$+f[mt+3]*tt)}var vt=.6-it*it-st*st-ot*ot-et*et;if(0>vt)c=0;else{var gt=l[nt+1+l[ht+1+l[rt+1+l[at+1]]]]%32*4;vt*=vt,c=vt*vt*(f[gt]*it+f[gt+1]*st+f[gt+2]*ot+f[gt+3]*et)}return 27*(e+r+a+p+c)}},"undefined"!=typeof define&&define.amd&&define(function(){return t}),"undefined"!=typeof exports?exports.SimplexNoise=t:"undefined"!=typeof window&&(window.SimplexNoise=t),"undefined"!=typeof module&&(module.exports=t)}(),F.ViewCone3D=B,B.prototype.contains=function(t){return this.x*this.maxRatio<=t.x&&(this.x+this.w)*this.maxRatio>=t.x&&this.y*this.maxRatio<=t.y&&(this.y+this.h)*this.maxRatio>=t.y&&this.maxDepth>=t.z&&t.z>=0},F.World=E,E.defaults={},E.prototype.step=function(t){t=Math.min(t,.02),Object.keys(this.fields).forEach(function(i){this.fields[i].step(t)},this),this.emitters.forEach(function(i){i.particles.forEach(function(i){Object.keys(this.fields).forEach(function(t){this.fields[t].applyForce(i)},this),i.pos.add(this._temp.copy(i.vel).scale(t)).add(this._temp.copy(i.force).scale(t*t/i.mass/2)),i.vel.add(i.force.scale(t/i.mass)),i.rot+=i.rotVel*t,i.clearForce(),i.age+=Math.abs(t)},this),i.step(t)},this)}}(this);;
var AmbiencePresets=function(){return{"default":{Underwater:{emitters:[{type:Particles.DirectionEmitter,options:{lifetime:8,dispersal:360}}],fields:[{type:Particles.NoiseField,options:{}},{type:Particles.FluidField,options:{friction:0,drag:.01}},{type:Particles.GravityField,options:{acceleration:new Particles.Vec3d(0,-250,0)}}],renderers:[{type:Particles.PointRenderer,options:{blendingMode:"screen",pointA:.1,pointB:.7}}]},Soapy:{emitters:[{type:Particles.DirectionEmitter,options:{lifetime:12,velocity:new Particles.Vec3d(0,-1,0)}}],fields:[{type:Particles.NoiseField,options:{}},{type:Particles.GravityField,options:{acceleration:new Particles.Vec3d(0,0,0)}}],renderers:[{type:Particles.PointRenderer,options:{blendingMode:"screen",pointA:.1,pointB:.7}}]},Calm:{emitters:[{type:Particles.AreaEmitter,options:{lifetime:10,longLife:!1,velocity:new Particles.Vec3d(0,0,-50)}}],fields:[{type:Particles.NoiseField,options:{scale:.1,variability:.5}},{type:Particles.FluidField,options:{friction:0,drag:.01}}],renderers:[{type:Particles.PointRenderer,options:{blendingMode:"screen",pointA:.25,pointB:.25}}]},Space:{emitters:[{type:Particles.DirectionEmitter,options:{lifetime:8}}],fields:[{type:Particles.NoiseField,options:{}}],renderers:[{type:Particles.PointRenderer,options:{blendingMode:"source-over",pointA:.01,pointB:.9}}]},Energetic:{emitters:[{type:Particles.PointEmitter,options:{lifetime:8,jitter:.8,variance:.25,dispersal:100,dispersalVariance:.25,rotation:!0,maxAngularVelocity:300,velocity:new Particles.Vec3d(0,0,50)}}],fields:[{type:Particles.NoiseField,options:{}},{type:Particles.GravityField,options:{acceleration:new Particles.Vec3d(0,250,0)}}],renderers:[{type:Particles.PointRenderer,options:{blendingMode:"screen",pointA:.01,pointB:.8}}]},Campfire:{emitters:[{type:Particles.PointEmitter,options:{lifetime:5,dispersal:50}}],fields:[{type:Particles.NoiseField,options:{scale:.02}},{type:Particles.GravityField,options:{acceleration:new Particles.Vec3d(0,-200,0)}},{type:Particles.FluidField,options:{friction:0,drag:.05}}],renderers:[{type:Particles.PointRenderer,options:{blendingMode:"screen",pointA:.1,pointB:.7}}]}}}};;
!function(){var t=1,e=4,i=[void 0,null,0,1],n=[100,300,6e3],s=function(e){this._video=e,this._lastObservedDuration=null,this._lastObservedPosition=null,this._intervalId=null,this._firstSegmentEmitted=!1,this._running=!1,this._currentTime=0,this._playedSegmentsCount=0,this.stop=this.stop.bind(this),this.stopAndReset=this.stopAndReset.bind(this),this.start=this.start.bind(this),this.tick=this.tick.bind(this),this.flush=this.flush.bind(this),this.reemitQuartileEvent=function(t){this.emit(t.name,t),this._playedSegmentComputationUnit.flush()}.bind(this),this.trackDurationChange=this.trackDurationChange.bind(this),this.stitchAndTrackVideoPlayedSegment=this.stitchAndTrackVideoPlayedSegment.bind(this),this._playedSegmentComputationUnit=new PlayedSegmentComputationUnit(t,this.stitchAndTrackVideoPlayedSegment),this._lastVideoPlayedSegment={from:0,to:0},this._serverReportedDuration=e.serverReportedDuration,e.serverReportedDuration?(defer(function(){this.emit("videoDurationUpdate",{duration:e.serverReportedDuration})}.bind(this)),this.checkDuration=!1):(this.checkDuration=!0,e.on("durationchange",this.trackDurationChange)),e.on("pause",this.stop),e.on("timeupdate",this.start),e.on("ended",this.stopAndReset),e.on("playing",this.start),e.on("seeked",this.start),o().on("mediaStopRequested",this.stop),e.on("muted",this.flush),e.on("unmuted",this.flush),e.on("enterfullscreen",this.flush),e.on("exitfullscreen",this.flush);for(var i in e.QUARTILE_EVENTS)e.on(i,this.reemitQuartileEvent)};extend(s.prototype,EventEmitter);var o=function(){return"undefined"!=typeof creative?creative.adapter:adapter};s.prototype.stitchAndTrackVideoPlayedSegment=function(t){var e={from:this._lastVideoPlayedSegment.to,to:t.to};this.trackVideoPlayedSegment(e)},s.prototype.trackVideoPlayedSegment=function(t){if(this._lastVideoPlayedSegment=t,!(this._serverReportedDuration&&t.from>=this._serverReportedDuration)){var e=!this._serverReportedDuration||t.to<this._serverReportedDuration?t.to:this._serverReportedDuration,i=extend({},t,{to:e,name:"videoPlayedSegment",muted:!!this._video.muted,fullscreen:void 0===this._video.fullscreen?!0:this._video.fullscreen,gaze:this._video.isUserGazing()});this.emit("videoPlayedSegment",i),this._playedSegmentsCount+=1}},s.prototype.getCurrentTime=function(){return this._video&&this._video.currentTime>this._currentTime&&(this._currentTime=this._video.currentTime),this._currentTime},s.prototype.start=function(){this._running||(this._running=!0,o().mediaState.startVideo(),this._firstSegmentEmitted||(this._currentTime=this.getCurrentTime()+.01,this.trackVideoPlayedSegment({from:0,to:this.getCurrentTime()}),this._firstSegmentEmitted=!0),this._playedSegmentComputationUnit.init(this.getCurrentTime()),clearInterval(this._intervalId),this._intervalId=setInterval(this.tick,1e3/e))},s.prototype.stopAndReset=function(){this.stop(!0),this._playedSegmentComputationUnit&&(this._playedSegmentComputationUnit.reset(),this._currentTime=0,this._firstSegmentEmitted=!1)},s.prototype.flush=function(){this._playedSegmentComputationUnit&&this._playedSegmentComputationUnit.flush()},s.prototype.stop=function(t){(this._running||t)&&(this._running&&(o().mediaState.stopVideo(),this._running=!1,clearInterval(this._intervalId)),this._playedSegmentComputationUnit.addEvent(this.getCurrentTime()),this._playedSegmentComputationUnit.flush(t))},s.prototype.trackDurationChange=function(){if(this.checkDuration){var t=this._video.duration,e=-1!==i.indexOf(t),s=-1!==n.indexOf(t),o=t!==this._lastObservedDuration;e||s||!o||(this._serverReportedDuration=t,this.emit("videoDurationUpdate",{duration:t}),this._lastObservedDuration=t)}},s.prototype.tick=function(){this.trackDurationChange();var t=this.getCurrentTime(),e=Date.now()-(this._lastTickTime||Date.now());t==this._lastObservedPosition&&e>1e3&&this.stop(),this._playedSegmentComputationUnit.addEvent(t),this._lastObservedPosition=t,this._lastTickTime=Date.now()},s.prototype.destroy=function(){var t=this._video;this.stop(),t.off("pause",this.stop),t.off("ended",this.stopAndReset),t.off("playing",this.start),t.off("timeupdate",this.start),t.off("durationchange",this.tick),t.off("muted",this.flush),t.off("unmuted",this.flush),t.off("enterfullscreen",this.flush),t.off("exitfullscreen",this.flush),t.off("durationchange",this.trackDurationChange);for(var e in t.QUARTILE_EVENTS)t.off(e,this.reemitQuartileEvent);o().off("mediaStopRequested",this.stop),this._playedSegmentComputationUnit.flush()},this.VideoEventsAdapter=s}();;
!function(){function n(n){if(n.serverReportedDuration)return n.serverReportedDuration;var r=-1!==t.indexOf(n.duration);return r?null:n.duration}var t=[void 0,null,0,1],r={videoStart:function(n,t,r){return t>Math.min(1,.25*r)},videoFirstQuartile:function(n,t,r){var e=.25*r;return e>n&&t>=e},videoMidpoint:function(n,t,r){var e=.5*r;return e>n&&t>=e},videoThirdQuartile:function(n,t,r){var e=.75*r;return e>n&&t>=e},videoComplete:function(n,t,r){return t>Math.max(.75*r,r-2)}};window.QuartileEventsEmitter=function(t){t.QUARTILE_EVENTS=r;var e={};Object.keys(r).forEach(function(n){e[n]=r[n]});var i=null,u=function(){var t;t=null===i?this.currentTime:null!==i&&this.currentTime>i?this.currentTime:i;var r=n(this);if(null!==r&&null!==i&&t&&1>t-i){i>0&&1>i&&(i=0);for(var u in e)e[u](i,t,r)&&(this.emit(u,{name:u,label:this.componentName}),delete e[u])}i=t}.bind(t);return t.on("timeupdate",u),t.on("destroy",function(){t.off("timeupdate",u)}),t}}();;
!function(){{var t={};new Image}t.ZINDEX_MAX=2147483647,t.LANDSCAPE=1,t.PORTRAIT=2,t.ENDED=0,t.PLAYING=1,t.PAUSED=2,t.BUFFERING=3,t.VIDEO_CUED=5,t.UNSTARTED=6,t.SEEKING=7,t.STATE={0:"ENDED",1:"PLAYING",2:"PAUSED",3:"BUFFERING",5:"VIDEO_CUED",6:"UNSTARTED",7:"SEEKING"},t.TRUTHY_REGEX=/^(yes|true|1)$/i,t.isTruthy=function(e){return t.TRUTHY_REGEX.test(e)},t.isTouchDevice=!!("ontouchstart"in window),t.validFor=function(t,e,n){var r=Date.now()+e;return function(){Date.now()<=r&&t.apply(n||null,arguments)}},t.exists=function(t,e){return-1!==t.indexOf(e)},t.lastCall=0,t.deduplicate=function(e,n,r){return function(){Date.now()-t.lastCall>n&&(e.apply(r,arguments),t.lastCall=Date.now())}},t.isFunction=function(t){return"function"==typeof t},t.constantly=function(t){return function(){return t}},t.hash=function(){for(var t=Array.prototype.slice.apply(arguments),e=0,n=0;n<t.length;n+=1)e+=1e3*t[n]+e<<1;return e},t.curry=Function.prototype.curry||function(){var t=this,e=Array.prototype.slice.call(arguments);return function(){return t.apply(this,e.concat(Array.prototype.slice.call(arguments)))}},t.offset=function(t,e){var n=t.getBoundingClientRect()||{top:0,left:0},r=e||document,i=r.documentElement,o=r.defaultView;return{top:n.top+(o.pageYOffset||i.scrollTop)-(i.clientTop||0),left:n.left+(o.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}},t.attachHandlers=function(t,e,n){for(var r in n){var i;i=isArray(n[r])?n[r]:[n[r]],i.forEach(function(n){var i=t[n];i&&e.on(r,i.bind(t))})}},t.idempotented=function(e,n){var r=!1;if(!t.isFunction(e))throw"idempotented called with no function.";return function(){if(!r){var t=Array.prototype.slice.call(arguments);r=!0,e.call(n||window,t)}}},t.delayed=function(t,e,n){var r=null;return function(){var i=arguments;clearTimeout(r),r=setTimeout(function(){t.apply(n,i)},e)}},t.swapClass=function(t,e,n){hasClass(t,e)?(removeClass(t,e),addClass(t,n)):(removeClass(t,n),addClass(t,e))},t.memoize=function(t){return function(){var e=Array.prototype.slice.call(arguments),n="",r=e.length,i=null;for(t.memoize=t.memoize||{};r--;)i=e[r],n+=i===Object(i)?JSON.stringify(i):i,t.memoize||(t.memoize={});return n in t.memoize?t.memoize[n]:t.memoize[n]=t.apply(this,e)}},t.toMMSS=function(t){var e=Math.floor(t/36e5),n=Math.floor((t-36e5*e)/60),r=Math.round(t-36e5*e-60*n);return 10>n&&(n="0"+n),10>r&&(r="0"+r),n+":"+r},t.fitComponent=function(t,e,n,r,i){var o,a,l,s,u=1-n/r*(e/t)>0,c=!!i;return(c?!u:u)?(o=n,a=Math.round(e*(n/t)+.5),l=0,s=r-a):(a=r,o=Math.round(t*(r/e)+.5),l=n-o,s=0),{width:Math.round(o),height:Math.round(a),marginHorizontal:l>>1,marginVertical:s>>1}},t.removeUnits=function(t){return parseInt(t.replace(/[a-z]+/,""))},t.capitaliseFirstLetter=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.createHandlerName=function(e,n){return n=n||"on",n+t.capitaliseFirstLetter(e)},t.forEach=function(t,e,n){for(var r in t)e.call(n,t[r],r,t)},t.changeStyle=function(t,e,n){for(var r,i=0;i<n.length;i+=1)r=n[i],r&&(r.style[t]=e)},t.show=function(){t.changeStyle("display","",arguments)},t.hide=function(){t.changeStyle("display","none",arguments)},t.showCursor=function(e){t.changeStyle("cursor","",e)},t.hideCursor=function(e){t.changeStyle("cursor","none",e)},t.removeElements=function(){for(var t=0;t<arguments.length;t+=1){var e=arguments[t];e&&e.parentNode&&e.parentNode.removeChild(e)}},t.removeChildren=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},t.isNode=function(t){return"object"==typeof Node?t instanceof Node:t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},t.urlSerialize=function(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")},t.composeUrl=function(){for(var e=[],n=null,r=!1,i=0;i<arguments.length;i+=1){var o=arguments[i]||"";if("object"==typeof o){n=t.urlSerialize(o);break}"function"==typeof o&&(o=o()||""),r=o.length>0&&"/"==o[o.length-1];var a=0===i?o.replace(/\/$/,""):o.replace(/^\//,"").replace(/\/$/,"");a&&e.push(a)}return e.join("/")+(r?"/":"")+(n?"?"+n:"")},t.xBindFactory=function(t){return function(e){var n=e.getAttribute("x-bind");n&&(t[n]=e,e.removeAttribute("x-bind"))}},t.createDom=function(t,e,n,r){function i(t){for(var e=t.children||[],n=0;n<e.length;n+=1)i(e[n]);return r(t),t}var o=t.createElement("div"),r=r||noop;return o.innerHTML=tmpl("string"==typeof e?e:e.join(""),n||{}),i(o).children[0]},t.createStyleTag=function(t,e){var n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n},t.insertStyleTag=function(t,e,n){var r=n.getElementsByTagName("head")[0];if(!n.getElementById(t)){var i=document.createElement("style");i.setAttribute("id",t),i.innerHTML=e,r.appendChild(i)}},t.createSourceTag=function(t,e){var n=t.createElement("source");return n.setAttribute("src",e),n},t.hasValue=function(t){return null!==t&&void 0!==t&&t!==0/0&&""!==t},t.filterObject=function(t,e){var n,r={};for(n in t)t.hasOwnProperty(n)&&(e&&e(t[n])||t[n])&&(r[n]=t[n]);return r},t.complement=function(t){return function(){return!t.apply(this,arguments)}},t.EMPTY_PIXEL="R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",this.CeltraPlayerUtils=t,t.forEach=function(t,e,n){if(t.forEach)t.forEach(e,n);else for(var r in t){var i=t[r];e.call(n,r,i)}},t.canManipulateVolume=t.memoize(function(){var t=document.createElement("audio"),e=t.volume,n=1>e?e+.1:e-.1;return t.volume=n,t.volume===n}),t.isTouchDevice=!!("ontouchstart"in window),t.isTopNode=function(t){return"BODY"===t.tagName||"viewport"===t.id||"celtra-modal"===t.id},t.orientationLockHandler=function(t,e){var n=t.getControlsElement(),r=t.getWrapperElement();r&&(e?(t.__playAfterRotate=t.isState(CeltraPlayerUtils.PLAYING)?!0:!1,t.pause(),n&&(n.style.display="none"),r.style.zIndex=-1):(n&&(n.style.display=""),t.__playAfterRotate&&t.play(),r.style.zIndex=CeltraPlayerUtils.ZINDEX_MAX))},t.construct=function(t,e){function n(){return t.apply(this,e)}return n.prototype=t.prototype,new n},t.getUrl=function(e){var n=!!creative.runtimeParams.secure,r=(n?e:"insecure"+t.capitaliseFirstLetter(e))+"Url",i="undefined"!=typeof creative?creative[r]:urls[r];if(i)return i;throw"Undefined url key "+r},t.ifDefined=function(t,e){return"undefined"!=typeof t?t:e},t.base64ToArrayBuffer=function(t){for(var e=window.atob(t),n=e.length,r=new Uint8Array(n),i=0;n>i;i++){var o=e.charCodeAt(i);r[i]=o}return r.buffer}}(),function(){this.StatefulEventEmitter={changeState:function(t){var e=this._state;this._state!=t&&(this._state=t,this.emit("statechange",t,e))},getState:function(){return this._state},isState:function(){var t=Array.prototype.slice.apply(arguments);return-1!==t.indexOf(this._state)}},extend(this.StatefulEventEmitter,EventEmitter)}(),function(){function t(t,o,a){this.intervalId=null,this.containerEl=null,this.externalResize=noop,this.lastWidth=0,this.lastHeight=0,this.lastScrollX=0,this.lastScrollY=0,this.doc=t.ownerDocument,this.win="defaultView"in this.doc?this.doc.defaultView:this.doc.parentWindow,this.initialHostOffset={left:this.win.pageXOffset||document.documentElement.scrollLeft,top:this.win.pageYOffset||document.documentElement.scrollTop},this.containerEl=t;var l=this.containerEl.style;l.position=a?"fixed":"absolute",l.zIndex=CeltraPlayerUtils.ZINDEX_MAX-1,l.width="100%",l.height="100%",l.left="0px",l.top="0px",o||(l.background="#000"),this.containerEl.addEventListener("touchmove",r),this.containerEl.addEventListener("touchstart",r),this.win.document.body.appendChild(this.containerEl),this.resize=n.bind(this),this.tick=e.bind(this),this.intervalId=setInterval(this.tick,i),new Tapper(t)}function e(){window===("undefined"==typeof adapter?creative.adapter:adapter).getTopWindow()&&(this.containerEl.style.width="100%",this.containerEl.style.height="100%");var t=Math.max(this.win.document.documentElement.clientWidth,this.win.innerWidth||0),e=Math.max(this.win.document.documentElement.clientHeight,this.win.innerHeight||0);(this.lastWidth!==t||this.lastHeight!==e||ios("7")&&o)&&(this.lastWidth=t,this.lastHeight=e,defer(this.resize))}function n(){var t=this.containerEl.style;t.width=this.lastWidth+"px",t.height=this.lastHeight+"px",t.zIndex=CeltraPlayerUtils.ZINDEX_MAX,this.emit("resize",{width:this.lastWidth,height:this.lastHeight,scrollX:this.lastScrollX,scrollY:this.lastScrollY})}function r(t){t.preventDefault(),t.stopPropagation()}var i=60,o=-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("CriOS");extend(t.prototype,EventEmitter),t.prototype.getElement=function(){return this.containerEl},t.prototype.destroy=function(){this.containerEl&&(this.containerEl.removeEventListener("touchmove",r),this.containerEl.removeEventListener("touchstart",r),clearInterval(this.intervalId),this.containerEl.innerHTML="")},window.FullScreenHandler=t}();;
!function(){var t=.4,i=function(t,i){this.maxPlayingSegmentLength=t,this.callback=i,this.reset()};i.prototype.init=function(t){this._startPlayingPosition=t,this._lastPlayingPosition=t},i.prototype.addEvent=function(t){t>this._lastPlayingPosition&&(this._lastPlayingPosition=t);var i=this._lastPlayingPosition-this._startPlayingPosition,n=i>=this.maxPlayingSegmentLength;n&&this.flush()},i.prototype.flush=function(i){if(null!=this._startPlayingPosition){var n=this._startPlayingPosition,s=this._lastPlayingPosition;(i||s-n>t)&&s>n&&(this.callback({from:n,to:s}),this._startPlayingPosition=this._lastPlayingPosition)}},i.prototype.reset=function(){this._startPlayingPosition=null,this._lastPlayingPosition=null},window.PlayedSegmentComputationUnit=i}();;
!function(t){function i(t){this.update=this.update.bind(this),t.addEventListener("timeupdate",this.update),this._duration=t.getDuration(),this._consumableSeconds=Math.ceil(this._duration),this._completionMarker=Math.max(0,this._duration-i.COMPLETION_WINDOW_LENGTH),this._uniqueSecondsPlayedList=[],this._last=this._initState(),this._quartileDurations={start:0,firstQuartile:.25*this._duration,midpoint:.5*this._duration,thirdQuartile:.75*this._duration,complete:this._completionMarker}}extend(i.prototype,EventEmitter),i.COMPLETION_WINDOW_LENGTH=.2,i.prototype._initState=function(){return{position:0,time:0,playingSecond:0,runningSecond:0,inCompletionWindow:!1}},i.prototype.update=function(t){var i=Date.now();if(t>0){t>this._duration&&(t=this._duration);var n=t>=this._completionMarker;if(this._last.inCompletionWindow&&n)return;this._last.inCompletionWindow&&!n&&(this._last=this._initState());var e=Math.floor(t)+1;e===this._last.runningSecond&&this._last.playingSecond!==e&&(this._last.playingSecond=e),this._last.playingSecond&&this._last.playingSecond!=e&&(this._markAndEmitSecondPlayed(this._last.playingSecond,t),this._last.playingSecond=0),n&&this._flushFinalSecondsIfNecessary(e,t);var s=this._uniqueSecondsPlayedList.length;-1==this._uniqueSecondsPlayedList.indexOf(e)&&(s+=t-Math.floor(t)),s>this._duration&&(s=this._duration),this._markAndEmitQuartilesForDuration(s),this._last.time=i,this._last.position=t,this._last.runningSecond=e,this._last.inCompletionWindow=n}},i.prototype._flushFinalSecondsIfNecessary=function(t,i){t<=this._consumableSeconds&&this._markAndEmitSecondPlayed(t,i),t+1<=this._consumableSeconds&&this._markAndEmitSecondPlayed(t+1,i)},i.prototype._markAndEmitSecondPlayed=function(t,i){var n=-1==this._uniqueSecondsPlayedList.indexOf(t);n?(this._uniqueSecondsPlayedList.push(t),this.emit("secondPlayed",t,i)):this.emit("secondReplayed",t,i)},i.prototype._markAndEmitQuartilesForDuration=function(t){for(var i in this._quartileDurations)t>=this._quartileDurations[i]&&(delete this._quartileDurations[i],this.emit(i,t))},t.PlaybackTrackingEventsEmitter=i}(this);;
!function(t){function i(t,i){this._context=i,this._prefix="video",["start","firstQuartile","midpoint","thirdQuartile","complete"].forEach(function(i){t.on(i,function(t){this._context.track({name:this._prefix+ucfirst(i),position:t})}.bind(this))},this),["secondPlayed","secondReplayed"].forEach(function(i){t.on(i,function(t,n){this._context.track({name:this._prefix+ucfirst(i),second:t,position:n})}.bind(this))},this)}extend(i.prototype,EventEmitter),i.prototype.changeContext=function(t){this._context=t},t.PlaybackTrackingEventsRecorder=i}(this);;
function InstaAdContext(t,e){if(this._id=randInt(),this.initiationTimestamp=new Date/1e3,this.initiator=t,this.consideredUserInitiatedByBrowser=!!e.consideredUserInitiatedByBrowser,this.certainlyNotCausedByUserBehavior=!!e.certainlyNotCausedByUserBehavior,this.inUserInitiatedIteration=this.consideredUserInitiatedByBrowser,this.consideredUserInitiatedByBrowser&&this.certainlyNotCausedByUserBehavior)throw new Error("Unable to create an InstaAdContext where both consideredUserInitiatedByBrowser and certainlyNotCausedByUserBehavior are true!");this.inUserInitiatedIteration&&setTimeout(function(){this.inUserInitiatedIteration=!1}.bind(this),0),this.shouldTrackUVTEvents=creative.shouldTrackUVTEvents,this.shouldTrackClassicEvents=!0}InstaAdContext.prototype.extendEvent=function(t){return extend({localId:this.initiator?this.initiator.localId:null,clazz:this.initiator?this.initiator.constructor.name:null,initiationTimestamp:this.initiationTimestamp},t)},InstaAdContext.prototype.extendEventUVT=function(t){return extend({viewName:this.name,clazz:this.constructor.name,initiationTimestamp:this.initiationTimestamp,testDeploy:!0},t)},InstaAdContext.prototype.extendEventIIV=function(t){return extend({localId:this.initiator?this.initiator.localId:null,objectClazz:this.initiator?this.initiator.constructor.name:null,initiationTimestamp:this.initiationTimestamp},t)},InstaAdContext.prototype.track=function(t,e){var i=null;this.shouldTrackAsInStreamInteractiveVideoEvent?i=this.extendEventIIV(t):this.shouldTrackClassicEvents?i=this.extendEvent(t):this.shouldTrackUVTEvents&&(i=this.extendEventUVT(t)),i&&creative.track(i,e)},InstaAdContext.prototype.trackUserInteraction=function(){if(creative.runtimeParams.userInteracted)creative.interactionTrackingTimeout||(this.track({name:"interaction"}),creative.interactionTrackingTimeout=setTimeout(function(){creative.interactionTrackingTimeout=null},1e3));else{if(creative.runtimeParams.userInteracted=1,creative.experiments.get("TrackViewableAreaChange")){var t=creative.adapter;t.canMeasureViewportPlacementGeometry&&"function"==typeof t.trackViewableAreaRatio&&t.trackViewableAreaRatio()}this.track({name:"firstInteraction"})}},InstaAdContext.prototype.trackClickThrough=function(t){t||(t=noop),creative.runtimeParams.clickedThrough?setTimeout(t,0):(creative.runtimeParams.clickedThrough=1,this.track({name:"firstClickThrough"},t))};;
!function(){var A=[".video-player-wrapper {","    position: absolute;","    width: 100%;","    height: 100%;","    background: #000;","    top: 0;","    left: 0;","    overflow: hidden;","}",".video-player-engine {","    position: absolute;","    width: 100%;","    height: 100%;","    min-height: 100%;","    top: 0;","    left: 0;","    margin: 0;","    padding: 0;","    overflow: hidden;","}",".video-player-engine video,",".video-player-engine .canvasContainer","{","    position: relative;","    width: 100%;","    height: 100%;","    min-height: 100%;","    background: #000;","    top: 0;","    left: 0;","}",".video-player-poster {","    position: absolute;","    background-color: #000000;","    background-size: contain;","    background-repeat: no-repeat no-repeat;","    background-position: center center;","}",".video-player-fitting-crop .video-player-poster {","    background-size: cover;","}",".video-player-engine canvas {","    position: relative;","    width: 100%;","    background: #000;","    top: 0;","    left: 0;","}",".video-player-engine canvas {","    image-rendering: optimizeSpeed;","    image-rendering: -moz-crisp-edges;","    -ms-interpolation-mode: nearest-neighbor;","    image-rendering: optimize-contrast;","    image-rendering: -webkit-pixelated;","    image-rendering: crisp-edges;","    image-rendering: -webkit-optimize-speed;","    image-rendering: -webkit-optimize-contrast;","}",".video-controls-container {","    position: absolute;","    width: 100%;","    height: 100%;","    top: 0;","    left: 0;","    font-size: 14px;","}",".video-controls-wrapper {","    position: absolute;","    width: 100%;","    height: 100%;","}",".video-controls-slider-container {","    position: absolute;","    width: 100%;","    height: 8px;","    bottom: -1px;","    left:0;","    background: #111;","}",".video-controls-progress-bar {","    opacity: 0.3;","}",".video-controls-progress-bar,",".video-controls-time-bar {","    position: absolute;","    width: 0;","    top: 0;","    left: 0;","    height: 100%;","}","@-webkit-keyframes video-player-spin{","    0%   { -webkit-transform: rotate(0deg); }","    100% { -webkit-transform: rotate(359deg); }","}","@-moz-keyframes video-player-spin{","    0%   { -moz-transform: rotate(0deg); }","    100% { -moz-transform: rotate(359deg); }","}","@keyframes video-player-spin{","    0%   { transform: rotate(0deg); }","    100% { transform: rotate(359deg); }","}",".video-player-spinner-big,",".video-player-spinner-small {","    display: block;","    position: absolute;","    top: 50%;","    left: 50%;","    -webkit-animation: video-player-spin 1.5s infinite linear;","    animation: video-player-spin 1.5s infinite linear;","}",".video-player-spinner-big {","    width: 35px;","    height: 35px;","    margin-top: -17px;","    margin-left: -17px;",'    background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAQAAAC00HvSAAADTklEQVR4AZWVTWgcZRyHn/c/7zubbDbJJsTEioiIH7EGq6EIRqwWqbRClXrx4E0QxYt3b4qK9qgoePDmwRYVS6xFW7Ueeqj0kqIVQYwljTVt0o/dZD9n3r/zshGSGpOd54GZ0+9h/qcxbMh03PfK4LPl8cFy0SJsialxIyfHRz+6Y6pkDR0xXWQ8azlaGvt0fF9sMsiTsazh2933fzEyKICu2+bKfP/izg96IlDA6JXmhdPVY81T6Xk2wAuCz1zFTNOh+PKD71sRMIZqY3aa59iERYtktvDrMm735LGCNQaE38/O7WGRzRBCJljrhCyB0l2HXKSgxpw7zt4xNmcBZNUSlU4XGPl4aEhRVc595fd6tvKm8LAEY4qrR0V3T87YyGDMn2d4mC6ZL9JDmEm6gBcYPhiJqlJdnt8/T7dSQ0JEhQEQ4m2Ph4jq3GdDi0N0Lw21arHSL0jP84WCZlQqV1+6Sh5ZRoix9PiiLe1TBbj0w4gnJ4v1qBeQqN8W79HQYeU78tPAIqBFWxwNFbR1mvy0iMEY+qyNvRK4SH68cQAGiaz64MTCBHndkRhngr3SbnYyM6Mz5NYah81EWnXN8D66OSKvxBrjMpH6X+ozNd4Rk1dKxgW1KbVfskpGYapAXqNRXGakdal/o1kHX95VJq/RbcYFWZLGkVY1fE+hvPT6Enmc2y5lnIk0TS8LraXjeM0ceqY6UKVrrbsvRHD+gvViqbyTtvDex4PD7w3Tre4xUzYOhyS/JUiCP3/pkPd49eVH2m+36cbqLrcdR2Rs8qutWcRiqbxRm9c0HDZywLxp2MrGE/FDxoo1VivJTEKCmSYQPXDrJ+LIQppeO3n9NZb5P+LC0+5eEm2Tar12mCvr/lPxU9veNRIy6luXK0f4kA1I9hR2Sp9PSLJIo/4lsxAwR/kX++TYWyZWT6qZrb9rp9pnkj/8dSqUon5zi73TTUhJs4QGV+qfh8h/MmAmRg7GYyGiXpPMlLbP3rS1Y6oJLU3Upxebh1lYs/yataQ9pVcH9hsJqdVMmHYS7ZAm0Ubjx9YJEtZgprmRaKz3hb5HpTeESHyIZYFOIq00f2qe4BqBTTMdrJuKJ+3t0bAUsH7FV5KFZLb9c3oWzwb8AzjvQbz9lli3AAAAAElFTkSuQmCC");',"}",".video-player-spinner-small {","    width: 18px;","    height: 18px;","    margin-top: -9px;","    margin-left: -9px;",'    background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAQAAAD8x0bcAAABeElEQVR4AXXSv2sTYRjA8e89997lcuR60eJQUdpFQQoqdHRWhAoddPBPcHRwE8TZxcXJf0BEsIjuQUQQtZMOpREM9RKL1RrqJbkf771nEGnKJf1+hmd5eKaHSe/vtzf30k63Q9X/8XZte6f8V/QrokopILq9/CB0+nnUip/l7zioUJgxrBbu6rnnodvp9G6wwaG04AEJRvAWHjXcr+3tC3pDcxhmzGcOpH7rxOm9uHfN3repIkMkwJPguljfXwVbAdOaBm3V7VD8pVE2fDpkNhJcQqXqOi+2OKrxJRxVFkXB0Ql1tKS/QZaE2fAkQGS4KbZ3xWM2+xRzpDJYz5Pw6mBxwLQ/vlq2XLMj6ZP9T7VjzYfGN1Qo97IslD9NV8j6d0e7wUrzsSwKExyv3XTOl1n2AWO1AHdt/p4Kkm/xy/xN2cMwb591Lkqj+JGs0wbrNQCy0rjjnQHdN7EZkYOJs8/ZC7pwsASgVp1L6qRVK9NiV3/RHyc/8RftSMiO8WZLaAAAAABJRU5ErkJggg==");',"}",".video-controls-hiddable {","    position: relative;","    width: 100%;","    height: 100%;","}",".video-controls-wrapper .center-button { ","    position: absolute;","    width: 4em;","    height: 4em;","    border-top-left-radius: 2em;","    border-top-right-radius: 2em;","    border-bottom-left-radius: 2em;","    border-bottom-right-radius: 2em;","    background: #111;","    margin: auto;","    top: 0;","    left: 0;","    bottom: 0;","    right: 0;","    text-align: center;","    cursor: pointer;","    opacity: 0.8;","    z-index: 1;","}",".center-button div {","    position: relative;","    width: 100%;","    color: white;","    font-size: 2em;","    top: 0.5em;","}",".center-button .celtra-icon-play { left: 0.1em;}",".center-button .celtra-icon-replay { top: 0.62em; left:0.05em}",".video-controls-wrapper .custom-button {","    position: absolute;","    height: 100%;","    width: 100%;","    top: 0;","    left: 0;","    cursor: pointer;","    opacity: 0.8;","}",".custom-button img {","    margin: auto;","    position: absolute;","    top: 0;","    right: 0;","    bottom: 0;","    left: 0;","}",".video-controls-button {","    position: absolute;","    cursor: pointer;","    font-size: 1.5em;","    color: white;","    width: 2.5em;","    height: 2.5em;","}",".video-controls-desktop .video-controls-button div {","    margin-top: -0.5em;","}",".ie-click-event {","    background-color: rgba(255,255,255,0);","}",".video-controls-button-shadow {","    text-shadow: 1px 1px 3px #000;","}",".video-controls-button-top-right {","    right: 0;","    top: 0;","}",".video-controls-desktop .video-controls-button-top-right {","    margin-right: 0.5em;","    margin-top: 0.5em;","    width: 1.5em;","    height: 1.5em;","}",".video-controls-button-bottom-right {","    right: 0;","    bottom: 0;","}",".video-controls-desktop .video-controls-button-bottom-right {","    margin-right: 0.5em;","    margin-bottom: 0.75em;","    width: 1.5em;","    height: 1.5em;","}",".video-controls-button div {","    position: absolute;","    height: 50%;","    width: 100%;","    left: 0;","    text-align: center;","    top:  50%;","    margin-top: -0.75em;","    vertical-align: middle;","}",".video-controls-button .celtra-icon-close {","    font-size: 0.7em;","    left: 0.07412em;","}",".video-controls-button .celtra-icon-enter-full-screen,",".video-controls-button .celtra-icon-exit-full-screen {","    left: 0.09em;","}",".video-controls-pending {","    animation: video-controls-pending 1s infinite linear;","}","@-webkit-keyframes video-controls-pending {","    0%   { opacity: 1 }","    50% { opacity: 0 }","    100%   { opacity: 1 }","}","@keyframes video-controls-pending {","    0%   { opacity: 1 }","    50% { opacity: 0 }","    100%   { opacity: 1 }","}","@font-face {",'    font-family: "celtraicons";','    src:url("data:application/font-woff;base64,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"),','        url("data:font/truetype;base64,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");',"    font-weight: normal;","    font-style: normal;","}",'[class^="celtra-icon-"], [class*=" celtra-icon-"] {','    font-family: "celtraicons";',"    speak: none;","    font-style: normal;","    font-weight: normal;","    font-variant: normal;","    text-transform: none;","    line-height: 1;","    -webkit-font-smoothing: antialiased;","    -moz-osx-font-smoothing: grayscale;","}",'.celtra-icon-redo:before { content: "\\e600"; }','.celtra-icon-close:before { content: "\\e60d"; }','.celtra-icon-go-landscape:before { content: "\\e603"; }','.celtra-icon-twitter:before { content: "\\e605"; }','.celtra-icon-facebook:before { content: "\\e606"; }','.celtra-icon-phone:before { content: "\\e607"; }','.celtra-icon-play:before { content: "\\e608"; }','.celtra-icon-pause:before { content: "\\e609"; }','.celtra-icon-exit-full-screen:before { content: "\\e60a"; }','.celtra-icon-enter-full-screen:before { content: "\\e60b"; }','.celtra-icon-unmute:before { content: "\\e60c"; }','.celtra-icon-mute:before { content: "\\e601"; }','.celtra-icon-replay:before { content: "\\e602"; }','.celtra-icon-close2:before { content: "\\e604"; }',".spinner .center-button {","    display: none;","}",".web-audio .celtra-icon-mute, .web-audio .celtra-icon-unmute { color: red; }",""].join("\n");this.VideoPlayerCss=A}();;
!function(){var e={supportsHtml5Video:!0,allowsInlineMediaPlayback:!0,mediaPlaybackRequiresUserAction:!1,canManipulateVolume:desktop()||CeltraPlayerUtils.canManipulateVolume(),isHighDensityDisplay:celtra.isHighDensityDisplay(),startMuted:!1,preload:!1,from:null,to:null,blobHash:null,customUrlParameters:{},hasAudio:!0,hasVideo:!0,forceMPEG1Video:!1,forceMPEG4Video:!1,thumbnailMode:!1},i=CeltraPlayerUtils.composeUrl,r=CeltraPlayerUtils.filterObject,o=(CeltraPlayerUtils.isTruthy,CeltraPlayerUtils.getUrl),t=/Safari\/\d+/.test(navigator.userAgent)&&ios(),n=t&&ios("10",null)&&!chromeBased()||android()&&chromeBased("53",null);VideoEngineProvider={};var a=function(i,r){var o=merge(e,r);o.preload&&!desktop()&&(i=!1),o.audioCanAutoplay||i||desktop()||o.videoElement||(o.startMuted=!0);var t=d(i,n,o);return"jsVideo"==t?merge(s(o),{inUserInitiatedThread:i,startMuted:o.startMuted}):merge(l(o),{inUserInitiatedThread:i,startMuted:o.startMuted})},d=function(e,i,r){if(r.forceMPEG1Video)return"jsVideo";if(r.forceMPEG4Video||i)return"html5";if(r.isTeaser)return"jsVideo";var o=!e&&r.mediaPlaybackRequiresUserAction||!r.allowsInlineMediaPlayback||!r.supportsHtml5Video;return!o||r.thumbnailMode||r.disableJsPlayer?"html5":"jsVideo"},s=function(e){var i=tablet()&&ios(),r=e.isTeaser?"mpeg1TeaserVideo":android("4.0")&&celtra.webkit("534.30")?"mpeg1HQVideo":i&&e.isHighDensityDisplay?"mpeg1SHQVideo":i?"mpeg1HQVideo":ios()?"oggHQVideo":"oggLQVideo";i&&("mpeg1SHQVideo"===r||"mpeg1HQVideo"===r)&&e.selectOGVPlayer&&(r="oggLQVideo"),ios()&&creative&&"CrossScreenMiniscroller"==creative.constructor.name&&(r="mpeg1HQVideo");var o=/(?:mpeg|ogg)(?=[^\/?]+)/.exec(r),t=o&&"ogg"===o[0]?"ogv":"mpeg1";return{clazz:"JsVideoEngine",preset:r,engineType:t,file:"video.avi",doAVSync:e.hasAudio&&!e.isTeaser,isTeaser:e.isTeaser,preload:e.preload,options:{}}},l=function(e){var i=!!e.videoElement,r=gecko()&&desktop(),o=r?{prefix:"webm",extension:"webm"}:{prefix:"mpeg4",extension:"mp4"},t=r?"HQ":desktop()||i?"HQPlus":tablet()||n?"HQ":"LQ",a=o.prefix+t;return{clazz:"Html5VideoEngine",preset:a,engineType:"html5",file:"video."+o.extension,doAVSync:!desktop()&&e.hasAudio&&!e.isTeaser&&!e.canManipulateVolume&&f()&&!i,isTeaser:e.isTeaser,preload:e.preload,crossOrigin:!0,options:{}}},u=function(e,r){var t="Html5VideoEngine"==e.clazz&&(e.doAVSync||e.isTeaser);return i(o("cachedApi"),"videoStream",r.blobHash,e.preset,e.file,p(e.preset,t,r))};AudioEngineProvider={};var c=function(e){if(!e.doAVSync)return null;var i=f()?"WebAudioEngine":"Html5AudioEngine";return{clazz:i,preload:e.preload}},m=function(e){var r={preset:"aacAudio",file:"audio.m4v"};return i(o("cachedApi"),"videoStream",e.blobHash,r.preset,r.file,e?g(r.preset,e):{})},p=function(e,i,o){return r(merge({from:o.from,to:o.to,muted:i?"1":null,transform:"VideoStream",celtraCacheBust:V(e)},o.customUrlParameters))},g=function(e,i){return r(merge({from:i.from,to:i.to,transfom:"VideoStream",celtraCacheBust:V(e)},i.customUrlParameters))},f=function(){return"undefined"!=typeof AudioContext||"undefined"!=typeof webkitAudioContext},V=function(e){if("undefined"!=typeof creative){var i=creative.videoStreamAlgoVersions[e];return creative.version+(i?"-"+i:"")}return null};VideoEngineProvider.createVideoEngineSpec=a,VideoEngineProvider.createVideoUrl=u,window.VideoEngineProvider=VideoEngineProvider,AudioEngineProvider.createAudioEngineSpec=c,AudioEngineProvider.createAudioUrl=m,window.AudioEngineProvider=AudioEngineProvider}();;
!function(e){var t=function(e,t,n,s,o,r){this._containerEl=t,this._opts=merge({},i,r),this._videoEngine=null,this._videoEngineSpecProvider=n,this.isUserGazing=o,this._doc=t.ownerDocument,this._win=this._doc.defaultView,this._baseUrl=e,this._initialized=!1,this._firstPlay=!0,this._engineType=null,this._videoPreset=null,this._muted=!0,s&&(this._controlsController=s(this,this._opts),this._controlsController.on("userInteraction",this.emit.bind(this,"userInteraction"))),this._aspectRatio=this._opts.videoWidth/this._opts.videoHeight,this.isFullScreen=!this.playsInline(),this.isDesktop=this._opts.isDesktop,this.buffered=0,this._state=null,this._posterShown=!0,this._seeked=!1,this._repeated=0,this.playSucceeded=!1,this._playingEmitted=!1,this._timeUpdateCounter=0,this._lastTimeUpdateEmitted=0,this.play=this.play.bind(this),this.silentPlay=this.silentPlay.bind(this),this.pause=this.pause.bind(this),this.silentPause=this.silentPause.bind(this),this.mute=this.mute.bind(this),this.unMute=this.unMute.bind(this),this.redraw=this.redraw.bind(this),this.enterFullScreen=this.enterFullScreen.bind(this),this.exitFullScreen=this.exitFullScreen.bind(this),this.destroy=this.destroy.bind(this),this._onFullscreenChange=this._onFullscreenChange.bind(this),this._init(),this.changeState(CeltraPlayerUtils.UNSTARTED),this._fullScreenAncestors=[]};extend(t.prototype,StatefulEventEmitter),Object.defineProperty(t.prototype,"paused",{get:function(){return this._videoEngine&&this._videoEngine.paused}}),Object.defineProperty(t.prototype,"componentName",{get:function(){return this._opts.componentName}}),Object.defineProperty(t.prototype,"duration",{get:function(){return this.serverReportedDuration?this.serverReportedDuration:this._videoEngine&&this._videoEngine.duration||0}}),Object.defineProperty(t.prototype,"serverReportedDuration",{get:function(){return this._opts.duration}}),Object.defineProperty(t.prototype,"currentTime",{get:function(){return this._videoEngine&&this._videoEngine.getCurrentTime()||0},set:function(e){this._videoEngine&&this._videoEngine.setCurrentTime(e)}}),Object.defineProperty(t.prototype,"reportsSeeking",{get:function(){return!(!this._videoEngine||!this._videoEngine.reportsSeeking)}}),Object.defineProperty(t.prototype,"muted",{get:function(){return this._muted}}),Object.defineProperty(t.prototype,"fullscreen",{get:function(){return this.isFullScreen}}),Object.defineProperty(t.prototype,"engineType",{get:function(){return this._engineType}}),Object.defineProperty(t.prototype,"videoPreset",{get:function(){return this._videoPreset}}),Object.defineProperty(t.prototype,"engineInitialized",{get:function(){return this._initialized}}),Object.defineProperty(t.prototype,"ended",{get:function(){return this.isState(CeltraPlayerUtils.ENDED)}});var i={canShowSpinner:!0,closeFSOnEnd:!1,fitting:"fit",fullscreenMode:"both",pauseOnEnd:!1,playFrom:null,playTo:null,poster:"data:image/gif;base64,"+CeltraPlayerUtils.EMPTY_PIXEL,repeatTimes:0,videoWidth:160,videoHeight:100},n={loadedmetadata:"onLoadedMetaData",durationchange:"onDurationChange",progress:"onProgress",timeupdate:["onTimeUpdate","onTimeUpdateRepeat"],canplay:"onCanPlay",play:"onPlay",playing:"onPlaying",pause:"onPause",ended:"onEnded",buffering:"onBuffering",endbuffering:"onEndBuffering",muted:"onMuted",unmuted:"onUnMuted",seeking:"onSeeking",seeked:"onSeeked",exitfullscreen:"onExitFullScreen",webkitendfullscreen:"onExitFullScreen",error:"onError",canunmute:"onCanUnMute",custominfo:"onCustomInfo",playersourceloading:"onPlayerSourceLoading",volumechange:"onVolumeChange"};t.DOM=['<div class="video-player-wrapper" x-bind="_wrapperEl">','    <div class="video-player-engine" x-bind="_engineContainerEl"></div>','    <div x-bind="_posterEl" class="video-player-poster" style="background-image: url(\'<%= poster %>\')"></div>','    <div class="video-controls-container" x-bind="_controlsWrapperEl"></div>',"</div>"],t.prototype._init=function(){if(CeltraPlayerUtils.createDom(this._doc,t.DOM,this._opts,CeltraPlayerUtils.xBindFactory(this)),CeltraPlayerUtils.insertStyleTag("celtra-video-player-style",VideoPlayerCss,this._doc),this._controlsController&&(this._controlsEl=this._controlsController.render(this._doc),this._controlsWrapperEl.appendChild(this._controlsEl)),this._containerEl.appendChild(this._wrapperEl),this._posterShow(),this._controlsController&&this._controlsController.adjustSizes(this._containerEl.clientHeight),this._opts.preload){var e=this.createSpecs(!1,this._opts.startMuted);this.initialize(e)}this.dtCanFullscreen=this.isDesktop&&this._toggleDesktopFSStateHandlers("add")},t.prototype.setDimensions=function(e,t){this.width=e,this.height=t,this.redraw(),this.emit("rendered")},t.prototype.getVideoElement=function(){return this._videoEngine},t.prototype.getControlsElement=function(){return this._controlsEl},t.prototype.getWrapperElement=function(){return this._wrapperEl},t.prototype._posterHide=function(){this._posterShown&&(this._posterShown=!1,this._posterEl.style.display="none")},t.prototype._posterShow=function(){this._posterShown||(this._posterShown=!0,this._posterEl.style.display="")},extend(t.prototype,{onLoadedMetaData:function(){this.redraw(),this.emit("canunmute")},onCanPlay:function(){this.emit("canplay")},onDurationChange:function(){this.emit("durationchange")},onBuffering:function(){this.changeState(CeltraPlayerUtils.BUFFERING),this.emit("buffering")},onEndBuffering:function(){this.emit("endbuffering")},onPlayerSourceLoading:function(e){(this._opts.autoplay||e)&&this.emit("playersourceloading")},onMuted:function(){this._muted=!0,this.emit("muted")},onUnMuted:function(){this._muted=!1,this.emit("unmuted")},onVolumeChange:function(e){this._muted=0==e,this.emit(this._muted?"muted":"unmuted"),this.emit("volumechange",e)},onProgress:function(){this.buffered="object"==typeof this._videoEngine.buffered&&this._videoEngine.buffered.length>0?this._videoEngine.buffered.end(0):this._videoEngine.buffered,this.emit("progress",this.buffered/(this.duration||1))},onTimeUpdate:function(){!this._playingEmitted&&this._timeUpdateCounter>2&&this.buffered>0&&(this._playingEmitted=!0,this.onEndBuffering(),this.changeState(CeltraPlayerUtils.PLAYING),this.emit("playing")),this._timeUpdateCounter+=1;var e=Date.now();this._timeUpdateCounter>1&&e-this._lastTimeUpdateEmitted>70&&(this._lastTimeUpdateEmitted=e,this._posterHide(),this.emit("timeupdate",this._videoEngine.getCurrentTime()))},onTimeUpdateRepeat:function(e){this._opts.playTo&&e>=this._opts.playTo&&(this._hasToBeRepeated()?this._doRepeat():(this.pause(),this._doEnd()))},onPlay:function(){this.emit("play")},onPlaying:function(){this.emit("playing"),this.changeState(CeltraPlayerUtils.PLAYING),this.playSucceeded=!0,this.redraw()},onPause:function(){this.changeState(CeltraPlayerUtils.PAUSED),this.emit("pause")},onExitFullScreen:function(){this.exitFullScreen()},onEnded:function(){this._playingEmitted=!1,this._hasToBeRepeated()?this._doRepeat():this._doEnd()},getContainerDimensions:function(){if(this.isFullScreen){var e=this.dtCanFullscreen?this._wrapperEl:this._wrapperEl.parentNode;return{width:e.clientWidth,height:e.clientHeight}}return{width:this.width,height:this.height}},redraw:function(){var e="fit"!==this._opts.fitting,t=this._aspectRatio,i=this.getContainerDimensions(),n=CeltraPlayerUtils.fitComponent(100*t,100,i.width,i.height,e),s=function(e){e.width=n.width+"px",e.height=n.height+"px",e.minHeight=n.height+"px",e.left=n.marginHorizontal+"px",e.top=n.marginVertical+"px"},o=function(e){e.width=i.width+"px",e.height=i.height+"px",e.minHeight=i.height+"px",e.left=0,e.top=0};e?(s(this._engineContainerEl.style),s(this._posterEl.style),o(this._controlsWrapperEl.style)):(s(this._engineContainerEl.style),s(this._posterEl.style),s(this._controlsWrapperEl.style))},onSeeking:function(){this.emit("seeking")},onSeeked:function(){if(this._seeked){switch(this._seeked=!1,this._stateBeforeSeek){case CeltraPlayerUtils.PLAYING:this.play();break;case CeltraPlayerUtils.PAUSED:this.silentPause()}this._stateBeforeSeek=void 0}this.emit("seeked")},onError:function(){this.emit("error")},onCanUnMute:function(){this.emit("canunmute")},onCustomInfo:function(e){this.emit("custominfo",e)}}),extend(t.prototype,{getState:function(){return this._state},mute:function(){this._videoEngine&&"function"==typeof this._videoEngine.mute&&this._videoEngine.mute(),this.onMuted()},unMute:function(){this._videoEngine&&"function"==typeof this._videoEngine.unMute&&this._videoEngine.unMute(),this.onUnMuted()},silentPlay:function(){this._videoEngine.play()},createSpecs:function(e,t){var i=this._videoEngineSpecProvider(e,t);i=merge(i,{options:this._opts});var n=AudioEngineProvider.createAudioEngineSpec(i),s=i.videoUrl?i.videoUrl:VideoEngineProvider.createVideoUrl(i,this._opts.videoStream),o=n?AudioEngineProvider.createAudioUrl(this._opts.videoStream):null;return{videoEngineSpec:i,videoUrl:s,audioEngineSpec:n,audioUrl:o}},initialize:function(e){this._createEngines(e),CeltraPlayerUtils.isNode(this._engineEl)&&!this._engineEl.parentNode&&this._engineContainerEl.appendChild(this._engineEl),e.videoEngineSpec.options.videoElement&&(this._wrapperEl.style.background="transparent"),CeltraPlayerUtils.attachHandlers(this,this._videoEngine,n),void 0!==e.videoEngineSpec.startMuted&&(e.videoEngineSpec.startMuted?this.mute():this.unMute()),this._initialized=!0},play:function(e){return null==this._videoEngine?void Logger("VideoPlayer").log("Video not initialized!"):(this.isState(CeltraPlayerUtils.UNSTARTED,CeltraPlayerUtils.ENDED)&&this.changeState(CeltraPlayerUtils.BUFFERING),this._firstPlay&&!e&&this.unMute(),this._firstPlay=!1,this._videoEngine.play(),void this.emit("userplayed"))},_createEngines:function(e){if(null===this._videoEngine){if(this._engineType=e.videoEngineSpec.engineType,this._videoPreset=e.videoEngineSpec.preset,"JsVideoEngine"==e.videoEngineSpec.clazz?this._videoEngine=new JsVideoEngine(e.videoUrl,this._engineType,e.videoEngineSpec):"Html5VideoEngine"==e.videoEngineSpec.clazz&&(this._videoEngine=Html5VideoEngine(e.videoUrl,e.videoEngineSpec)),null!==e.audioEngineSpec){var t=null,i=null;"WebAudioEngine"==e.audioEngineSpec.clazz?t=WebAudioEngine(e.audioUrl,e.audioEngineSpec.preload):"Html5AudioEngine"==e.audioEngineSpec.clazz&&(t=Html5AudioEngine(e.audioUrl,e.audioEngineSpec.preload)),i=t.noLatency?Object.create(AVSyncWebAudio).init(this,t,e.videoEngineSpec.startMuted):Object.create(AVSyncAudio).init(this,t,e.videoEngineSpec.startMuted)}this._engineEl=this._videoEngine.render(this._doc,{playsInline:this.playsInline()})}},silentPause:function(){this._videoEngine.pause()},pause:function(){this._videoEngine&&this._videoEngine.pause(),this.emit("userpaused"),this._playingEmitted=!1},close:function(){this.playsInline()?this.exitFullScreen():this.emit("close")},replay:function(){this.emit("replayed"),this.setCurrentTime(0),this._playingEmitted=!1,this.play()},reset:function(){this._videoEngine.pause(),this._videoEngine.reset(),this._posterShow(),this._controlsController&&this._controlsController.reset(),this._timeUpdateCounter=0,this._playingEmitted=!1},enterFullScreen:function(){if(this._videoEngine){if(this._containerElzIndex=this._containerEl.style.zIndex,this.dtCanFullscreen){var e=this._wrapperEl,t=(e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen).bind(e);t()}else{this.isFullScreen=!0;var i=this._wrapperEl;for(!this.isState(CeltraPlayerUtils.PAUSED);i.parentNode&&"viewport"!==i.parentNode.getAttribute("id");)i=i.parentNode;i.insertBefore(this._wrapperEl,i.firstChild),this._wrapperEl.style.zIndex=CeltraPlayerUtils.ZINDEX_MAX,Tapper(this._wrapperEl),this.redraw(),this._initialized&&this._videoEngine.pause()}this._initialized&&this._videoEngine.play(),this.emit("enterfullscreen")}},exitFullScreen:function(){if(this.dtCanFullscreen){var e=document,t=(e.exitFullscreen||e.webkitExitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen).bind(e);t()}else{this.isFullScreen=!1;{!this.isState(CeltraPlayerUtils.PAUSED,CeltraPlayerUtils.ENDED)}this._wrapperEl.style.zIndex="",this._containerEl.style.zIndex=this._containerElzIndex,this._containerEl.appendChild(this._wrapperEl),this.once("pause",CeltraPlayerUtils.validFor(function(){this.play(),this._muted||defer(this.unMute.bind(this),100)}.bind(this),1e3))}this.redraw(),this.emit("exitfullscreen")},hide:function(){this._wrapperEl&&(this._wrapperEl.style.display="none")},destroy:function(){this._videoEngine&&(this._videoEngine.pause(),this._videoEngine.destroy(),this._controlsController&&this._controlsController.destroy());var e=function(){CeltraPlayerUtils&&this._wrapperEl&&CeltraPlayerUtils.removeElements(this._wrapperEl),this._toggleDesktopFSStateHandlers("remove"),this._wrapperEl=null}.bind(this);"undefined"!=typeof TouchEventSimulator?defer(e,100):e(),this.emit("destroy")},getDuration:function(){return this.duration},getCurrentTime:function(){return this._videoEngine?this._videoEngine.getCurrentTime():null},setCurrentTime:function(e){this._videoEngine&&this._videoEngine.setCurrentTime(e)},seekTo:function(e){this.emit("seekto",e),this._seeked||(this._stateBeforeSeek=this.getState(),this.getState()===CeltraPlayerUtils.PLAYING&&this.pause()),this._seeked=!0,this._videoEngine.seekToRatio(e)}}),t.prototype._hasToBeRepeated=function(){return this._repeated<this._opts.repeatTimes},t.prototype._doRepeat=function(){this._repeated+=1,this.setCurrentTime(this._opts.playFrom||0),this.play(),this.emit("repeat")},t.prototype._doEnd=function(){this._opts.pauseOnEnd?this.pause():this._posterShow(),this._timeUpdateCounter=0,this.changeState(CeltraPlayerUtils.ENDED),this.emit("ended"),this._opts.closeFSOnEnd&&this.isFullScreen&&this.exitFullScreen()},t.prototype._onFullscreenChange=function(){this.isFullScreen?(this.exitFullScreen(),this.isFullScreen=!1):(this.isFullScreen=!0,this.redraw())},t.prototype._toggleDesktopFSStateHandlers=function(t){var i=t+"EventListener",n=["","webkit","moz","ms"].some(function(e){if("undefined"!=typeof document["on"+e+"fullscreenchange"]){var t="ms"!==e?e+"fullscreenchange":"MSFullscreenChange";return document[i](t,this._onFullscreenChange),!0}return!1}.bind(this));return e[i]&&e[i]("resize",this.redraw),n&&!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)},t.prototype.playsInline=function(){return"permanent"!==this._opts.fullscreenMode},e.VideoPlayer=t}(window);;
!function(){var e=function(i,t,s){this._videoPlayer=i,this._opts=merge({},e.DEFAULTS,s),this.isVisible=!1,this._controlsInitiallyDisabled=!1,this._isFirstPlay=!0,this._playAfterSeeking=!1,this._isMuted=!1,this._spinnerShown=!0,this._cursorHidden=!1,CeltraPlayerUtils.attachHandlers(this,this._videoPlayer,e.PLAYER_EVENTS,!0),this._changeVisibility=this._changeVisibility.bind(this),this.handleUserInteraction=this.handleUserInteraction.bind(this),this._videoControls=t(this.handleUserInteraction)};extend(e.prototype,EventEmitter),e.DEFAULTS={autohideTime:0,progressbar:!0,progressbarColour:"#4589ce",startInFullScreen:!1,controlsHidden:!1,fullscreenMode:"both",minLengthToSeek:30,muteUnmuteEnabled:!0},e.PLAYER_EVENTS={durationchange:"onVPDurationChange",muted:"onVPMuted",unmuted:"onVPUnmuted",progress:"onVPProgress",play:"onVPPlay",playing:"onVPPlaying",pause:"onVPPause",ended:"onVPEnded",buffering:"onVPBuffering",timeupdate:"onVPTimeupdate",seekto:"onVPSeekto",enterfullscreen:"onVPEnterFullscreen",exitfullscreen:"onVPExitFullscreen",orientationchange:"onVPOrientationChange",canunmute:"onVPCanUnmute",playersourceloading:"onVPPlayerSourceLoading"},extend(e.prototype,{render:function(e){var i=this._videoControls.render(e,this._opts);return this.init(),i},init:function(){this._changeVisibilityTimed(!1),this._opts.progressbar||this._videoControls.hide("sliderContainer"),"permanent"===this._opts.fullscreenMode?(this._videoControls.hide("enterFullScreen","exitFullScreen"),this._videoControls.show("close")):this._videoPlayer.isDesktop===!0&&this._videoPlayer.dtCanFullscreen===!1?this._videoControls.hide("close","enterFullScreen","exitFullScreen"):(this._videoControls.hide("close","exitFullScreen"),this._videoControls.show("enterFullScreen")),"disabled"===this._opts.fullscreenMode&&this._videoControls.hide("enterFullScreen","exitFullScreen","close"),this._opts.debug?this._videoControls.show("monitor"):this._videoControls.hide("monitor"),this._opts.muteUnmuteEnabled?(this._videoControls.hide("mute"),this._videoControls.hide("unMute")):this._videoControls.disableMuteUnmuteControls(),this._videoControls.hide("pause","replay","play"),this._videoControls.show("play"),this._spinnerHide(),this._videoPlayer.isDesktop&&this._videoControls.setDTMouseMoveHandler(this._videoPlayer.getWrapperElement())},adjustSizes:function(e){80>e?this._videoControls.addClass("spinner","video-player-spinner-small"):this._videoControls.addClass("spinner","video-player-spinner-big")},reset:function(){this._controlsInitiallyDisabled=!1,this._videoControls.hide("pause","replay"),this._videoControls.show("play"),this._spinnerHide(),defer(function(){this._videoControls.hide("duringPlaySet")}.bind(this),500)},destroy:function(){this._videoControls.destroy()},handleUserInteraction:function(e,i){switch(e){case"vidWrapper":this._changeVisibilityTimed(!0),this._makeControlsDisapear();break;case"wrapper":if(this._videoPlayer._spinnerShown)return void this._changeVisibilityTimed(!0);!this.isVisible||this._videoPlayer.ended||this._spinnerShown||i?this._changeVisibilityTimed(!0):this._videoPlayer.paused?(this._videoPlayer.play(),this.emit("userInteraction",{isUserEngaged:!0})):(this._videoPlayer.pause(),this.emit("userInteraction")),this._makeControlsDisapear();break;case"mute":this._videoPlayer.mute(),this._videoControls.pendingStateOn("mute"),this._makeControlsDisapear(),this.emit("userInteraction");break;case"unMute":this._videoPlayer.unMute(),this._videoControls.pendingStateOn("unMute"),this._makeControlsDisapear(),this.emit("userInteraction",{isUserEngaged:!0});break;case"enterFullScreen":this._videoPlayer.enterFullScreen(),this._makeControlsDisapear(),this.emit("userInteraction",{isUserEngaged:!0});break;case"exitFullScreen":this._videoPlayer.exitFullScreen(),this._makeControlsDisapear(),this.emit("userInteraction");break;case"pause":if(this._controlsInitiallyDisabled)return;this._videoPlayer.pause(),this.emit("userInteraction");break;case"play":if(this._controlsInitiallyDisabled)return;this.emit("userInteraction",{isUserEngaged:!0}),this.emit("playButtonPressed");break;case"replay":this._changeVisibilityTimed(!1),this._videoPlayer.replay(),this.emit("userInteraction",{isUserEngaged:!0});break;case"close":this._videoPlayer.close(),this.emit("userInteraction")}},onVPPlayerSourceLoading:function(){this._spinnerShow()},onVPCanUnmute:function(){},onVPMuted:function(){this._isMuted=!0,this._videoControls.hide("mute"),this._videoControls.show("unMute"),this._videoControls.pendingStateOff("unMute"),this._videoControls.pendingStateOff("mute")},onVPUnmuted:function(){this._isMuted=!1,this._videoControls.hide("unMute"),this._videoControls.show("mute"),this._videoControls.pendingStateOff("unMute"),this._videoControls.pendingStateOff("mute")},onVPPlay:function(){this._videoControls.hideAndShowWrapper(),this._isFirstPlay&&(this._isFirstPlay=!1,this._controlsInitiallyDisabled=!0,this._spinnerShow()),this._changeVisibility(!0),this._videoControls.hide("play")},onVPPlaying:function(){var e=this._opts.autohideTime;this._videoControls.hide("play","pause","replay"),e&&this._changeVisibilityTimed(!1,1e3*e)},onVPPause:function(){this._changeVisibilityTimed(!0),this._spinnerShown||this._videoControls.show("play")},onVPBuffering:function(){this._spinnerShow(),this._videoControls.hide("play")},onVPEnded:function(){this._changeVisibilityTimed(!1),this._videoControls.hide("play","pause"),this._opts.pauseOnEnd||this._videoControls.show("replay")},onVPProgress:function(e){this._progressRatio=e,this._videoControls.setProgressBarWidth(e)},onVPTimeupdate:function(e){var i=this._videoPlayer.duration,t=i&&e/i||0;this._videoControls.setTimeBarWidth(t),this._controlsInitiallyDisabled&&(this._controlsInitiallyDisabled=!1),this._videoPlayer.paused||(this._videoControls.hide("play"),this._videoControls.hide("pause"),this._videoControls.hide("replay")),this._spinnerHide()},onVPEnterFullscreen:function(){this._videoControls.hideAndShowWrapper(),this._videoControls.hide("enterFullScreen"),this._videoControls.show("exitFullScreen"),this._makeControlsDisapear()},onVPOrientationChange:function(){this._opts.fullscreenLandscapeButtonsHack&&this._videoControls.orientationChange(function(e){this._elements.close.style.bottom=this._elements.exitFullScreen.style.bottom=this._elements.mute.style.bottom=this._elements.unMute.style.bottom=e===CeltraPlayerUtils.LANDSCAPE&&this._videoPlayer.isFullScreen?"26px":""})},onVPExitFullscreen:function(){this._videoControls.hideAndShowWrapper(),this._videoControls.hide("exitFullScreen"),this._videoControls.show("enterFullScreen"),this._makeControlsDisapear()},onVPSeekto:function(e){this._videoControls.setTimeBarWidth(e)},_changeVisibility:function(e){return this._opts.controlsHidden?(this.isVisible=!0,void this._videoControls.hide("duringPlaySet")):void(e?(this._videoControls.show("duringPlaySet"),this._videoPlayer.isDesktop&&this._cursorHidden&&(this._videoControls.showCursor(this._videoPlayer.getWrapperElement()),this._cursorHidden=!1),this.isVisible=!0):(this._videoControls.hide("duringPlaySet"),this._videoPlayer.isDesktop&&this._videoPlayer.isFullScreen&&(this._videoControls.hideCursor(this._videoPlayer.getWrapperElement()),this._cursorHidden=!0),this.isVisible=!1,this._videoPlayer.isDesktop&&(this._videoControls.hasMouseMoved=!0)))},_changeVisibilityTimed:function(e,i){clearTimeout(this._changeVisibilityTimeout),i?this._changeVisibilityTimeout=setTimeout(this._changeVisibility.bind(this,e),i):this._changeVisibility(e)},_makeControlsDisapear:function(){var e=this._opts.autohideTime;e&&this._changeVisibilityTimed(!1,1e3*e)},_spinnerHide:function(){this._spinnerShown&&(this._spinnerShown=!1,this._videoControls.hide("spinner"))},_spinnerShow:function(){!this._spinnerShown&&this._opts.canShowSpinner&&(this._spinnerShown=!0,defer(function(){this._spinnerShown&&(this._videoControls.hide("play"),this._videoControls.show("spinner"))}.bind(this),300))}}),this.VideoControlsController=e}();;
!function(){var t="50px",e=function(t){this._container=null,this._userInteractionHandler=t,this.onTapHandler=CeltraPlayerUtils.deduplicate(this.onTapHandler,400,this),this.hasMouseMoved=!1};extend(e.prototype,EventEmitter),VideoControlsController.TEMPLATE=['<div class="video-controls-wrapper <%= desktop %> touchable" data-bind="wrapper">','  <div class="video-controls-hiddable" data-bind="duringPlaySet">','    <div class="video-controls-button video-controls-button-shadow video-controls-button-bottom-right touchable" data-bind="mute"><div class="celtra-icon-mute"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-bottom-right touchable" data-bind="unMute"><div class="celtra-icon-unmute"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="close"><div class="celtra-icon-close"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="enterFullScreen"><div class="celtra-icon-enter-full-screen"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="exitFullScreen"><div class="celtra-icon-exit-full-screen"></div></div>','    <div class="video-controls-slider-container touchable"  data-bind="sliderContainer">','        <div class="video-controls-progress-bar" data-bind="progressBar"></div>','        <div class="video-controls-time-bar" data-bind="timeBar"></div>',"    </div>","  </div>",'  <div data-bind="outOfPlaySet">','    <div class="video-sizable"><div class="video-player-spinner-big" data-bind="spinner"></div></div>','    <div class="center-button touchable" data-bind="pause"><div class="celtra-icon-pause"></div></div>','    <div class="center-button touchable" data-bind="play"><div class="celtra-icon-play"></div></div>','    <div class="center-button touchable" data-bind="replay"><div class="celtra-icon-replay"></div></div>',"  </div>","</div>"],extend(e.prototype,{render:function(e,i){var n=["play","replay"];if(!this._container){var o={};CeltraPlayerUtils.createDom(e,VideoControlsController.TEMPLATE,{desktop:windows("10")?"video-controls-desktop ie-click-event":desktop()?"video-controls-desktop":""},this._getWrapper(o)),this._container=o.wrapper,this._container.querySelector("[data-bind=progressBar]").style.backgroundColor=i.progressbarColour,this._container.querySelector("[data-bind=timeBar]").style.backgroundColor=i.progressbarColour;var r="undefined"!=typeof creative?creative:window.creative;if(r){var a="MRAIDAdapter"===r.adapter.constructor.name,s="AdMarvelAndroidAdapter"===r.adapter.constructor.name||"AdMarvelIOSAdapter"===r.adapter.constructor.name,d="Interstitial"===r.constructor.name;"crop"===i.fitting&&(a||s&&d)&&(this._container.querySelector("[data-bind=exitFullScreen]").style.top=t)}n.forEach(function(t){if(i[t]){var e=i[t],n=this._getElements(t)[0];removeClass(n,"center-button"),addClass(n,"custom-button"),n.innerHTML='<img src="'+e.getUrl()+'" data-bind="'+t+'" style="width: '+e.width+"px; height: "+e.height+'px;" />'}}.bind(this)),this._container.addEventListener("tap",this.onTapHandler)}return this._container},show:function(){CeltraPlayerUtils.show.apply(null,this._getElements.apply(this,arguments))},hide:function(){CeltraPlayerUtils.hide.apply(null,this._getElements.apply(this,arguments))},showCursor:function(t){CeltraPlayerUtils.showCursor([t])},hideCursor:function(t){CeltraPlayerUtils.hideCursor([t])},setProgressBarWidth:function(t){this._container&&(this._container.querySelector("[data-bind=progressBar]").style.width=100*t+"%")},setTimeBarWidth:function(t){this._container&&(this._container.querySelector("[data-bind=timeBar]").style.width=100*t+"%")},hideAndShowWrapper:function(){this.hide("wrapper"),defer(function(){this.show("wrapper")}.bind(this))},disableMuteUnmuteControls:function(){this._getElements("mute")[0].innerHTML="",this._getElements("unMute")[0].innerHTML=""},pendingStateOn:function(t){addClass(this._getElements(t)[0],"video-controls-pending")},pendingStateOff:function(t){removeClass(this._getElements(t)[0],"video-controls-pending")},addClass:function(t,e){addClass(this._getElements(t)[0],e)},removeClass:function(t,e){removeClass(this._getElements(t)[0],e)},orientationChange:function(t){t()},onTapHandler:function(t){t.stopPropagation();var e=t.target.getAttribute("data-bind");e&&this._userInteractionHandler(e)},setDTMouseMoveHandler:function(t){t.addEventListener("mousemove",function(e){e.stopPropagation();var i=e.target,n=i!==t?i.getAttribute("data-bind"):"vidWrapper";this.hasMouseMoved?this.hasMouseMoved=!1:("wrapper"===n||"vidWrapper"===n)&&this._userInteractionHandler(n,!0)}.bind(this))},_getWrapper:function(t){return function(e){var i=e.getAttribute("data-bind");i&&(t[i]=e)}},_getElements:function(){if(this._container){for(var t=[],e=0;e<arguments.length;e++){var i=this._container.querySelector("[data-bind="+arguments[e]+"]");i&&t.push(i)}return t}},destroy:function(){this._container&&(this._container.removeEventListener("tap",this.onTapHandler),CeltraPlayerUtils.removeElements(this._container),this._container=null)}}),this.VideoControls=e}();;
!function(){var e=function(t,n,i){this.corsLengthHack=celtra.webkit("534.30"),this.skipInternalCacheHack=ios(),this.opts=merge({},e.DEFAULTS,i),this._getChunkLength=n,this._src=this.corsLengthHack?e.withCorsLengthHack(t):t,this._xhr=null,this._requestByteHandle=null,this._requestNumber=0,this.fileLength=null,this.nextFrom=0,this._loading=!1};extend(e.prototype,EventEmitter),e.withCorsLengthHack=function(e){var t=e,n=-1!==t.indexOf("?")?"&":"?";return t+n+"corsLengthHack=1"},e.prototype.load=function(){this._loading||this.fileLength&&this.nextFrom>=this.fileLength-1||this._getChunkLength(this._requestNumber)>0&&(this._loading=!0,this._requestBytes(this._getChunkLength(this._requestNumber),this._onLoad),this._requestNumber++)},e.prototype._requestBytes=function(e){var t=this.nextFrom,n=this.fileLength?Math.min(this.nextFrom+e,this.fileLength):this.nextFrom+e,i=this._xhr=new XMLHttpRequest;this.corsLengthHack&&(this.from=t,this.to=n),i.open("GET",this._src,!0),this.skipInternalCacheHack&&i.setRequestHeader("Cache-control","no-cache"),i.setRequestHeader("Range","bytes="+(t||0)+"-"+(n||"")),i.responseType="arraybuffer",i.onload=this._onLoad.bind(this),this.nextFrom=n,i.send(),this._lastRequestTime=Date.now()},e.prototype._onLoad=function(e){this._loading=!1,this._xhr=null;var t=e.target;if(t.status>=200&&t.status<400){var n=this._getContentRangeParts(t),i=t.response;this.fileLength=n.fileLength,this.emit("data",{data:new Uint8Array(i,0,Math.min(n.receivedTo,n.fileLength)-n.receivedFrom),receivedFrom:n.receivedFrom,receivedTo:n.receivedTo,fileLength:n.fileLength}),n.receivedTo>=n.fileLength-1?this.emit("loadend"):this.load()}else this.emit("error",t.status)},e.prototype._getContentRangeParts=function(e){if(this.corsLengthHack)return contentLength=e.getResponseHeader("Content-Type").split(";")[1],{receivedFrom:this.from,receivedTo:this.to,fileLength:parseInt(contentLength,10)};var t=e.getResponseHeader("Content-Range"),n=/(\d+)-(\d+)\/(\d+)$/.exec(t);return{receivedFrom:parseInt(n[1],10),receivedTo:parseInt(n[2],10),fileLength:parseInt(n[3],10)}},e.prototype.destroy=function(){clearTimeout(this._requestByteHandle),this._xhr&&this._xhr.abort(),this._xhr=null},window.NetStream=e}();;
!function(){var t=function(t,e){this._opts=e||{},this.buffer={writePos:0,bytes:null},this.fileLength=0,this.receivedTo=0,this.doneBuffering=!1,this.onLoad=this.onLoad.bind(this),t&&(t.on("data",this.onLoad),t.on("loadend",function(){this._opts.onLoadend&&this._opts.onLoadend(),this.doneBuffering=!0,this.emit("loadend")}.bind(this)))};extend(t.prototype,EventEmitter),t.prototype.onLoad=function(t){if(this.fileLength=t.fileLength,this.receivedTo=t.receivedTo,!this.buffer.bytes){var e=new Uint8Array(t.fileLength);this.buffer.bytes=e.subarray(0),this.buffer.writePos=0}this.buffer.bytes.set(t.data,this.buffer.writePos),this.buffer.writePos+=t.data.byteLength,this.emit("data",t)},t.prototype.getAllData=function(){this.receivedTo>0&&this.emit("data",{data:this.buffer.bytes,fileLength:this.fileLength,receivedFrom:0,receivedTo:this.receivedTo})},window.Accumulator=t}();;
!function(){function e(e,t,n){n.playsInline&&(e.setAttribute("webkit-playsinline",""),e.setAttribute("playsinline",""),n.startMuted&&e.setAttribute("muted","")),n.crossOrigin&&(e.crossOrigin="anonymous"),e.src=t,e.preload=n.preload?"auto":"none"}var t=function(t,n){var i={playsInline:!1,maxTimeupdatesPerSecond:15},r=merge({},i,n.options);r.startMuted=!!n.startMuted,r.crossOrigin=!!n.crossOrigin;var u=!1,a=r.videoElement,o=!!a,s=o?a:document.createElement("video");e(s,t,r);var d={};extend(d,EventEmitter),d.startMuted=r.startMuted;for(var c=function(e){d.emit(e.type,e)}.bind(this),l=["loadedmetadata","durationchange","progress","canplay","play","playing","pause","ended","buffering","endbuffering","muted","unmuted","seeking","seeked","exitfullscreen","webkitendfullscreen","error","canunmute","custominfo","playersourceloading"],m=l.length-1;m>=0;m--)s.addEventListener(l[m],c);var f=s.volume,g=function(){f!==s.volume&&(f=s.volume,d.emit("volumechange",f))},p=0,v=0,y=function(){var e=d.currentTime,t=v%Math.round(60/r.maxTimeupdatesPerSecond)===0;t&&d.isPlaying&e!==p&&(p=e,d.emit("timeupdate",e)),v++};Ticker.frame(g),Ticker.frame(y),s.addEventListener("playing",function T(){u=!0,s.muted=d.startMuted,s.removeEventListener("playing",T)},!1),Object.defineProperties(d,{currentTime:{get:function(){return this.getCurrentTime()},set:function(e){this.setCurrentTime(e)}},reportsSeeking:{get:function(){return!!s.reportsSeeking}},buffered:{get:function(){return s.buffered}},duration:{get:function(){return s.duration}},muted:{get:function(){return s.muted},set:function(e){s.muted=e}},isPlaying:{get:function(){return!(!(this.getCurrentTime()>0)||s.paused||s.ended)}},paused:{get:function(){return s.paused}}}),o||(s.videoWidth=r.videoWidth,s.videoHeight=r.videoHeight),d.continuePlaying=function(){s.play()}.bind(this),d.render=function(){!o&&android("4.0","4.2")&&(s.style.height="auto",s.style.minHeight="auto");try{s.load()}catch(e){}return s};var h=s.play?s.play.bind(s):noop,b=s.pause?s.pause.bind(s):noop;return d.mute=function(){u?s.muted=!0:d.startMuted=!0},d.unMute=function(){u?s.muted=!1:d.startMuted=!1},d.setCurrentTime=function(e){d.isReady()&&(s.currentTime=e)},d.getCurrentTime=function(){return d.isReady()&&s.currentTime>0?s.currentTime:0},d.isReady=function(){return s&&0!==s.readyState},d.play=function(){celtra.webkit("534.30")||celtra.webkit("537.36")||fakeclick(function(){h()}.bind(this)),defer(function(){h()}.bind(this)),CeltraPlayerUtils.isNode(s)&&s.addEventListener("progress",s.continuePlaying)},d.pause=function(){CeltraPlayerUtils.isNode(s)&&s.removeEventListener("progress",s.continuePlaying,{},{}),b()},d.destroy=function(){b();for(var e=l.length-1;e>=0;e--)s.removeEventListener(l[e],c);o||CeltraPlayerUtils.removeElements(s),Ticker.removeFrame(g),Ticker.removeFrame(y)},d};this.Html5VideoEngine=t}();;
!function(){function t(){void 0===e&&(e=s&&new s||null)}var e=void 0,i=void 0,n=Object.create(EventEmitter),s=window.AudioContext||window.webkitAudioContext,a=!1,o=function(e,i,s){return t(),Object.create(n).init(e,i,!!s)};Object.defineProperties(n,{noLatency:{get:function(){return!0}},paused:{get:function(){return this._paused}},ended:{get:function(){return!1}},ready:{get:function(){return"loaded"===this._loadStatus}},playedBefore:{get:function(){return this._playedBefore}},currentTime:{get:function(){return this._paused?this._pausedAt:e.currentTime-this._timeDiff},set:function(t){this._pausedAt=t,"loaded"!==this._loadStatus||this._paused||(this.pause(),this.playAudio(t))}}});var u=function(t,n,s){r(),i=e.createBufferSource(),i.connect(e.destination),i.buffer=t,i.loop=s,"function"==typeof i.noteGrainOn?i.noteGrainOn(0,n,t.duration-n):i.start?i.start(0,n):i.noteOn(0,n)},r=function(){if(i){i.disconnect();try{i.stop?i.stop(0):i.noteOff(0)}catch(t){}i=null}};emitTimeUpdate=function(){this.paused||this._buffer&&this.currentTime>=this._buffer.duration?clearInterval(this._emitTimeUpdateInterval):this._emitTimeUpdateInterval=setInterval(this.emit.bind(this,"timeupdate"),250)},extend(n,{init:function(t,i,n){return this._src=t,this.loop=!!n,this._paused=!0,this._pausedAt=0,this._timeDiff=0,this._loadStatus="unstarted",this._playedBefore=!1,this._bufferSilence=e.createBuffer(1,1,e.sampleRate),this._buffer=void 0,ios()&&!a&&(this.unlock(),"function"==typeof e.close&&e.close(),e=new s,a=!0),i&&this.load(),this},load:function(){if("unstarted"===this._loadStatus){this._loadStatus="pending",this._timeDiff=0;var t=this.request=new XMLHttpRequest;t.open("GET",this._src,!0),t.responseType="arraybuffer",t.onload=function(){e.decodeAudioData(t.response,function(t){this._buffer=t,this._loadStatus="loaded",this.emit("canplay"),this.emit("canplaythrough")}.bind(this))}.bind(this),t.send()}},unlock:function(){this._playedBefore||u(this._bufferSilence,0,this.loop)},playAudio:function(t){var t=void 0===t||null===t?this._pausedAt:t;return ios()||"unstarted"!=this._loadStatus?(this.pause(),this._timeDiff=e.currentTime-t,this._paused=!this._buffer,u(this._buffer||this._bufferSilence,t,this.loop),emitTimeUpdate.call(this),void(this._playedBefore||setTimeout(function(){if(i){var t=i.playbackState===i.PLAYING_STATE,e=i.playbackState===i.FINISHED_STATE,n=t||e;this._playedBefore=this._playedBefore||!!this._buffer&&n}}.bind(this),0))):void this.load()},pause:function(){clearInterval(this._emitTimeUpdateInterval),this._pausedAt=this.currentTime,this._paused=!0,r()},destroy:function(){this._buffer=null,this.pause()}}),this.WebAudioEngine=o}();;
!function(){var e=.3,n=function(n,t){if("undefined"==typeof Audio)return null;var o=new Audio;o.isUnlocked=!1,t?(o.preload="auto",o.src=n,o.start=noop):(o.preload="none",o.start=function(){o.src=n,o.start=noop}),o.ready=!1;var r=function(){o.ready=!0},i=function(){o.buffered/o.duration>e&&r()};return o.addEventListener("canplay",r),o.addEventListener("canplaythrough",r),o.addEventListener("progress",i),o.unlock=noop,o.noLatency=!1,o.on=o.addEventListener,o.off=o.removeEventListener,o.playedBefore=!1,o.unlock=function(){this.isUnlocked||this.playedBefore||(fakeclick(function(){celtra.webkit("537.36")&&o.play(),o.pause()}),this.isUnlocked=!0)},o.playFrom=function(e){o.start(),o.ready&&(fakeclick(function(){o.play()}),void 0!==e&&(o.currentTime=e,o.playedBefore=!0))},o.destroy=function(){this.pause(),this.src=null,o.removeEventListener("progress",i),o.removeEventListener("canplay",r),o.removeEventListener("canplaythrough",r)},o};this.Html5AudioEngine=n}();;
!function(){var e={netStreamOpts:{},preload:!1},t={loadmetadata:"onLoadMetaData",durationchange:"onDurationChange",progress:"onProgress",buffering:"onBuffering",endbuffering:"onEndBuffering",canplay:"onCanPlay",play:"onPlay",playing:"onPlaying",pause:"onPause",seeking:"onSeeking",seeked:"onSeeked",ended:"onEnded",custominfo:"onCustomInfo",timeupdate:"onTimeUpdate"},i=function(t,i,n){this._opts=merge(e,n.options),this._opts._isTeaser=n.isTeaser||!1,this._srcProvider=t,this._engineType=i,this._isReady=!1,this._listenersAttached=!1,this._playAttempted=!1,this._pausedBeforePlayAttempted=!1,creative.waitingOnPlayerSource=!!creative.waitingOnPlayerSource,this.onResourceLoad=null,this.reset(),this.duration=0,this.buffered=0,this._canSync=!0,this._preload=this._opts.preload};extend(i.prototype,StatefulEventEmitter),i.prototype.reportsSeeking=!0,Object.defineProperty(i.prototype,"paused",{get:function(){return!(!this._decoder||!this._decoder.paused)}}),Object.defineProperty(i.prototype,"duration",{get:function(){return this._decoder&&this._decoder.duration||0}}),Object.defineProperty(i.prototype,"currentTime",{get:function(){return this._decoder&&this._decoder.currentTime||0},set:function(e){this._decoder&&this._decoder.setCurrentTime(e)}});var n=i.prototype;i.SOUND_UNINITIALIZED=0,i.SOUND_PLAYING=1,i.SOUND_PAUSED=2,i.SOUND_ENDED=3,i.SOUND_ERROR=4,n.render=function(e){return this.div||(this.div=e.createElement("div"),this.div.className="canvasContainer"),this._createEngines(),this.div},n._createAvailableEngine=function(){this.emit("playersourceloading"),this._netStream||(this._netStream=new NetStream(this._srcProvider,function(e){return this._playAttempted?393216:0==e?262144:0}.bind(this),this._opts.netStreamOpts),this._accumulator=new Accumulator(this._netStream,this._opts),this._preload&&this._netStream.load());var e=creative.resourceUrl+("ogv"===this._engineType?"runner-min/FullscreenVideoPlayer/OgvPlayer.js":"runner-min/FullscreenVideoPlayer/Mpeg1Player.js"),t="ogv"==this._engineType&&"function"==typeof OgvDecoder&&"function"==typeof OgvContainerDecoder?!0:"mpeg1"==this._engineType&&"function"==typeof Mpeg1Decoder&&"function"==typeof ContainerDecoder?!0:!1;t?(this._containerDecoder="ogv"==this._engineType?new OgvContainerDecoder(this._accumulator,this._opts):new ContainerDecoder(this._accumulator),this._decoder="ogv"==this._engineType?new OgvDecoder(this._containerDecoder,this.div):new Mpeg1Decoder(this._containerDecoder,this.div,this._opts),this.attachListeners(),this.onResourceLoad&&this.onResourceLoad()):creative.waitingOnPlayerSource||(creative.waitingOnPlayerSource=!0,loadJS(e,function(){creative.waitingOnPlayerSource=!1,this._pausedBeforePlayAttempted||this._createAvailableEngine()}.bind(this)))},n._createEngines=function(){this._decoder||(this._pausedBeforePlayAttempted=!1,this._createAvailableEngine())},n._startPlaying=function(){this._playAttempted||(this._playAttempted=!0),this._netStream.load(),this.emit("userplayed"),this._decoder.play()},n._processListeners=function(e,t){CeltraPlayerUtils.forEach(e,function(e,i){t(e,this[i].bind(this))},this)},n.attachListeners=function(){if(!this._listenersAttached){var e=this._decoder.addListener.bind(this._decoder);this._processListeners(t,e),this._listenersAttached=!0}},n.removeListeners=function(){if(this._listenersAttached){var e=this._decoder.removeListener.bind(this._decoder);this._processListeners(t,e),this._listenersAttached=!1}},n.onLoadMetaData=function(){this.emit("loadmetadata")},n.onDurationChange=function(){this._isReady=!0,this.emit("durationchange")},n.onProgress=function(){this.buffered=this._decoder.buffered,this.emit("progress")},n.onBuffering=function(){this.emit("buffering")},n.onEndBuffering=function(){this.emit("endbuffering")},n.onCanPlay=function(){this.emit("canplay")},n.onPlay=function(){this.emit("play")},n.onPlaying=function(){this.emit("playing")},n.onPause=function(){this.emit("pause")},n.onSeeking=function(){this.emit("seeking")},n.onSeeked=function(){this.emit("seeked")},n.onEnded=function(){this.emit("ended")},n.onCustomInfo=function(e){this.emit("custominfo",e)},n.onTimeUpdate=function(){this.emit("timeupdate",this.currentTime)},n.onBeforeResize=function(e){this._decoder&&this._decoder.isState(CeltraPlayerUtils.PLAYING)&&(this._decoder.pause(),defer(function(){this._decoder&&this._decoder.play()}.bind(this),1500)),e(!0)},n.destroy=function(){this._netStream&&this._netStream.destroy(),this._netStream=null,this._containerDecoder&&this._containerDecoder.destroy(),this._containerDecoder=null,this.removeListeners(),this._decoder&&this._decoder.destroy(),this._decoder=null},n.play=function(){creative.waitingOnPlayerSource&&this.emit("playersourceloading",!0),this.onResourceLoad=this._startPlaying,this._createEngines(),this._decoder&&this._startPlaying()},n.pause=function(){this._decoder?this._decoder.pause():this._pausedBeforePlayAttempted=!0},n.getVideoWidth=function(){return this._decoder?this._decoder.width:0/0},n.getVideoHeight=function(){return this._decoder?this._decoder.height:0/0},n.getCurrentTime=function(){return this.currentTime},n.setCurrentTime=function(e){this.currentTime=e},n.seekToRatio=function(e){e=Math.min(this.buffered/this.duration-.1,e),e=Math.min(.95,Math.max(0,e)),this._decoder.seekTo(e)},n.reset=function(){this._decoder&&this._decoder.reset(),this.currentTime=0,this._playAttempted=!1},n.isReady=function(){return this._isReady},n.getFPS=function(){return this._decoder.getFPS()},window.JsVideoEngine=i}();;
!function(){var i=120,t=.6,e=1,s=3e3,o=2,d={init:function(i,t,e){this.onPause=this.onPause.bind(this),this.onEnded=this.onEnded.bind(this),this.onPlay=this.onPlay.bind(this),this.onReplayed=this.onReplayed.bind(this),this.onMuted=this.onMuted.bind(this),this.onUnMuted=this.onUnMuted.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onFirstPlay=this.onFirstPlay.bind(this),this.destroy=this.destroy.bind(this),this.video=i,this.audio=t,this.muted=e,this._lastSyncTime=0,this.video.once("destroy",this.destroy),this.video.once("userplayed",this.onFirstPlay),this.video.on("muted",this.onMuted),this.video.on("unmuted",this.onUnMuted),this.video.on("replayed",this.onReplayed)},attach:function(){this.video.on("pause",this.onPause),this.video.on("ended",this.onEnded),this.video.on("userpaused",this.onPause),this.video.on("seeking",this.onPause),this.video.on("play",this.onPlay),this.video.on("playing",this.onPlay),this.video.on("seeked",this.onPlay),this.video.on("timeupdate",this.onTimeUpdate)},destroy:function(){this.audio.pause(),this.video.off("userplayed",this.onFirstPlayed),this.video.off("userpaused",this.onPause),this.video.off("pause",this.onPause),this.video.off("seeking",this.onPause),this.video.off("ended",this.onEnded),this.video.off("play",this.onPlay),this.video.off("playing",this.onPlay),this.video.off("seeked",this.onPlay),this.video.off("muted",this.onMuted),this.video.off("unmuted",this.onUnMuted),this.video.off("timeupdate",this.onTimeUpdate),this.video.off("replayed",this.onReplayed)},onFirstPlay:function(){if(this.video.off("userplayed",this.onFirstPlay),this.audio.start(),this.muted||this.audio.ready)fakeclick(function(){this.audio.load()}.bind(this)),this.attach();else{var t=!1,e=!1,s=celtra.webkit("534.30"),o=function(){var d=isMediaPlaying(this.video),n=isMediaPlaying(this.audio);if(n&&d||n&&e||d&&t||t&&e||this.audio.ready){this.attach(),this.video.silentPlay();try{this.video.currentTime=this.audio.currentTime}catch(h){}}else d&&!n&&(this.video.silentPause(),e=!0),!n||d||s||(this.audio.pause(),t=!0),defer(o.bind(this),i)}.bind(this);s?this.audio.playFrom():fakeclick(function(){this.audio.load()}.bind(this)),defer(o,500)}},onPause:function(){this.audio.pause()},onEnded:function(){this.audio.pause(),this.audio.ready&&(this.audio.currentTime=0)},onPlay:function(){this.muted||this.audio.playFrom()},onReplayed:function(){this.muted||(this.audio.playFrom(0),this._lastSyncTime=Date.now())},onMuted:function(){this.muted=!0,this.audio.pause()},onUnMuted:function(){this.muted=!1,isMediaPlaying(this.video)&&this.audio.ready?this.audio.playFrom(this.video.currentTime):this.audio.unlock()},onTimeUpdate:function(){var i=isMediaPlaying(this.audio);if(!(!i&&this.audio.playedBefore||this.muted)){if(this.audio.paused&&!this.muted&&!this.video.paused)return void this.audio.playFrom(this.video.currentTime);var d=this.video.currentTime-this.audio.currentTime,n=Math.abs(d);if(!(t>n||this.video.currentTime<e||Date.now()-this._lastSyncTime<s))if(this._lastSyncTime=Date.now(),0>d&&o>n)try{this.video.currentTime=this.audio.currentTime}catch(h){}else try{this.audio.currentTime=this.video.currentTime+t/2}catch(h){}}}};this.AVSyncAudio=d}();;
!function(){var i=.6,t=1,e=3e3,s=2,o={init:function(i,t,e){this.onPause=this.onPause.bind(this),this.onEnded=this.onEnded.bind(this),this.onMuted=this.onMuted.bind(this),this.onUnMuted=this.onUnMuted.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onFirstPlay=this.onFirstPlay.bind(this),this.destroy=this.destroy.bind(this),this.video=i,this.audio=t,this.muted=e,this._lastSyncTime=0,i.once("destroy",this.destroy),i.once("userplayed",this.onFirstPlay),this.video.on("muted",this.onMuted),this.video.on("unmuted",this.onUnMuted)},attach:function(){this.video.on("pause",this.onPause),this.video.on("ended",this.onEnded),this.video.on("userpaused",this.onPause),this.video.on("seeking",this.onPause),this.video.on("timeupdate",this.onTimeUpdate)},destroy:function(){this.audio.pause(),this.video.off("userplayed",this.onFirstPlayed),this.video.off("pause",this.onPause),this.video.off("userpaused",this.onPause),this.video.off("seeking",this.onPause),this.video.off("ended",this.onEnded),this.video.off("muted",this.onMuted),this.video.off("unmuted",this.onUnMuted),this.video.off("timeupdate",this.onTimeUpdate)},onFirstPlay:function(){this.video.off("userplayed",this.onFirstPlay);var i=!0,t=this.video,e=celtra.webkit("534.30"),s=function(){i&&!e&&t.silentPause()};this.muted||this.audio.ready?(this.audio.load(),this.attach()):(this.video.once("canplay",s),this.video.once("playing",s),this.video.once("timeupdate",s),this.audio.once("canplaythrough",function(){i=!1,this.video.off("canplay",s),this.video.off("playing",s),this.video.off("timeupdate",s),isMediaPlaying(this.video)||this.video.silentPlay(),!isMediaPlaying(this.audio)&&android()&&this.audio.playAudio(),this.attach()}.bind(this)),this.audio.load())},onPause:function(){this.audio.pause()},onEnded:function(){this.audio.pause(),this.audio.currentTime=0},onMuted:function(){this.muted=!0,this.audio.pause()},onUnMuted:function(){this.muted=!1,isMediaPlaying(this.video)?this.audio.playAudio(this.video.currentTime):this.audio.unlock()},onTimeUpdate:function(){if(!this.muted){if(this.audio.paused&&!this.video.paused)return void this.audio.playAudio(this.video.currentTime);var o=this.video.currentTime-this.audio.currentTime,d=Math.abs(o);if(!(i>d||this.video.currentTime<t||Date.now()-this._lastSyncTime<e))if(this._lastSyncTime=Date.now(),0>o&&s>d)try{this.video.currentTime=this.audio.currentTime}catch(n){}else try{this.audio.currentTime=this.video.currentTime}catch(n){}}}};this.AVSyncWebAudio=o}();;
var CuePointObserver={init:function(t){return this._video=t,this._VIDEO_START_TIME=-1,this._attached=!1,this._lastTriggeredTime=this._VIDEO_START_TIME,this._observeCuePoints=this._observeCuePoints.bind(this),this._observe=this._observe.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this},_observe:function(t){if(t.time<=this._lastTriggeredTime)return!1;var i=this._video._player.getCurrentTime()>=t.time;return i&&(this._lastTriggeredTime=t.time),i},_observeCuePoints:function(){this._video._player&&this._video.fireTriggers("videoCuepoint",this._observe)},attach:function(){this._attached||(this._attached=!0,Ticker.frame(this._observeCuePoints,"update"))},detach:function(){this._attached&&(this._attached=!1,Ticker.removeFrame(this._observeCuePoints,"update"))},start:function(){this.attach()},stop:function(t){this.detach(),t&&(this._lastTriggeredTime=this._VIDEO_START_TIME)}};;
function Creative(e,t,r,i,n,a,s,o,u,c,d,m,p){if(e instanceof Creative)throw"This JSON has already been unfreezed. We do it inline, to improve performance. Duplicate it yourself before unfreezing, if you need to use it again.";var l=p.start("Creative.new"),v=extend({adapter:a,runtimeParams:t||{},urlOpenedOverrideUrls:o,urlOpenedUrlAppendage:d,clickThroughDestinationUrl:m,storeOpenedOverrideUrls:u,macros:c},s);if("InstaAdHtml"!==e.clazz){var f=p.start("Creative.unfreeze");e=Freezer.unfreeze(e,window,v),f.end()}return e.instantiation=randInt(),e.batcher=new Batcher,e.trackingCenter=r,e.aggregatorTracking=i,e.experiments=n,e.perf=p,e.platformAdvId=t.platformAdvId,e.platformAdvIdTrackingLimited=t.platformAdvIdTrackingLimited,"InstaAdHtml"===e.clazz&&(e.adapter=a,e.runtimeParams=t||{},e.urlOpenedOverrideUrls=o,e.urlOpenedUrlAppendage=d,e.clickThroughDestinationUrl=m,e.storeOpenedOverrideUrls=u,e.macros=c,extend(this,e),e=this),l.end(),e}Creative.toString=function(){return"[Clazz Creative]"},Creative.prototype.toString=function(){return"[Creative "+this.name+"]"},window.creative=null,extend(Creative.prototype,EventEmitter),Creative.init=function(e,t,r,i,n,a,s,o,u,c,d,m,p){if(window.creative)throw"creative is a singleton and was already initialized.";Logger.initFromRuntimeParams(t),window.creative=new Creative(e,t,r,i,n,a,s,o,u,c,d,m,p)},Creative.prototype.userInteracted=function(e){this.emit("interaction",e)},Creative.prototype.clickedThrough=function(e){this.emit("clickThrough",e)},Creative.prototype._getRuntimeParamsWithPrefix=function(e){var t={};for(var r in this.runtimeParams)0===r.indexOf(e)&&(t[r.slice(e.length)]=this.runtimeParams[r]);return t},Object.defineProperties(Creative.prototype,{sessionId:{enumerable:!0,get:function(){return this.runtimeParams.sessionId}},placementId:{enumerable:!0,get:function(){return this.runtimeParams.placementId||null}},dataURIsEnabled:{enumerable:!1,get:function(){return 1==this.runtimeParams.dataURIsEnabled}},secure:{enumerable:!0,get:function(){return 1==this.runtimeParams.secure}},userParams:{enumerable:!0,get:function(){return this._getRuntimeParamsWithPrefix("user.")}},userIdentifiers:{enumerable:!0,get:function(){var e={platformAdvId:{id:this.runtimeParams.platformAdvId,limited:this.runtimeParams.platformAdvIdTrackingLimited},pippioId:{id:this.runtimeParams.pippioId,limited:!1},tapadPlatformAdvIds:{ids:this.runtimeParams.tapadPlatformAdvIds,limited:!1},tapadMD5PlatformAdvIds:{ids:this.runtimeParams.tapadMD5PlatformAdvIds,limited:!1},tapadSHA1PlatformAdvIds:{ids:this.runtimeParams.tapadSHA1PlatformAdvIds,limited:!1},tapadCookieIds:{ids:this.runtimeParams.tapadCookieIds,limited:!1}};for(var t in this.runtimeParams.customIdentifiers){var r=this.runtimeParams.customIdentifiers[t];e[t]={id:r,limited:!1}}return e}},authTokenUrlParam:{enumerable:!1,get:function(){return"authBasis="+creative.runtimeParams.authBasis+"&authToken="+creative.runtimeParams.authToken}},customAudiences:{enumerable:!0,get:function(){return function(e){if(!creative.runtimeParams.customAudiences[e])throw new Error('Custom audience "'+e+'" is not used by the creative.');return{userExists:creative.runtimeParams.customAudiences[e].userExists,userData:creative.runtimeParams.customAudiences[e].userData,addUser:function(t){return CustomAudiences.addUser(e,t)},removeUser:function(){return CustomAudiences.removeUser(e)}}}}},shouldTrackUVTEvents:{enumerable:!0,get:function(){return 0===this.id.indexOf("00")}}}),Creative.prototype.awake=function(){function e(r,i,n,a){r.forEach(function(r){r.parentUnit=a,r.parentScreen=n,r.parentContainer=i;var s=r.getNestedContainers();s.forEach(function(i){i.parentUnit=a,i.parentScreen=n,i.parentObject=r,e(i.objects,i,n,a),i.scenes&&t(i.scenes,i,n,a)})})}function t(e,t,r,i){e.forEach(function(e){e.parentUnit=i,e.parentScreen=r,e.parentContainer=t})}var r=this;for(var i in r.units){var n=r.units[i];n.name=i;var a=[];n.variants?n.variants.forEach(function(e){a=a.concat(e.master,e.screens)}):(a=[n.master].concat(n.screens),n.loadingScreen&&(a=[n.loadingScreen].concat(a))),a.forEach(function(r){r.parentUnit=n,e(r.objects,r,r,n),r.scenes&&t(r.scenes,r,r,n)})}},Creative.prototype.track=function(e,t){this.trackingCenter.track(e,t)},Creative.prototype.wrapRedirectPageUrl=function(e,t){return this.trackingCenter.wrapRedirectPageUrl(e,t)},Creative.prototype.wrapTentativeRedirectPageUrl=function(e,t,r){return this.trackingCenter.wrapTentativeRedirectPageUrl(e,t,r)},Object.defineProperty(Creative.prototype,"sdk",{get:function(){return this.adapter},enumerable:!0}),Creative._throw=function(e){throw e},Creative.prototype.getUserInteracted=function(){return 1==this.runtimeParams.userInteracted},Creative.trackCustomEventAction=function(e,t,r){var i="custom";e.track({name:i,label:t.name},r),creative.adapter.sendToEventMonitor(i,t.triggerId,e.screen.name,null,t.name)},Creative.prototype.trackCreativeLoaded=function(e){this.track({name:"creativeLoaded",viewability00Measurable:e.observingViewability("00"),viewability501Measurable:e.observingViewability("501"),viewableTimeMeasurable:e.observingViewableTime(),cdnVariant:this.runtimeParams.variantChoices.CdnTiming||"none"}),this.perf._stopTrackingDefers=!0,this.perf.mark("creativeLoaded")},Creative.prototype.createUserLocation=function(e){return"undefined"!=typeof UserLocation?new UserLocation({lat:this.runtimeParams.gpsLat,lng:this.runtimeParams.gpsLng},e):void 0},Creative.prototype.getPageUrl=function(e){return(this.secure?this.creativeUrl:this.insecureCreativeUrl)+e+"?base64json="+encodeURIComponent(btoa(to_utf8(JSON.stringify(this.runtimeParams))))},Creative.prototype.getCompilerPageUrl=function(e){return(this.secure?this.compilerCreativeUrl:this.insecureCompilerCreativeUrl)+e+"?base64json="+encodeURIComponent(btoa(to_utf8(JSON.stringify(this.runtimeParams))))},Creative.prototype.shouldClickThroughToNewWindow=function(e){var t,r="Desktop"==creative.intendedDeviceType;t=["same","new"].indexOf(this.runtimeParams.preferredClickThroughWindow)>=0?this.runtimeParams.preferredClickThroughWindow:r?"new":"same";var i=e&&e.inUserInitiatedIteration;return"new"==t&&(i||r)};;
function UniversalInteractiveVideo(){}inherit(UniversalInteractiveVideo,Creative),UniversalInteractiveVideo.toString=function(){return"[Clazz UniversalInteractiveVideo]"},UniversalInteractiveVideo.prototype.toString=function(){return"[UniversalInteractiveVideo "+this.name+"]"},UniversalInteractiveVideo.prototype.awake=function(){UniversalInteractiveVideo.uber.awake.call(this),this.units.banner.dismissAction=function(e,i,t){e.track({name:"creativeDismissed"}),i.consideredUserInitiatedByBrowser=e.consideredUserInitiatedByBrowser,creative.adapter.dismiss(t,i)},this.units.banner.userLocation=this.createUserLocation(!0)};;
var Kernel={};Kernel.toString=function(){return"[Clazz Kernel]"},Kernel.runInParallelAction=function(e,n,t){n.actions.waitForEach(function(n,t){n(e,t)},t)},Kernel.runInParallelActionDryRun=Kernel.runInParallelAction,Kernel.runInBackgroundAction=function(e,n,t){n.action&&n.action(e,noop),t()},Kernel.runInSequenceAction=function(e,n,t){for(var r=t,i=n.actions.length-1;i>=0;i--)r=function(n,t){return function(){t(e,n)}}(r,n.actions[i]);r()},Kernel.runInSequenceActionDryRun=Kernel.runInSequenceAction,Kernel.onceAction=function(e,n){n.caller.wasExecutedOnce||(n.caller.wasExecutedOnce=!0,(n.action||nullai)(e))},Kernel.onceActionDryRun=function(e,n,t){(n.action||nullai)(e,t)},Kernel.loopAction=function(e,n,t){function r(){return 0==i?t():(-1!=i&&i--,void(n.action||nullai)(e,"thumb"===creative.runtimeParams.purpose?t:r))}var i=n.repeat;r()},Kernel.loopActionDryRun=function(e,n,t){(n.action||nullai)(e,t)},Kernel.sleepAction=function(e,n,t){setTimeout(t,n.duration)},Kernel.executeJavascriptAction=function(e,n,t){try{var r=e.initiator,i=e.screen.parentUnit,c=e.screen,a=new Function("ctx","c","unit","screen","variant",n.code),o=!1,u=i.getVariantForScreen?i.getVariantForScreen(c):void 0;null!==n.code.match(/http:/)&&this._track("executeJavascriptAction.code");var l=function(){o?console.warn('Multiple calls made to "c()" from "'+e.initiator.fieldName+'" Execute JS Action'):(t(),o=!0)}.bind(this);a.call(r,e,l,i,c,u)}catch(s){console.error(s.message+"\n"+s.stack)}},Kernel.randomAction=function(e,n,t){var r=0;if(n.outcomes.forEach(function(e){r+=e.weight}),!r)return t();for(var i=Math.random()*r,c=0;c<n.outcomes.length;c++){var a=n.outcomes[c];if(i-=a.weight,0>i)return(a.action||nullai)(e,t)}},Kernel.randomActionDryRun=function(e,n,t){n.outcomes.forEach(function(n){(n.action||nullai)(e)}),t()},Kernel.bestAction=function(e,n,t){var r=creative.experiments.get("Best",[creative.id,n.experimentName]);r.trackExposure();var i=n.outcomes.filter(function(e){return e.experimentVariant==r.chosenVariant})[0],c=i?i:n.outcomes[0];(c.action||nullai)(e,t)},Kernel.bestActionDryRun=function(e,n,t){var r=creative.experiments.get("Best",[creative.id,n.experimentName]),i=n.outcomes.filter(function(e){return e.experimentVariant==r.chosenVariant})[0],c=i?i:n.outcomes[0];(c.action||nullai)(e,t)},Kernel.trackBestVariantSuccessAction=function(e,n,t){var r=creative.experiments.get("Best",[creative.id,n.experimentName]);r.trackSuccess(),creative.adapter.sendToEventMonitor("trackBestVariantSuccess",n.triggerId,e.screen.name,r.chosenVariant,""),t()},Kernel._track=function(e){this._privateApiTracked=this._privateApiTracked||{},this._privateApiTracked[e]||(this._privateApiTracked[e]=!0,creative.track({name:"retiredFeatureUsed",featureType:"loadingInsecureContent",featureName:e}))};;
;
function View(){}extend(View.prototype,EventEmitter),View.prototype.awake=function(){this.node=null,this._loadingCount=null,this._waitingForLoadCallbacks=[],this._isAppearing=!1,this._hasAppearedAtLeastOnce=!1,this._shouldAppear=!1;var e=this;this.incrementLoadingCount=function(){if(e.loaded)throw"Starting loads after the view has already finished loading?";e._loadingCount++},this.decrementLoadingCount=function(){if(!e.loading)throw"decrementLoadingCount called while not loading!";if(e._loadingCount--,0===e._loadingCount){e.finishedLoading();for(var t=e._waitingForLoadCallbacks,i=0;i<t.length;i++)t[i]();e._waitingForLoadCallbacks=[]}},this.preloadImage=function(t,i,n){if(!(t instanceof File))throw"file is not a File";"function"==typeof i?(n=i,i={}):"undefined"==typeof i&&(i={}),e.incrementLoadingCount();var o=creative.perf.start("View.preloadImage",{uri:t.getUrl()});t.getDataUri({force:i.force},function(t){var i=new Image;i.src=t,i.onload=i.onerror=function(){i.onload=i.onerror=null,o.end(),n&&n(i,t),e.decrementLoadingCount()}})},this._trackViewShown=this._trackViewShown.bind(this),this.once("appeared",this._trackViewShown),this.hacks={}},View.prototype.finishedLoading=function(){this.emit("loaded")},Object.defineProperty(View.prototype,"loaded",{get:function(){return this.node&&!this.loading}}),Object.defineProperty(View.prototype,"loading",{get:function(){return this._loadingCount>0}}),View.prototype.createNode=function(){this.on("loaded",creative.perf.start("View.load",{clazz:this.constructor.name,name:this.name}).end);var e=document.createElement("div");this.localId&&(e.id="celtra-object-"+this.localId);for(var t=this.constructor;t;t=t.uber?t.uber.constructor:void 0)e.className+=" celtra"+t.name.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});return e},View.prototype.getNode=function(e){return this.loaded?e&&defer(e,0,"View.getNode defer finishedLoadingCallback"):(e&&this._waitingForLoadCallbacks.push(e),this.node||(this.incrementLoadingCount(),this.node=this.createNode(),defer(this.decrementLoadingCount,0,"View.getNode defer decrementLoadingCount"))),this.node},Object.defineProperty(View.prototype,"isAppearing",{get:function(){return this._isAppearing}}),Object.defineProperty(View.prototype,"hasAppearedAtLeastOnce",{get:function(){return this._hasAppearedAtLeastOnce}}),View.prototype.appear=function(){var e="View APPEAR called on "+this.constructor.name+" "+this.localId+" (name="+this.name+")";this.parentContainer&&(e+=" from "+this.parentContainer.constructor.name+" "+this.parentContainer.localId+" (name="+this.parentContainer.name+")"),Logger("events.appear").log(e),this.hidden?this._shouldAppear=!0:this.isAppearing||(this._appear(),this._isAppearing=!0,this._hasAppearedAtLeastOnce=!0,this.emit("appeared"))},View.prototype.disappear=function(){var e="View DISAPPEAR called on "+this.constructor.name+" "+this.localId+" (name="+this.name+")";this.parentContainer&&(e+=" from "+this.parentContainer.constructor.name+" "+this.parentContainer.localId+" (name="+this.parentContainer.name+")"),Logger("events.appear").log(e),this.isAppearing&&(this._disappear(),this._isAppearing=!1,this._shouldAppear=!1,this.emit("disappeared"))},View.prototype.reset=function(){this.isAppearing&&(this._shouldAppear=this.hidden,this._isAppearing=!this.hidden)},View.prototype._appear=function(){},View.prototype._disappear=function(){},View.prototype.appearNestedObjects=function(){this.objects.forEach(function(e){e.appear()},this)},View.prototype.disappearNestedObjects=function(){this.objects.forEach(function(e){e.disappear()},this)},View.prototype._trackViewShown=function(e){var t={name:"viewShown",viewName:this.name,clazz:this.constructor.name};new ActionContext(this,!1).track(extend(t,e))};;
BaseCreativeUnit.prototype.alert=function(e,t){var a=this.size.width,l=this.size.height,r=e.boxWidth||320,n=e.boxHeight||160;e.message=removeHtmlTags(e.message),a>=r&&l>=n?this.showModalDialogInPlacement("alert",e,t):(alert(e.message),t())},BaseCreativeUnit.prototype.prompt=function(e,t){var a=this.size.width,l=this.size.height,r=e.boxWidth||320,n=e.boxHeight||190;if(a>=r&&l>=n)this.showModalDialogInPlacement("prompt",e,t);else{var i=prompt(removeHtmlTags(e.message));t(i)}},BaseCreativeUnit.prototype.showModalDialogInPlacement=function(e,t,a){var l=e+BaseCreativeUnit._modalDialogsIdCounter++,r={};r[l]={attachment:"body",positioning:"screen",type:"layer"},creative.adapter.createPlacements(r,function(){function r(e){13==e.keyCode&&(creative.adapter.destroyPlacement(l),o=null,a(g.value))}function n(e){e.preventDefault(),e.stopPropagation()}function i(t){t.preventDefault(),t.stopPropagation(),creative.adapter.destroyPlacement(l),o=null,"prompt"==e?a(g.value):a()}function s(e){e.preventDefault(),e.stopPropagation(),creative.adapter.destroyPlacement(l),o=null,a(null)}if(window){var o=creative.adapter.placements[l];o.setZIndex("max"),o.setSize("100%","100%"),o.setPosition(0,0);var d=o.createElement("link");d.rel="stylesheet",d.type="text/css",d.href=creative.resourceUrl+"runner-min/clazzes/ModalDialogs-Overlay.css",o.getContainer().appendChild(d);var c=o.createElement("div");addClass(c,"celtra-alert"),c.style.display="none";var p=o.createElement("div");addClass(p,"celtra-alert-dark-overlay"),c.appendChild(p),this.preventScroll(c);var h=o.createElement("div");if(addClass(h,"celtra-alert-box"),t.title&&""!=t.title){var m=o.createElement("h1");addClass(m,"celtra-alert-title"),m.innerHTML=t.title,h.appendChild(m)}if(t.title&&""!=t.title&&t.message&&""!=t.message){var v=o.createElement("hr");addClass(v,"celtra-alert-dark-line"),h.appendChild(v);var u=o.createElement("hr");addClass(u,"celtra-alert-light-line"),h.appendChild(u)}if(t.message&&""!=t.message){var C=o.createElement("div");addClass(C,"celtra-alert-message"),C.innerHTML=t.message,h.appendChild(C)}if("prompt"==e){var g=o.createElement("input");addClass(g,"celtra-alert-input"),g.value=t.defaultValue||"",h.appendChild(g),attach(g,"keypress",r)}var f=o.createElement("div");if(addClass(f,"celtra-alert-ok"),f.innerHTML="OK",h.appendChild(f),this.preventScroll(h),once(f,"touchend",i,!1),"prompt"==e&&t.showCancel){addClass(f,"with-cancel");var y=o.createElement("div");addClass(y,"celtra-alert-cancel"),y.innerHTML="CANCEL",h.appendChild(y),attach(f,"touchstart",n,!1),once(y,"touchend",s,!1)}c.appendChild(h),o.populate(c,function(){o.show();var e=setInterval(function(){"absolute"===celtra.styler.computedCSS(h,"position")&&(computedBoxHeight=parseInt(celtra.styler.computedCSS(h,"height"),10)+parseInt(celtra.styler.computedCSS(h,"paddingTop"),10)+parseInt(celtra.styler.computedCSS(h,"paddingBottom"),10),h.style.marginTop=-computedBoxHeight/2+"px",h.style.opacity=1,clearInterval(e),e=null)},100)})}}.bind(this))},BaseCreativeUnit.prototype.preventScroll=function(e){var t=["mousewheel","touchmove"];t.forEach(function(t){attach(e,t,function(e){e.preventDefault()},!1)})},BaseCreativeUnit._modalDialogsIdCounter=0;;
function CreativeUnit(){}inherit(CreativeUnit,BaseCreativeUnit),CreativeUnit.IGNORABLES=BaseCreativeUnit.IGNORABLES,CreativeUnit.DEBUG_EXTRA_PHASE_DELAY=0,CreativeUnit.toString=function(){return"[Clazz CreativeUnit]"},CreativeUnit.prototype.toString=function(){return"[CreativeUnit "+this.name+" ("+this.localId+")]"},Object.defineProperty(CreativeUnit.prototype,"size",{get:function(){var t=this.getAvailableSize();return this.layoutCurrent||this._updateActiveLayout(this._getOrientation(),t.width,t.height),"responsive"===this.sizing?{width:t.width,height:t.height}:{width:this.layoutCurrent.unitSize.width,height:this.layoutCurrent.unitSize.height}},set:function(){}}),Object.defineProperty(CreativeUnit.prototype,"unitAlignment",{get:function(){return"undefined"==typeof this.layoutCurrent.unitAlignment?{}:this.layoutCurrent.unitAlignment}}),Object.defineProperty(CreativeUnit.prototype,"layoutCurrent",{get:function(){return this.layouts[this.layoutCurrentIndex]}}),Object.defineProperty(CreativeUnit.prototype,"hasOverflow",{get:function(){return this.screens.concat([this.master]).filter(function(t){return t.showOverflow}).length>0}}),CreativeUnit.prototype.awake=function(){var t=this;CreativeUnit.uber.awake.call(this),this.currentScreen=null,this.visibleScreen=null,this._masterShown=!1,this.overflowsY=!1,this.layoutCurrentIndex=null,this.screens.forEach(function(t){t.objects.forEach(function(t){t.zIndex+=ScreenObject._zIndexOffset})}),"undefined"==typeof this.backgroundColor&&(this.backgroundColor="#000000"),"undefined"==typeof this.usePlaceboBar&&(this.usePlaceboBar=!1),"undefined"==typeof this.showCloseButton&&(this.showCloseButton=!1),"undefined"==typeof this.alignBackButtonHorizontal&&(this.alignBackButtonHorizontal="left"),this.on("_firstScreenLoaded",function(){t.placeboBar&&(t.placeboBar.parentNode.removeChild(t.placeboBar),t.placeboBar=null),this._setVisibleScreen(this.screens[0])}.bind(this)),this.onAll("_firstScreenLoaded _unitFirstShown",function(){this.goToScreen(this.screens[0])}.bind(this)),this.triggerOrientationChange=this.triggerOrientationChange.bind(this),this.updateWindowMetrics=this.updateWindowMetrics.bind(this),this.hacks.triggerBlurWhenTappingOutsideOfInputs=ios()},CreativeUnit.prototype.setAvailableSize=function(t,e){var i=CreativeUnit.uber.setAvailableSize.apply(this,arguments),n=this._getOrientation(),o=this.layouts[this.layoutCurrentIndex];this._updateActiveLayout(n,t,e),this.updateWindowMetrics(n,t,e);var r=this._previousOrientation&&n!=this._previousOrientation,s=o&&o.orientation!=this.layoutCurrent.orientation;(r||s)&&this.triggerOrientationChange(),this._previousOrientation=n,i&&this.emit("resize")},CreativeUnit.prototype._getOrientation=function(){return creative.adapter.orientation%180===0?"portrait":"landscape"},CreativeUnit.prototype._updateActiveLayout=function(t,e,i){{var n=this.layouts.slice(),o=this.layoutCurrentIndex;this.layouts[o]||null}n.forEach(function(n){n.sortIndex=0,"independent"==n.orientation?n.sortIndex+=1:n.orientation!=t&&(n.sortIndex+=4e3),n.minSize.width>e&&(n.sortIndex+=2e3),n.minSize.height>i&&(n.sortIndex+=2e3),n.sortIndex+=Math.abs(n.minSize.width-e)+Math.abs(n.minSize.height-i)}),n.sort(function(t,e){return t.sortIndex-e.sortIndex}),this.layoutCurrentIndex=this.layouts.indexOf(n[0]),o!=this.layoutCurrentIndex&&this.emit("layoutChanged")},CreativeUnit.prototype.enterRenderTree=function(){if(!this._isRendering){this._isRendering=!0;var t=this.getAvailableSize();this.updateWindowMetrics(this._getOrientation(),t.width,t.height),this.master&&(this.master.loaded?defer(this.master.enterRenderTree.bind(this.master)):this.once("_firstScreenLoaded",this.master.enterRenderTree.bind(this.master))),this.visibleScreen&&defer(this.visibleScreen.enterRenderTree.bind(this.visibleScreen)),this.hacks.triggerBlurWhenTappingOutsideOfInputs&&(attach(this.node,"touchstart",function(t){-1==["INPUT","TEXTAREA","SELECT"].indexOf(t.target.nodeName)&&null!=this.lastInputElementFocused&&this.lastInputElementFocused.blur()}.bind(this),!0),attach(this.node,"focus",function(t){["INPUT","TEXTAREA","SELECT"].indexOf(t.target.nodeName)>-1&&(this.lastInputElementFocused=t.target)}.bind(this),!0),attach(this.node,"blur",function(t){["INPUT","TEXTAREA","SELECT"].indexOf(t.target.nodeName)>-1&&(this.lastInputElementFocused=null)}.bind(this),!0))}},CreativeUnit.prototype.exitRenderTree=function(){this._isRendering&&(this._isRendering=!1,this.master&&this.master.exitRenderTree(),this.visibleScreen&&this.visibleScreen.exitRenderTree())},CreativeUnit.prototype._appear=function(){this.loaded||Creative._throw("Cannot show the unit before it has finished loading."),this.isAppearing&&Creative._throw("The unit is already appearing."),this.node.parentNode||Creative._throw("Creative unit must be added to DOM before show() is called. Animations will start on show()."),Logger("unit").log("Showing "+this),this.inView&&(this.inView.start(),this.currentScreen&&this.currentScreen.inView&&this.currentScreen.inView.start()),this.hasAppearedAtLeastOnce||(this.placeboBar&&this.placeboBar.start(),this._orientationLockIsOn?this._emitUnitFirstShownAfterOrientationPrompt=!0:this.emit("_unitFirstShown"))},CreativeUnit.prototype._disappear=function(){this.isAppearing||Creative._throw("The unit is not appearing, can not disappear."),Logger("unit").log("Hiding "+this),this.inView&&this.inView.stop()},CreativeUnit.prototype.createNode=function(){var t=this.unitDiv=CreativeUnit.uber.createNode.call(this);if(t.id="celtra-"+this.name.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}),Color.isGradient(this.backgroundColor)?addCssRule("#"+t.id,Color.createGradientStyle(this.backgroundColor)):t.style.backgroundColor=this.backgroundColor,t.style.overflow=this.master.showOverflow?"visible":"hidden",this.screenContainer=document.createElement("div"),this.screenContainer.className="celtra-screen-container",this.screenContainer.style.position="absolute",t.appendChild(this.screenContainer),this.screenHolder=document.createElement("div"),this.screenHolder.className="celtra-screen-holder",this.screenHolder.style.width="100%",this.screenHolder.style.height="100%",this.screenContainer.appendChild(this.screenHolder),t.style.position="absolute",this.usePlaceboBar){var e=this.loadingScreen&&this.loadingScreen.loaderColor||"white";this.placeboBar=new PlaceboBar(5e3,.9,200,e),this.screenContainer.appendChild(this.placeboBar)}if(this.showCloseButton){if(this.closeAction||Creative._throw("Close button requested, but no close action defined?"),this.closeButtonType&&"text"===this.closeButtonType){var i=document.createElement("div");i.className="celtra-close-button touchable celtra-close-button-text",i.textContent=this.closeButtonText,i.style.color=this.closeButtonTextColor,this.unitDiv.appendChild(i)}else{var i=document.createElement("img"),n=document.createElement("img");this.closeButtonUp?(this.closeButtonDown||(this.closeButtonDown=this.closeButtonUp),this.closeButtonWidth&&this.closeButtonHeight&&(i.style.width=n.style.width=this.closeButtonWidth+"px",i.style.height=n.style.height=this.closeButtonHeight+"px")):(this.closeButtonUp=new File("runner/clazzes/CreativeUnit/close-up.png"),this.closeButtonDown=new File("runner/clazzes/CreativeUnit/close-down.png")),i.className="celtra-close-button touchable celtra-close-button-up",this.preloadImage(this.closeButtonUp,function(t){i.src=t.src}),n.className="celtra-close-button celtra-close-button-down",this.preloadImage(this.closeButtonDown,function(t){n.src=t.src}),this.closeButtonImage=i,this.closeButtonImagePressed=n,this.unitDiv.appendChild(this.closeButtonImage),this.unitDiv.appendChild(this.closeButtonImagePressed)}attach(i,"tap",function(){var t=this.currentScreen||this.visibleScreen;this.closeAction(t?new ActionContext(t,!0):null,{},noop)}.bind(this),!1)}var o=[];o.push({name:"loading",fun:function(t){if(this.loadingScreen){var e=creative.perf.start("CreativeUnit.loadingScreen");this.loadingScreen.getNode(function(){defer(function(){e.end(),this._setVisibleScreen(this.loadingScreen),t(!0)}.bind(this),CreativeUnit.DEBUG_EXTRA_PHASE_DELAY,"CreativeUnit.createNode defer loading phase completion")}.bind(this))}else t(!1)}.bind(this)}),o.push({name:"interactive",fun:function(t){var e=creative.perf.start("CreativeUnit.firstScreenLoaded"),i=2,n=function(){--i||defer(function(){e.end(),defer(this.emits("_firstScreenLoaded"),0,"CreativeUnit.createNode emit _firstScreenLoaded"),t(!0)}.bind(this),CreativeUnit.DEBUG_EXTRA_PHASE_DELAY,"CreativeUnit.createNode defer onScreenLoaded")}.bind(this);this.screens[0].getNode(n),this.master.getNode(n)}.bind(this)}),this.incrementLoadingCount();var r=!1,s=function(){r||Creative._throw("Unit still not ready to show after last phase?!")};return o.reverse().forEach(function(t){var e=s;s=function(){Logger("unit").log("Phase '"+t.name+"' started."),t.fun(function(i){Logger("unit").log("Phase '"+t.name+"' finished, "+(i?"DID":"DID NOT")+" draw something."),i&&(r||(r=!0,this.decrementLoadingCount())),e()}.bind(this))}.bind(this)}.bind(this)),s(),t},CreativeUnit.prototype._repositionCloseButton=function(t){function e(t,e,i){function n(t){return{left:t.offsetLeft,top:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}var o=n(i),r=n(e),s=n(t);s.left=r.left+r.width-s.width,s.top=r.top;var a=o.left<=s.left&&s.left+s.width-1<o.left+o.width&&o.top<=s.top&&s.top+s.height-1<o.top+o.height;return!a}if(this.closeButtonImage){var i;i=this.hasOverflow||this.orientationPrompt&&"none"!=this.orientationPrompt.style.display||e(this.closeButtonImage,this.screenContainer,this.unitDiv)?this.unitDiv:this.screenContainer;var n=this.closeButtonImage.parentNode;if(i!==n&&(n&&(n.removeChild(this.closeButtonImage),n.removeChild(this.closeButtonImagePressed)),i.appendChild(this.closeButtonImage),i.appendChild(this.closeButtonImagePressed)),window.navigator.userAgent.match(/iP(hone|od)/)&&ios("7")&&creative.adapter.hasDeadZones){var o="landscape"==t?20:0;this.closeButtonImage.style.top=this.closeButtonImagePressed.style.top=o+"px"}}},CreativeUnit.prototype.triggerOrientationChange=function(){this.currentScreen&&this.currentScreen.triggerOrientationChange(),android()&&this.hideKeyboard()},CreativeUnit.prototype.hideKeyboard=function(){if(this.unitDiv){var t=[].slice.call(this.unitDiv.querySelectorAll("input,select,textarea"));t.forEach(function(t){t.blur()})}},CreativeUnit.prototype.enableWrongOrientationPrompt=function(){if(this.unitDiv&&!this.orientationPrompt&&"thumb"!==creative.runtimeParams.purpose){this.orientationPrompt=document.createElement("img"),this.orientationPrompt.style.cssText="display: none; position: absolute; left: 50%; top: 50%; z-index: 999999";var t=this;if(this.orientationPromptImage)this.loaded||this.preloadImage(this.orientationPromptImage,function(e){var i=t.orientationPromptImage.width,n=t.orientationPromptImage.height,o=Math.round(i/2),r=Math.round(n/2);t.orientationPrompt.style.cssText+="margin-left: -"+o+"px; margin-top: -"+r+"px; width: "+i+"px; height: "+n+"px;",t.orientationPrompt.src=e.src});else{var e="tablet",i="phone"==e?400:640;this.orientationPrompt.style.cssText+="margin-left: -"+i+"px; margin-top: -"+i+"px;",celtra.styler.css(this.orientationPrompt,"transformOrigin","50% 50%"),celtra.styler.css(this.orientationPrompt,"transform","scale(0.80)"),this.loaded||this.preloadImage(new File("runner/rotate-screen_"+e+"_01.png"),function(e){t.orientationPrompt.src=e.src})}this.unitDiv.appendChild(this.orientationPrompt)}},CreativeUnit.prototype._updateSize=function(){var t=function(t,e,i){"left"==e?(t.style.left="0",t.style.marginLeft="",t.style.right="auto"):"right"==e?(t.style.left="auto",t.style.marginLeft="",t.style.right="0"):(t.style.left="50%",t.style.marginLeft="-"+this.size.width/2+"px",t.style.right="auto"),"top"==i?(t.style.top="0",t.style.marginTop="",t.style.bottom="auto"):"bottom"==i?(t.style.top="auto",t.style.marginTop="",t.style.bottom="0"):(t.style.top="50%",t.style.marginTop="-"+this.size.height/2+"px",t.style.bottom="auto")}.bind(this);"responsive"===this.sizing?(this.unitDiv.style.width="100%",this.unitDiv.style.height="100%",this.screenContainer.style.width="100%",this.screenContainer.style.height="100%"):this.fillsContainer?(this.unitDiv.style.width="100%",this.unitDiv.style.height=this.overflowsY?this.size.height+"px":"100%",this.screenContainer.style.width=this.size.width+"px",this.screenContainer.style.height=this.size.height+"px",t(this.screenContainer,this.unitAlignment.horizontal,this.unitAlignment.vertical)):(this.unitDiv.style.width=this.size.width+"px",this.unitDiv.style.height=this.size.height+"px",t(this.unitDiv,this.unitAlignment.horizontal,this.unitAlignment.vertical),this.screenContainer.style.width="100%",this.screenContainer.style.height="100%")},CreativeUnit.prototype.updateWindowMetrics=function(t,e,i){this._isRendering&&(this._updateSize(),this._toggleWrongOrientationPrompt(t,e,i),setTimeout(function(t,e,i){this._repositionCloseButton(t,e,i)}.bind(this),0,t,e,i))},CreativeUnit.prototype.setCorrectOrientation=function(t){this._correctOrientation=t},CreativeUnit.prototype._toggleWrongOrientationPrompt=function(t){if(this.orientationPrompt){var e=this.orientation;if(this._correctOrientation&&(e=this._correctOrientation),e!==t){this.orientationPrompt.style.display="block";{this.orientationPrompt.offsetWidth}this._orientationLockIsOn!==!0&&this.emit("orientationLockChanged",!0),this._orientationLockIsOn=!0}else this.orientationPrompt.style.display="none",this._orientationLockIsOn!==!1&&this.emit("orientationLockChanged",!1),this._orientationLockIsOn=!1,this._emitUnitFirstShownAfterOrientationPrompt&&(this._emitUnitFirstShownAfterOrientationPrompt=!1,this.emit("_unitFirstShown"))}},CreativeUnit.prototype.getMasterVideo=function(){var t=null;return this.master.objects.some(function(e){return"MasterVideo"===e.constructor.name?(t=e,!0):void 0}),t},CreativeUnit.prototype.playMasterVideoAction=function(t,e,i){this.getMasterVideo().playAction(t,e,i)},CreativeUnit.prototype.pauseMasterVideoAction=function(t,e,i){this.getMasterVideo().pauseAction(t,e,i)},CreativeUnit.prototype.muteMasterVideoAction=function(t,e,i){this.getMasterVideo().muteAction(t,e,i)},CreativeUnit.prototype.unMuteMasterVideoAction=function(t,e,i){this.getMasterVideo().unMuteAction(t,e,i)},CreativeUnit.prototype.goToScreenAction=function(t,e,i){if(ios("7")&&e.animation){var n=e.screen;n.showOverflow&&celtra.styler.css(n.node,"transform","translateZ(0)"),this.goToScreen(n,e,function(){n.showOverflow&&celtra.styler.css(n.node,"transform","none"),i()})}else this.goToScreen(e.screen,e,i)},CreativeUnit.prototype.goToScreen=function(t,e,i){if(!this.isAppearing){var n=Array.prototype.slice.apply(arguments);return void this.once("appeared",function(){this.goToScreen.apply(this,n)}.bind(this))}if(!t.loaded){var n=Array.prototype.slice.apply(arguments);return void t.getNode(function(){this.goToScreen.apply(this,n)}.bind(this))}var o=this,r=this.currentScreen;return"function"==typeof e&&(i=e,e=void 0),i=i||noop,e=e||{},this.goingToScreen?i():t&&r!==t?(this.goingToScreen=t,void t.triggerBeforeAppear(function(){this._setVisibleScreen(t,e,function(){o.goingToScreen=null,o.currentScreen=t;t.getNode(),this.master.getNode();this._masterShown||(this._masterShown=!0,this.master.enterRenderTree(),this.master.appear()),r&&(r.disappear(),r.exitRenderTree()),t.enterRenderTree(),t.appear(),i(),setTimeout(function(){var e=[];Object.keys(t.dynamicReachableScreenConditions).forEach(function(i){var n=i.split("/"),o=creative.experiments.get(n[0],n.slice(1));null!=o&&Object.keys(t.dynamicReachableScreenConditions[i]).forEach(function(n){n!=o.chosenVariant&&(e=e.concat(t.dynamicReachableScreenConditions[i][n]))})});var i=[];t.reachableScreens.concat(this.master.reachableScreens).forEach(function(t){var n=t.localId.toString(),o=-1==e.indexOf(n),r=-1==i.indexOf(n);o&&r?(t.getNode(),i.push(n)):e=e.filter(function(t){return t!=n})})}.bind(this),0)}.bind(this))}.bind(this))):i()},CreativeUnit.prototype._setVisibleScreen=function(t,e,i){if(e=e||{},i=i||noop,this.visibleScreen==t)return i();this.visibleScreen=t,t.initImmediatelyPlayedScenes();var n=t===this.loadingScreen;if(n&&t.loaded)this._screenTransition(t.getNode(),null,e,i);else if(t.loaded&&this.master.loaded)this.loadingScreen&&(this.loadingScreen.getNode().style.display="none"),this._screenTransition(t.getNode(),this.master.getNode(),e,i);else{var o,r,s,a=function(){o--,o||this._screenTransition(r,s,e,i)};n?(r=this.loadingScreen.getNode(a.bind(this)),s=null,o=1):(r=t.getNode(a.bind(this)),s=this.master.getNode(a.bind(this)),o=2)}},CreativeUnit.prototype._screenTransition=function(t,e,i,n){t.style.display="none",e&&(this._masterClone||this._createMasterClone(),this.screenHolder.appendChild(this._masterClone),e.parentNode||this.screenHolder.appendChild(e),this._masterClone.style.zIndex=e.style.zIndex=-1),t&&!t.parentNode&&this.screenHolder.appendChild(t),e&&(this._masterClone.style.display="block",e.style.display="none"),null!=this.currentScreen?(i.unitSize=extend({},this.size),ScreenTransition.run(this.currentScreen.node,this._masterClone,t,e,i,function(){e.style.display="block",this._masterClone.display="none",n()}.bind(this))):(e&&(e.style.display="block",this._masterClone.style.display="none"),t.style.display="block",nextFrame(n))},CreativeUnit.prototype._createMasterClone=function(){return this._masterClone&&this._masterClone.parentNode&&this._masterClone.parentNode.removeChild(this._masterClone),this._masterClone=this.master.getNode().cloneNode(!0),this._masterClone.style.display="none",this._masterClone.style.zIndex=-1,this._masterClone},CreativeUnit.prototype.findAll=function(t){function e(n){n.forEach(function(n){("undefined"==typeof t||n.name==t)&&i.push(n),n.getNestedContainers().forEach(function(t){e(t.objects)})})}var i=[];return this.screens.forEach(function(n){("undefined"==typeof t||n.title==t)&&i.push(n),e(n.objects)}),i};;
function ScreenObjectContainer(){}inherit(ScreenObjectContainer,View),ScreenObjectContainer.toString=function(){return"[Clazz ScreenObjectContainer]"},ScreenObjectContainer.prototype.toString=function(){return"[ScreenObjectContainer "+this.localId+"]"},ScreenObjectContainer.prototype.appear=function(){ScreenObjectContainer.uber.appear.call(this),ScreenObjectContainer.uber.appearNestedObjects.call(this)},ScreenObjectContainer.prototype.disappear=function(){ScreenObjectContainer.uber.disappearNestedObjects.call(this),ScreenObjectContainer.uber.disappear.call(this)};;
function Screen(){}inherit(Screen,ScreenObjectContainer),extend(Screen.prototype,TriggerHost),Screen.toString=function(){return"[Clazz Screen]"},Screen.prototype.toString=function(){return"[Screen "+this.localId+" (name="+this.title+")]"},Object.defineProperty(Screen.prototype,"name",{get:function(){return this.title}}),Object.defineProperty(Screen.prototype,"size",{get:function(){return this.parentContainer.size}}),Screen.prototype.awake=function(){ScreenObjectContainer.uber.awake.apply(this,arguments),this._isRendering=!1,this.appearedAtLeastOnce=!1,this._updateSize=this._updateSize.bind(this),this.handleShake=this.handleShake.bind(this)},Screen.prototype.isFirstScreen=function(){return this===this.parentContainer.screens[0]},Screen.prototype.isLoadingScreen=function(){return this===this.parentContainer.loadingScreen},Screen.prototype.isMasterScreen=function(){return this===this.parentContainer.master},Screen.prototype.isNormalScreen=function(){return!this.isMasterScreen()&&!this.isLoadingScreen()},Object.defineProperty(Screen.prototype,"parentUnitVariant",{get:function(){return"CreativeUnitWithVariants"==this.parentUnit.constructor.name?(this._parentContainer||(this._parentContainer=this.parentUnit.getVariantForScreen(this)),this._parentContainer):null}}),Object.defineProperty(Screen.prototype,"parentContainer",{get:function(){return this.parentUnitVariant||this.parentUnit}}),Screen.prototype.createNode=function(){Logger("unit").log("Starting to load "+this),!this.isLoadingScreen()&&creative.experiments.get("TrackingLoadingTimes")&&this.once("loaded",creative.aggregatorTracking.trackAggregatorMagicTriplet("screenLoad",{unitName:this.parentUnit.name,screenRank:this.isFirstScreen()?"First":this.isMasterScreen()?"Master":"Other"},3e4));var e=Screen.uber.createNode.call(this);return e.style.overflow=this.showOverflow?"visible":"hidden",this.objects.forEach(function(t){this.incrementLoadingCount(),e.appendChild(t.getNode(this.decrementLoadingCount))},this),this.parentContainer.on("resize",this._updateSize),e.style.width=e.style.height="100%",this.parentContainer.inView&&(this.inView=new InViewObject(this,this.parentContainer.inView),this.inViewTriggerSetup()),this._updateSize(),e},Screen.prototype.initImmediatelyPlayedScenes=function(){if(this.immediatelyPlayedScenes){var e=!this.appearedAtLeastOnce,t=[];t=e?this.immediatelyPlayedScenes.firstAppear.scenes.concat(this.immediatelyPlayedScenes.appear.scenes):this.immediatelyPlayedScenes.appear.scenes,t.forEach(function(e){e.renderFirstFrame()})}},Screen.prototype._appear=function(){var e=!this.appearedAtLeastOnce;this.appearedAtLeastOnce=!0;var t=new ActionContext(this,{certainlyNotCausedByUserBehavior:!!this.parentUnit.firstAppearWithoutUserInteraction&&e&&(this.isFirstScreen()||this.isMasterScreen())});this!==this.parentContainer.loadingScreen&&this!==this.parentContainer.master&&t.track({name:"screenShown"}),e?this.fireTriggers("firstAppear",null,function(){defer(function(){this.fireTriggers("appear",null,noop,t)}.bind(this))}.bind(this),t):this.fireTriggers("appear",null,noop,t),this.inView&&this.inView.start(),this.hasTriggers("shake")&&(this.shakeListener||(this.shakeListener=new ShakeListener),this.shakeListener.start(),this.shakeListener.on("shake",this.handleShake))},Screen.prototype._disappear=function(){this.inView&&this.inView.stop(),this.shakeListener&&(this.shakeListener.off("shake",this.handleShake),this.shakeListener.stop())},Screen.prototype.handleShake=function(e){if(this.parentUnit.currentScreen===this){var t=new ActionContext(this,!1);this.fireTriggers("shake",function(t,i){var n=t.direction&&t.direction.indexOf(e)>-1,r=!1,a=!1,s=500;return n?(clearTimeout(i.shakeTimeout),i.shakeStartTime||(i.shakeStartTime=new Date),r=t.duration&&(new Date).getTime()-i.shakeStartTime.getTime()>=t.duration,i.shakeTimeout=setTimeout(function(){delete i.shakeStartTime,i.triggered=!1},s),r&&!i.triggered&&(a=!0,i.triggered=!0),a):!1},null,t)}},Screen.prototype.enterRenderTree=function(){this._isRendering||(this._isRendering=!0,this.emit("enteredRenderTree"))},Screen.prototype.exitRenderTree=function(){this._isRendering&&(this._isRendering=!1,this.emit("exitedRenderTree"))},Screen.prototype._updateSize=function(){this.emit("resize")},Screen.prototype.finishedLoading=function(){Screen.uber.finishedLoading.call(this),Logger("unit").log("Finished loading "+this)},Screen.prototype.triggerBeforeAppear=function(e){var t=new ActionContext(this,{certainlyNotCausedByUserBehavior:!!this.parentUnit.firstAppearWithoutUserInteraction&&!this.appearedAtLeastOnce&&(this.isFirstScreen()||this.isMasterScreen())});this.fireTriggers("beforeAppear",null,e,t)},Screen.prototype.triggerOrientationChange=function(e){this.fireTriggers("orientationChange",null,e)},Screen.prototype.getMaxZIndex=function(){var e=0;return this.objects.forEach(function(t){t.zIndex>e&&(e=t.zIndex)}),e},Screen.prototype.inViewTriggerSetup=function(){var e=!1;this.triggers.forEach(function(t){("enterView"===t.type||"leaveView"===t.type)&&(e=!0,this.inViewAreaRatio=0)},this),e&&this.inView.on("areaInViewRatioChanged",this.triggerInView.bind(this))},Screen.prototype.triggerInView=function(e){var t=new ActionContext(this),i="enterView",n=this.inViewAreaRatio,r=e,a=function(e,t){return e.parameters.area-t.parameters.area};e<this.inViewAreaRatio&&(i="leaveView",r=this.inViewAreaRatio,n=e,a=function(e,t){return t.parameters.area-e.parameters.area}),this.fireSortedTriggers(i,function(e){var t=e.area/100;return t>=n&&r>=t},null,t,a),this._getTriggers(i,function(e){var t=e.area/100;return t>=n&&r>=t}),this.inViewAreaRatio=e},Screen.prototype.getActionsExecutedOnAppear=function(){var e=!this.appearedAtLeastOnce,t=new ActionContext(this,{certainlyNotCausedByUserBehavior:!!this.parentUnit.firstAppearWithoutUserInteraction&&e&&(this.isFirstScreen()||this.isMasterScreen())}),i=this.fireTriggersDryRun("beforeAppear",null,noop,t);return e&&(i=i.concat(this.fireTriggersDryRun("firstAppear",null,noop,t))),i.concat(this.fireTriggersDryRun("appear",null,noop,t))},Screen.prototype.resetAction=function(e,t,i){var n=this.findAll(),r=n.length;r?n.forEach(function(n){n.resetAction(e,t,function(){--r||i()})}):i()},Screen.prototype.findAll=function(e){function t(n){n.forEach(function(n){("undefined"==typeof e||n.name==e)&&i.push(n),n.getNestedContainers().forEach(function(e){t(e.objects)})})}var i=[];return t(this.objects),i},Screen.prototype.find=function(e){var t=this.findAll(e);return t.length>0?t[0]:null},Screen.prototype._trackViewShown=function(){Screen.uber._trackViewShown.call(this,{isMasterScreen:this.isMasterScreen(),isLoadingScreen:this.isLoadingScreen()})};;
function ScreenObject(){}inherit(ScreenObject,View),extend(ScreenObject.prototype,TriggerHost),ScreenObject.requiresRedrawToTriggerAnimationEvents=android("4.0"),ScreenObject.redrawTriggerInterval=60,ScreenObject.toString=function(){return"[Clazz ScreenObject]"},ScreenObject.prototype.toString=function(){return"[ScreenObject "+this.localId+" (name="+this.name+")]"},ScreenObject.allowPositioningAndSizingUsingTransforms=!android("2.2","2.3")||celtra.iframe(),ScreenObject._zIndexOffset=1e4,ScreenObject._resettableProperties=["position","size","rotation","zIndex","opacity","hidden"],ScreenObject._3dTransformBlacklisted=function(e){return/Silk\/\d|Kindle Fire| KFTT | KFOT | KFJWI | KFJWA |\bGT-P3100\b| HTC[ _]One[ _]S /.test(e)||/\bGT-I9300\b/.test(e)&&android("4.0")}(navigator.userAgent),ScreenObject.supports3d=function(){var e="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MSCSSMatrix"in window||/Gecko\//.test(navigator.userAgent);return e&&!this._3dTransformBlacklisted}(),ScreenObject.requires3dTranslateForPositioning=/GT-I9500|GT-I9505|SM-N900|GT-P5210|SM-T520/.test(navigator.userAgent),ScreenObject.dummyImageSpacer=windows("10"),ScreenObject._toPositionPx=function(e,t,i){var n,r,s,o,a=i.width,c=i.height,h=t.width,u=t.height;return["left","right","hcenter"].forEach(function(t){t in e&&(n=t)}),["bottom","top","vcenter"].forEach(function(t){t in e&&(r=t)}),s=e[n],o=e[r],s=s.indexOf("%")>-1?a*parseFloat(s)/100:parseFloat(s),"hcenter"===n?s=(a-h)/2+s:"right"===n&&(s=a-(s+h)),o=o.indexOf("%")>-1?c*parseFloat(o)/100:parseFloat(o),"vcenter"===r?o=(c-u)/2+o:"bottom"===r&&(o=c-(o+u)),{x:ScreenObject._roundIfNeeded(s),y:ScreenObject._roundIfNeeded(o)}},ScreenObject._toSizePx=function(e,t){var i=parseFloat(e.width),n=parseFloat(e.height),r=t.width,s=t.height;return e.width.toString().indexOf("%")>-1&&(i=r*i/100),e.height.toString().indexOf("%")>-1&&(n=s*n/100),{width:ScreenObject._roundIfNeeded(i),height:ScreenObject._roundIfNeeded(n)}},ScreenObject._roundIfNeeded=function(e){return Math.round(e)},Object.defineProperty(ScreenObject.prototype,"layoutCurrent",{get:function(){return null==this.layoutCurrentIndex?this.layoutSpecificValues[0]:this.layoutSpecificValues[this.layoutCurrentIndex]},enumerable:!0,configurable:!1}),Object.defineProperty(ScreenObject.prototype,"layoutCurrentIndex",{get:function(){return this.parentUnit.layoutCurrentIndex},enumerable:!0,configurable:!1}),ScreenObject._Position=function(e,t){this._instance=e,this._position=t},Object.defineProperties(ScreenObject._Position.prototype,{x:{get:function(){return this._position.x},set:function(e){delete this._instance.layoutCurrent.right,delete this._instance.layoutCurrent.hcenter,this._instance.layoutCurrent.position.left=e+("number"==typeof e?"px":"")}},y:{get:function(){return this._position.y},set:function(e){delete this._instance.layoutCurrent.bottom,delete this._instance.layoutCurrent.vcenter,this._instance.layoutCurrent.position.top=e+("number"==typeof e?"px":"")}}}),ScreenObject._Size=function(e,t){this._instance=e,this._size=t},Object.defineProperties(ScreenObject._Size.prototype,{width:{get:function(){return this._size.width},set:function(e){this._instance.layoutCurrent.size.width=e+("number"==typeof e?"px":"")}},height:{get:function(){return this._size.height},set:function(e){this._instance.layoutCurrent.size.height=e+("number"==typeof e?"px":"")}}}),Object.defineProperties(ScreenObject.prototype,{position:{get:function(){var e=ScreenObject._toPositionPx(this.layoutCurrent.position,this.size,this.parentContainer.size);return new ScreenObject._Position(this,e)},set:function(e){delete this.layoutCurrent.position.right,delete this.layoutCurrent.position.hcenter,delete this.layoutCurrent.position.bottom,delete this.layoutCurrent.position.vcenter,this.layoutCurrent.position.left=e.left,this.layoutCurrent.position.top=e.top}},originalSize:{get:function(){var e=this.layoutCurrentIndex||0;return ScreenObject._toSizePx(JSON.parse(this.originalLayoutSpecificValues)[e].size,this.parentContainer.size)},set:function(){throw new Error("originalSize is not settable!")}},size:{get:function(){var e=ScreenObject._toSizePx(this.layoutCurrent.size,this.parentContainer.size);return new ScreenObject._Size(this,e)},set:function(e){this.layoutCurrent.size.width=e.width,this.layoutCurrent.size.height=e.height}},opacity:{get:function(){return this.layoutCurrent.opacity},set:function(e){this.layoutCurrent.opacity=e}},rotation:{get:function(){return this.layoutCurrent.rotation},set:function(e){this.layoutCurrent.rotation=e}},hidden:{get:function(){return this.layoutCurrent.hidden},set:function(e){this.layoutSpecificValues.forEach(function(t){t.hidden=e})}}}),ScreenObject.getCSSTranslate=function(e,t){return ScreenObject.requires3dTranslateForPositioning?"translate3d("+e+"px,"+t+"px, 0)":"translate("+e+"px,"+t+"px)"},ScreenObject.prototype._copyChosenExperimentProperties=function(e){var t,i,n=this.experimentSpecificValues[e];this.creativeOptimizationEnabled&&(i=creative.experiments.get(e,[creative.id,this.localId]),t=n.filter(function(e){return String(e.id)===i.chosenVariant}.bind(this))[0]),t||(t=n[0]);var r={};return deep(r,t),delete r.id,delete r.label,deep(this,r),i},ScreenObject.prototype._applyExperiments=function(){throw new Error("_applyExperiments not implemented")},ScreenObject.prototype.awake=function(){ScreenObject.uber.awake.call(this),this.originalLayoutSpecificValues=JSON.stringify(this.layoutSpecificValues),this.originalZIndex=this.zIndex,this.finishAnimation=this.finishAnimation.bind(this),this._refreshDisplayState=this._refreshDisplayState.bind(this)},ScreenObject.prototype.enterRenderTree=function(){this._isRendering||(this._isRendering=!0,this.emit("enteredRenderTree"))},ScreenObject.prototype.exitRenderTree=function(){this._isRendering&&(this._isRendering=!1,this._isInMouseOver&&trigger(this.node,"mouseout",!1),this.emit("exitedRenderTree"))},ScreenObject.prototype.react=function(e){var t=this.parentUnit.getRxStateObject(),i=function(){this._isRendering&&e.call(this,t)}.bind(this);null!==t&&(this._rxListeners.push(i),Ticker.frame(i,"render"))},ScreenObject.prototype.appearNestedObjects=function(){this.getNestedContainers().forEach(function(e){e.appear(),e.appearNestedObjects(e.objects)},this)},ScreenObject.prototype.disappearNestedObjects=function(){this.getNestedContainers().forEach(function(e){e.disappearNestedObjects(e.objects),e.disappear()},this)},ScreenObject.prototype.initTemplates=function(){var e=this.templates={},t=this.constructor.templates;if(t){for(var i in t)"string"==typeof t[i]&&(t[i]=tmpl(t[i]));extend(e,t)}},ScreenObject.prototype.tmpl=function(e,t,i){this.templates||this.initTemplates();var n=this.templates[e];return n?n.call(i||this,t):"Missing template: "+e},ScreenObject.prototype.template=function(e,t,i){var n,r=document.createElement("div");r.innerHTML=this.tmpl(e,t);var s=r.firstChild;if(i)for(;n=r.firstChild;)i.appendChild(n);return s},ScreenObject.prototype.ifTriggersNotOnlyDismissOrCollapse=function(e,t,i){var n=this.fireTriggersDryRun(e,null,noop,t)._actions,r=["runInSequence","runInParallel","dismiss","collapse"],s=n.some(function(e){return r.indexOf(e.method)<0});s&&i()},ScreenObject.prototype.createNode=function(){this.experimentSpecificValues&&this._applyExperiments(),this._isInMouseOver=!1;var e=this,t=ScreenObject.uber.createNode.call(e);t.style.position="absolute",this.hasTriggers("tap")&&(addClass(t,"touchable"),attach(t,"tap",function(){var t=new ActionContext(e,!0);e.ifTriggersNotOnlyDismissOrCollapse("tap",t,t.trackUserInteraction),e.fireTriggers("tap",null,null,t)},!1));var i="mouseOver",n=[];if(this.hasTriggers(i)){var r=this._getTriggers(i,null),s=[],o=noop;r.forEach(function(e){e.parameters&&e.parameters.delay&&s.indexOf(e.parameters.delay)<0&&s.push(e.parameters.delay)}),attach(t,"mouseover",function(){var t=new ActionContext(e,!0),r=function(n){return function(){e.fireTriggers(i,function(e){return e.delay==n},null,t),e.ifTriggersNotOnlyDismissOrCollapse(i,t,t.trackUserInteraction)}};e._isInMouseOver=!0,s.forEach(function(e,t){o=r(e),n[t]=setTimeout(o,e)})},!1)}return attach(t,"mouseout",function(){var t=new ActionContext(e,!0);e._isInMouseOver=!1,n.forEach(clearTimeout),n=[],e.hasTriggers("mouseOut")&&(e.ifTriggersNotOnlyDismissOrCollapse("mouseOut",t,t.trackUserInteraction),e.fireTriggers("mouseOut",null,null,t))},!1),attach(t,"touchstart",function(){if(e.hasTriggers("touchstart")){var t=new ActionContext(e,!0);e.ifTriggersNotOnlyDismissOrCollapse("touchstart",t,t.trackUserInteraction),e.fireTriggers("touchstart",null,null,t)}},!1),attach(t,"touchend",function(){if(e.hasTriggers("touchend")){var t=new ActionContext(e,!0);e.ifTriggersNotOnlyDismissOrCollapse("touchend",t,t.trackUserInteraction),e.fireTriggers("touchend",null,null,t)}},!1),this.hasTriggers("swipe")&&(attach(t,"touchstart",function(e){e.stopPropagation()}),new SwipeListener({target:t,swipe:function(t,i){var n=new ActionContext(e,!0);e.fireTriggers("swipe",function(r){var s=t==r.direction&&i>=r.length;return s&&e.ifTriggersNotOnlyDismissOrCollapse("swipe",n,n.trackUserInteraction),s},null,n)}})),attach(t,"transitionend",function(e){e.stopPropagation()},!1),this.parentContainer.on("resize",this._refreshDisplayState),this.parentContainer.on("enteredRenderTree",function(){this.hidden||this.enterRenderTree()}.bind(this)),this.parentContainer.on("exitedRenderTree",function(){this.hidden||this.exitRenderTree()}.bind(this)),this.layoutPrevious=this.layoutCurrent,this.parentUnit.on("layoutChanged",this.handleLayoutChanged.bind(this)),this._applyStyles(t,this._calculateNewStyleAttributes()),this.positionUsingTransforms()||deviceInfo.browser.safari("9.0.0",null)||(t.style.outline="1px solid transparent"),this._rxListeners=[],t},ScreenObject.prototype.positionUsingTransforms=retFalse,ScreenObject.prototype.sizeUsingTransforms=retFalse,ScreenObject.prototype.isValid=retTrue,ScreenObject.prototype.getNaturalSize=function(){return this.originalSize},ScreenObject.prototype._calculateNewStyleAttributes=function(){var e={transform:"",transformOrigin:"50% 50%"},t=this.getNaturalSize(),i=this.position.x,n=this.position.y;if(this.sizeUsingTransforms()&&(i+=ScreenObject._roundIfNeeded((this.size.width-t.width)/2),n+=ScreenObject._roundIfNeeded((this.size.height-t.height)/2)),this.positionUsingTransforms()?(e.left="0",e.top="0",(i||n)&&(e.transform+=ScreenObject.getCSSTranslate(i,n))):(e.left=i+"px",e.top=n+"px"),(this.isAnimated||0!=this.rotation)&&(e.transform+=" rotate("+this.rotation+"deg) "),this.sizeUsingTransforms()){e.width=t.width+"px",e.height=t.height+"px";var r=this.size.width/t.width,s=this.size.height/t.height;e.transform+=" scale("+r+", "+s+")"}else e.width=this.size.width+"px",e.height=this.size.height+"px";return e.zIndex=this.zIndex,e.opacity=this.opacity,e.display=this.hidden?"none":"block",e},ScreenObject.prototype._applyStyles=function(e,t){t&&Object.keys(t).forEach(function(i){celtra.styler.css(e,i,t[i])})},ScreenObject.prototype._refreshDisplayState=function(){if(this.node){var e=this._calculateNewStyleAttributes(),t=!1;for(var i in e){var n=String(e[i]).replace(/^\s*|\s*$/g,""),r=celtra.styler.css(this.node,i),s=null;celtra.styler.css(this.node,i)!==n&&(s=n,r!=s&&"zIndex"!=i&&"display"!=i&&(t=!0))}return this._applyStyles(this.node,e),this.redrawLayout(),t}},ScreenObject.prototype.finishAnimation=function(){this.node&&void 0!==celtra.styler.css(this.node,"transitionDuration")&&(celtra.styler.css(this.node,"transitionDuration","1ms"),this.node.offsetWidth,celtra.styler.css(this.node,"transitionDuration",""))},ScreenObject.prototype.handleLayoutChanged=function(){var e=function(){this.layoutPrevious.hidden&&!this.layoutCurrent.hidden?this.enterRenderTreeAndAppear(!0):!this.layoutPrevious.hidden&&this.layoutCurrent.hidden&&this.parentContainer._isRendering&&this.exitRenderTree(),this.layoutPrevious=this.layoutCurrent}.bind(this);ios()?defer(e):e(),this.finishAnimation(),this._refreshDisplayState()},ScreenObject.prototype.redrawLayout=function(){},ScreenObject.prototype.setPosition=function(e,t){this.position={left:e+"px",top:t+"px"},this._refreshDisplayState()},ScreenObject.prototype.setSize=function(e,t){this.size.width=e,this.size.height=t,this._refreshDisplayState()},ScreenObject.prototype.setOpacity=function(e){this.opacity=e,this._refreshDisplayState()},ScreenObject.prototype.animateAction=function(e,t,i){function n(e){return!isNaN(parseFloat(e))&&isFinite(e)}function r(e){var t={position:{},size:{width:null,height:null},zIndex:null,opacity:null,rotation:null};return deep(t,e),t}function s(e,t){var i=t.size,n=e.size;null==i.width&&(i.width=n.width),null==i.height&&(i.height=n.height),e.size=i;var r=e.position,s=t.position,o=null,a=null,c=null,h=null;["left","right","hcenter"].forEach(function(e){e in r&&(o=e),e in s&&(c=e)}),["bottom","top","vcenter"].forEach(function(e){e in r&&(a=e),e in s&&(h=e)}),c&&null!==s[c]&&(delete r[o],r[c]=s[c]),h&&null!==s[h]&&(delete r[a],r[h]=s[h]),null!=t.rotation&&(e.rotation=t.rotation),null!=t.opacity&&(e.opacity=t.opacity),null!=t.zIndex&&(e.zIndex=t.zIndex)}i=i||noop,this.isAnimated=!0;var o="undefined"!=typeof t.duration?t.duration:1e3,a=t.timingFunction||"linear";if(t.layoutSpecificValues)t.layoutSpecificValues.forEach(function(e,t){this.layoutSpecificValues[t]&&s(this.layoutSpecificValues[t],r(e))}.bind(this));else{var c=r(t.properties);null!=c.position.x&&(c.position.left=c.position.x+"px"),null!=c.position.y&&(c.position.top=c.position.y+"px"),null!=c.zIndex&&(c.zIndex=c.zIndex+ScreenObject._zIndexOffset,this.zIndex=c.zIndex),null!=c.size.width&&n(c.size.width)&&(c.size.width+="px"),null!=c.size.height&&n(c.size.height)&&(c.size.height+="px"),s(this.layoutCurrent,c)}var h=this.node;celtra.styler.css(h,"transition",""),celtra.styler.css(h,"transitionProperty","all"),celtra.styler.css(h,"transitionDuration",o+"ms"),celtra.styler.css(h,"transitionTimingFunction",a);var u=this._refreshDisplayState();if(o>0&&u){var l=!1,p=function(){l||(l=!0,i())};ScreenObject.requiresRedrawToTriggerAnimationEvents&&!function(){var e=Date.now(),t=e+(Number(o)||0),i=function(){flash(),Date.now()<t&&setTimeout(i,ScreenObject.redrawTriggerInterval)};i()}(),setTimeout(p,(Number(o)||0)+500,!0),once(h,"transitionend",function(){celtra.styler.css(h,"transition",""),setTimeout(p,0,!1)},!1)}else{celtra.styler.css(h,"transition","");var d=o>0?o:0;setTimeout(i,d)}},ScreenObject.prototype.enterRenderTreeAndAppear=function(e){e&&this.parentScreen._isRendering&&this.enterRenderTree(),e&&!this.isAppearing&&this._shouldAppear&&this.appear()},ScreenObject.prototype.scaleAction=function(e,t,i){var n=t.useOriginalSize?this.originalSize:this.size,r=t.scale/100,s={width:n.width*r,height:n.height*r},o={x:this.position.x+this.size.width/2-s.width/2,y:this.position.y+this.size.height/2-s.height/2};this.animateAction(e,{properties:{position:o,size:s},duration:t.duration,timingFunction:t.timingFunction},i)},ScreenObject.prototype.showAction=function(e,t,i){var n=this.hidden;this.hidden=!1,this.node.style.display="block",this.enterRenderTreeAndAppear(n),this.node.offsetWidth,nextFrame(i)},ScreenObject.prototype.hideAction=function(e,t,i){var n=this.hidden;this.hidden=!0,this.node.style.display="none",!n&&this.parentScreen._isRendering&&(this.isAppearing&&(this.disappear(),this._shouldAppear=!0),this.exitRenderTree()),setTimeout(i,0)},ScreenObject.prototype.resetAction=function(e,t,i){this.layoutSpecificValues=JSON.parse(this.originalLayoutSpecificValues),this.reset(),this.zIndex=this.originalZIndex,this.finishAnimation(),this._refreshDisplayState(),defer(i)},ScreenObject.prototype.addStyle=function(e){var t="#celtra-object-"+this.localId,i=this.node,n=/^:(link|visited|active|hover|focus|first-child|nth-child|nth-last-child|nth-of-type|first-of-type|last-of-type|empty|target|checked|enabled|disabled)/,r=/,\s*/g;this.styleNode||(this.styleNode=document.createElement("style"),i||(i=document.getElementsByTagName("head")[0]),i.appendChild(this.styleNode));var s=[];for(var o in e)s.push({selector:o.split(r).map(function(e){return t+(n.test(e)?"":" ")+e}).join(","),attributes:e[o]});var a=this._styleSheetTemplate({rules:s});this.styleNode.textContent+=a},ScreenObject.prototype._styleSheetTemplate=tmpl("<% for (var i = 0; i < rules.length; i++) { %><%= rules[i].selector %> { <%= rules[i].attributes %> }\n<% } %>"),ScreenObject.prototype.css=function(e,t){"undefined"==typeof t&&(t=e,e=this.getNode()),Object.keys(t).forEach(function(i){celtra.styler.css(e,i,t[i])})},ScreenObject.prototype.getNestedContainers=function(){return[]};;
function Hotspot(){}inherit(Hotspot,ScreenObject),Hotspot.toString=function(){return"[Clazz Hotspot]"},Hotspot.prototype.toString=function(){return"[Hotspot "+this.localId+"]"},Hotspot.prototype.createNode=function(){var t=Hotspot.uber.createNode.call(this);return addClass(t,"touchable"),attach(t,"tap",this.handleTap),t},Hotspot.prototype.handleTap=function(t){t.stopPropagation()};;
function Video(){}var composeUrl=CeltraPlayerUtils.composeUrl,isTruthy=CeltraPlayerUtils.isTruthy,getUrl=CeltraPlayerUtils.getUrl,ifDefined=CeltraPlayerUtils.ifDefined,minVideoSize={width:50,height:50};inherit(Video,ScreenObject),Video.toString=function(){return"[Clazz Video]"},Video.prototype.toString=function(){return"[Video "+this.localId+"]"},Video.transcodingGroup="inline",Video.prototype.awake=function(){Video.uber.awake.call(this),this._nonFullScreenZIndex=this.zIndex,this._player=null,this._spec=null,this._externalEngineProvided=null,this._customUrlParameters={},this._inViewAreaRatio=0,this.isTeaser="teaser"===this.purpose,this.fullscreenMode=this.fullscreenButton?"both":"disabled",this.isConsideredInView=!1,this.isUserEngaged=!1,this._handleAreaInViewRatioChanged=this._handleAreaInViewRatioChanged.bind(this),this._handleContainerViewableChange=this._handleContainerViewableChange.bind(this)},Video.prototype.redrawLayout=function(){this._player&&this._player.setDimensions(this._round(this.size.width),this._round(this.size.height))},Video.prototype.createNode=function(){var e=Video.uber.createNode.call(this);return this._isDesktop=desktop()&&"Desktop"===creative.intendedDeviceType,this.on("enteredRenderTree",function(){void 0!==this.video&&null!==this.video&&(creative.adapter.checkVideoTranscodeStatus&&this._isVideoTranscoding(),this._createPlayer())}.bind(this)),this.on("exitedRenderTree",this._exitedRenderTree.bind(this)),this._hasPosterImage()&&("responsive"==this.parentUnit.sizing?this.parentScreen.on("appeared",function(){(new Image).src=this._getPosterUrl()}.bind(this)):this.preloadImage(new File(this._getPosterUrl()))),addClass(e,"touchable"),attach(e,"tap",this.handleTap),creative.adapter.on("stateChange",function(e){this._player&&("dismissed"==e&&this.emit("ended"),"default"==e&&this.isTeaser&&this.playAction(new ActionContext(this,!1)))}.bind(this)),creative.adapter.on("orientationchange",function(){this._player&&this._player.redraw(),setTimeout(function(){this._player&&this._player.redraw()}.bind(this),800)}.bind(this)),creative.adapter.on("resize",function(){this._player&&this._player.redraw()}.bind(this)),e},Object.defineProperty(Video.prototype,"isTrackable",{get:function(){return!0}}),Video.prototype._leaveView=function(){var e=this._player&&this._player.isState(CeltraPlayerUtils.PLAYING),t=this._player&&this._player.isState(CeltraPlayerUtils.BUFFERING);e||t?(this.playWhenInView=!0,this._player.pause()):this.playWhenInView=!1},Video.prototype._comeInView=function(){this._player&&this.playWhenInView&&(this._player.play(),this.playWhenInView=!1)},Video.prototype._applyExperiments=function(){this._experimentVideoPosterImage=this._copyChosenExperimentProperties("VideoPosterImage")},Video.prototype._getVideoControlsController=function(){if(this.isTeaser)return null;var e=function(e){return new VideoControls(e)};return function(t,i){var n=ios()&&/Safari\/\d+/.test(navigator.userAgent),r=this._externalEngineProvided&&n&&!i.startMuted,s=new VideoControlsController(t,e,extend({autohideTime:"hide"===this.controlsMode?3:0,progressbar:this.progressbar,progressbarColour:this.progressbarColour,startInFullScreen:"disabled"===this.fullscreenMode,controlsHidden:"never"===this.controlsMode,muteUnmuteEnabled:this.video.meta.hasAudio&&!r,play:this.playIcon?this.playIcon:null,replay:this.replayIcon?this.replayIcon:null,fullscreenLandscapeButtonsHack:ios("7")&&!tablet()},i));return s.on("playButtonPressed",function(){this.playAction(new ActionContext(this,{consideredUserInitiatedByBrowser:!0}))}.bind(this)),s}.bind(this)},Video.prototype._showFullscreenButton=function(){return desktop()?!0:ifDefined(this.parentUnit.fillsContainer,!1)},Video.prototype._getPosterUrl=function(){return this.posterImage?this.posterImage.getUrl():composeUrl(getUrl("cachedApi"),"videoThumb/",this.video.blobHash,{transform:"thumbnail",width:this.size.width>=minVideoSize.width?this._round(this.size.width):minVideoSize.width,height:this.size.height>=minVideoSize.height?this._round(this.size.height):minVideoSize.height,position:ifDefined(this.posterImageGenerateAt,null)})},Video.prototype._isVideoTranscoding=function(){if(this._isRendering){var e=composeUrl(creative.secure?creative.apiUrl:creative.insecureApiUrl,"videoStream/status/",this.video.blobHash);this._overlay||(this._overlay=document.createElement("div"),this._overlay.style.display="none",this._overlay.className="component-blocker",this.node.appendChild(this._overlay)),loadJSONP(e,function(e){var t=!1,i=!1,n=function(){this._player.pause(),this._player.hide()}.bind(this);if(isDefAndNotNull(e[Video.transcodingGroup])&&(i=e[Video.transcodingGroup].hasTranscodingError,t=desktop()?isDefAndNotNull(gecko()?e[Video.transcodingGroup].webmHQBlobHash:e[Video.transcodingGroup].mpeg4HQPlusBlobHash):e[Video.transcodingGroup].isFullyTranscoded),i){n(),this._overlay.style.display="table";var r="An error occurred while transcoding this video, please contact support@celtra.com for further assistance.";this._overlay.innerHTML="<p>"+r+"</p>",defer(this._isVideoTranscoding.bind(this),5e3)}else t?(this._overlay.style.display="none",this._isRendering&&this._createPlayer()):(n(),this._overlay.style.display="table",this._overlay.innerHTML="<p>Transcoding video.</p>",defer(this._isVideoTranscoding.bind(this),5e3))}.bind(this))}},Video.prototype._appear=function(){this._experimentVideoPosterImage&&this._experimentVideoPosterImage.trackExposure(),creative.adapter.canMeasureViewportPlacementGeometry?(this._inViewAreaRatio=this.parentUnit.inView.areaInViewRatio,this.isConsideredInView=!0,this.parentUnit.inView.on("areaInViewRatioChanged",this._handleAreaInViewRatioChanged)):creative.adapter.containerViewabilityObserver&&(this.isConsideredInView=creative.adapter.containerViewabilityObserver.isViewable,creative.adapter.on("containerViewableChange",this._handleContainerViewableChange)),this.video&&(this.autoplay||this.isTeaser)&&(this.playAction(new ActionContext(this,!1)),this.isTeaser&&this.on("enteredRenderTree",function(){defer(this.playAction(new ActionContext(this,!1)))}.bind(this)))},Video.prototype._handleAreaInViewRatioChanged=function(e){this._player&&this._player.fullscreen&&this._isDesktop?(e=1,this.isConsideredInView=!0):0===e&&this._inViewAreaRatio>0?(this.isConsideredInView=!1,this._leaveView()):e>0&&0===this._inViewAreaRatio&&(this.isConsideredInView=!0,this._comeInView()),this._inViewAreaRatio=e},Video.prototype._handleContainerViewableChange=function(e){this.isConsideredInView!==e&&(this.isConsideredInView=e,e?this._comeInView():this._leaveView())},Video.prototype._videoEngineOptionsProvider=function(){var e=creative.adapter.getVideoCapabilities();return e.videoElement&&"undefined"!=typeof MasterVideo&&(e.videoElement=null),merge(e,{hasAudio:this.video.meta.hasAudio,isTeaser:this.isTeaser,forceMPEG1Video:isTruthy(creative.runtimeParams.forceMPEG1Video),forceMPEG4Video:isTruthy(creative.runtimeParams.forceMPEG4Video),selectOGVPlayer:isTruthy(creative.runtimeParams.selectOGVPlayer),thumbnailMode:"thumb"===creative.runtimeParams.purpose})},Video.prototype._createPlayer=function(){if(!this._player&&this.video){var e=this._videoEngineOptionsProvider();this._externalEngineProvided=!!e.videoElement;var t={preload:this.preload||this.isTeaser,pauseOnEnd:this.pauseOnEnd,playsInline:!0,componentName:this.name,canShowSpinner:!this.isTeaser,fullscreenMode:this._showFullscreenButton()?this.fullscreenMode:"disabled",repeatTimes:this.indefinitely?2147483647:this.repeatTimes,closeFSOnEnd:this.closeOnEnd,fitting:this.fitting,videoWidth:this.video.meta.width,videoHeight:this.video.meta.height,duration:parseFloat(this.video.meta.duration),hasAudio:this.video.meta.hasAudio,startMuted:this.muted,videoElement:e.videoElement,videoStream:{blobHash:this.video.blobHash,from:this.isTeaser?0:null,to:this.isTeaser?5:null,customUrlParameters:this._customUrlParameters},isDesktop:this._isDesktop,mpeg1VideoHas1pxBlackBorderOnRight:creative.adapter.mpeg1VideoHas1pxBlackBorderOnRight};(this.posterImageGenerate||isDefAndNotNull(this.posterImage))&&(t.poster=this._getPosterUrl());var i=function(i,n){return VideoEngineProvider.createVideoEngineSpec(i,extend(e,{startMuted:n,preload:t.preload}))}.bind(this),n=function(){return this.isUserEngaged&&creative.adapter.viewabilityMeasurable.viewable00&&this.isConsideredInView}.bind(this),r=function(){this._cuePointObserver||(this._cuePointObserver=Object.create(CuePointObserver).init(this)),defer(this._cuePointObserver.start)}.bind(this);if(this._player=new VideoPlayer(composeUrl(getUrl("static"),"runner/FullscreenVideoPlayer/"),this.getNode(),i,this._getVideoControlsController(e),n,t),!this.isTeaser&&"MasterVideo"!==this.constructor.name&&!this._externalEngineProvided){this._player=QuartileEventsEmitter(this._player);for(var s in this._player.QUARTILE_EVENTS)this._player.on(s,function(e){this.emit(e.name,e)}.bind(this))}this._player.setDimensions(this._round(this.size.width),this._round(this.size.height)),this._player.on("muted",function(){this.fireTriggers("videoMute"),this.emit("muted")}.bind(this)),this._player.on("unmuted",function(){this.fireTriggers("videoUnMute"),this.emit("unmuted")}.bind(this)),this._player.on("volumechange",function(e){this.emit("volumechange",e)}.bind(this)),this._player.on("play",function(){r(),this.emit("play")}.bind(this)),this._player.on("playing",function(){r(),this.playWhenInView=!0,this.fireTriggers("videoPlaying"),this.emit("playing")}.bind(this)),this._player.on("enterfullscreen",function(){this.zIndex=CeltraPlayerUtils.ZINDEX_MAX,this.fireTriggers("videoEnterFullScreen"),this.emit("enterfullscreen")}.bind(this)),this._player.on("exitfullscreen",function(){this.zIndex=this._nonFullScreenZIndex,this.fireTriggers("videoExitFullScreen"),this.emit("exitfullscreen")}.bind(this)),this._player.on("ended",function(){this._cuePointObserver&&this._cuePointObserver.stop(!0),this.playWhenInView=!1,this.fireTriggers("videoComplete"),this.emit("ended")}.bind(this)),this._player.on("custominfo",function(e){new ActionContext(this,!1).track(e)}.bind(this)),this._player.on("pause",function(){this._cuePointObserver&&this._cuePointObserver.stop(),this.fireTriggers("videoPause"),this._player&&this.emit("pause",this._player.getCurrentTime())}.bind(this)),this._player.on("timeupdate",function(){if(this._player){var e=this._player.getCurrentTime(),t=this._previousTime||0;t!==e&&this.emit("timeupdate",e)}}.bind(this)),this._player.on("durationchange",function(){this._player&&this.emit("durationchange",this._player.getDuration())}.bind(this)),this._player.on("userInteraction",function(e){void 0!==e&&void 0!==e.isUserEngaged&&(this.isUserEngaged=e.isUserEngaged)}.bind(this)),this._orientationLockHandler=CeltraPlayerUtils.orientationLockHandler.bind(null,this._player),this.parentUnit.addListener("orientationLockChanged",this._orientationLockHandler)}},Video.prototype._getRealState=function(e,t,i){var n,r;return e.videoEngineSpec.preload&&!desktop()?(n=!t&&i?!1:!0,r=i):(n=e.videoEngineSpec.startMuted,r=e.videoEngineSpec.inUserInitiatedThread),{startMuted:n,inUserInitiatedThread:r}},Video.prototype._trackViewShown=function(e,t){if(!this.isTeaser){for(var i=this.parentScreen,n=this;n.parentContainer.parentObject;){if("undefined"!=typeof DynamicContent&&n.parentContainer.parentObject instanceof DynamicContent){i=n.parentContainer;break}n=n.parentContainer.parentObject}var r=i.getActionsExecutedOnAppear(),s=r.contains("play",this.localId);new ActionContext(this,!1).track({name:"viewShown",viewName:this.name,clazz:this.constructor.name,filename:this.video&&this.video.name||null,label:this.name,source:this.video&&this.video.blobHash||null,sourceType:"File",userInitiated:void 0!==e?e:s?!1:!this.autoplay,startMuted:void 0!==t?t:this.muted,videoPlayerMode:"inline",duration:this._player?this._player.getDuration():null})}this._trackViewShown=noop},Video.prototype._emitVideoPlayAttempted=function(e,t,i,n){this._videoContext&&this._videoContext.track(this._getVideoPlayAttemptedEvent(e,t,i,n)),this._emitVideoPlayAttempted=noop},Video.prototype._getVideoPlayAttemptedEvent=function(e,t,i,n){var r={name:"videoPlayAttempted",filename:this.video.name,trackable:!0,userInitiated:e,startMuted:t,videoPlayerMode:"inline",engineType:i,videoPreset:n};return this._externalEngineProvided&&(r.name="videoPlayInitiated",r.duration=this._player?this._player.getDuration():null),r},Video.prototype._exitedRenderTree=function(){this.parentUnit.inView&&this.parentUnit.inView.off("areaInViewRatioChanged",this._handleAreaInViewRatioChanged),creative.adapter&&creative.adapter.off("containerViewableChange",this._handleContainerViewableChange),this._destroyPlayer()},Video.prototype._destroyPlayer=function(){this._cuePointObserver&&(this._cuePointObserver.detach(),this._cuePointObserver=null),this._player&&(this._player.destroy(),this.playWhenInView=!1,this._player=null,this.parentUnit.removeListener("orientationLockChanged",this._orientationLockHandler),this._orientationLockHandler=null,this._videoContext=null,this._trackingEventsEmitter=null,this._trackingEventsRecorder=null),this._videoEventsAdapter&&(this._videoEventsAdapter&&this._videoEventsAdapter.destroy(),this._videoEventsAdapter=null)},Video.prototype._createVideoContext=function(){this.isTeaser||!this._player||this._videoContext||(this._videoContext=new VideoContext(this,this.video,this.name),this._videoEventsAdapter=new VideoEventsAdapter(this._player),this._videoContext.registerSource(this._videoEventsAdapter),this._player.on("userInteraction",this._videoContext.trackUserInteraction.bind(this._videoContext)))},Video.prototype._createInstaAdCompliantVideoContext=function(){this.isTeaser||!this._player||this._videoContext||(this._videoContext=new InstaAdContext(this,{certainlyNotCausedByUserBehavior:!1,consideredUserInitiatedByBrowser:!1}),this._videoContext.shouldTrackAsInStreamInteractiveVideoEvent=!0,this._trackingEventsEmitter=new PlaybackTrackingEventsEmitter(this._player),this._trackingEventsRecorder=new PlaybackTrackingEventsRecorder(this._trackingEventsEmitter,this._videoContext),["start","firstQuartile","midpoint","thirdQuartile","complete"].forEach(function(e){this._trackingEventsEmitter.on(e,function(t){this.emit("video"+ucfirst(e),t)}.bind(this))},this),this._player.on("userInteraction",this._videoContext.trackUserInteraction.bind(this._videoContext)))},Video.prototype._round=function(e){return Math.round(e)},Video.prototype._hasPosterImage=function(){return this.video&&!this.isTeaser&&(this.posterImageGenerate||isDefAndNotNull(this.posterImage))},Video.prototype.handleTap=function(e){e.stopPropagation()},Video.prototype.positionUsingTransforms=retFalse,Video.prototype.sizeUsingTransforms=retFalse,Video.prototype.getNaturalSize=function(){return this.originalSize},Video.prototype.getDuration=function(){var e=0/0;try{e=parseFloat(this.video.meta.duration)}catch(t){}return isNaN(e)?this._player?this._player.duration:0:e},Video.prototype.getCurrentTime=function(){return this._player?this._player.getCurrentTime():0},Video.prototype.setCurrentTime=function(e){return this._player?this._player.setCurrentTime(e):0},Video.prototype.playAction=function(e,t,i){if(!this._player)return void(i||noop)();e||(console.warn("Context object has to be passed when calling playAction."),e=new ActionContext(this,{consideredUserInitiatedByBrowser:!1})),this._createPlayer(),this._externalEngineProvided&&"MasterVideo"!==this.constructor.name?this._createInstaAdCompliantVideoContext():this._createVideoContext(),this.isUserEngaged=e.inUserInitiatedIteration,creative.adapter._stopAllMedia();var n=t&&void 0!==t.startMuted?t.startMuted:this.muted;this._spec||(this._spec=this._player.createSpecs(e.inUserInitiatedIteration,n)),this._player.engineInitialized||this._player.initialize(this._spec),this.appliedState=this._getRealState(this._spec,n,e.inUserInitiatedIteration),this._player.play(this.appliedState.startMuted),this.appliedState.inUserInitiatedThread&&this._videoContext.trackUserInteraction(),this._emitVideoPlayAttempted(e.consideredUserInitiatedByBrowser,this.appliedState.startMuted,this._spec.videoEngineSpec.engineType,this._spec.videoEngineSpec.preset),this.parentUnit.once("mediaStopRequested",this.pauseAction.bind(this)),(i||noop)()},Video.prototype.pauseAction=function(e,t,i){this._player&&this._player.isState(CeltraPlayerUtils.PLAYING)&&this._player.pause(),(i||noop)()},Video.prototype.rewindAction=function(e,t,i){this._player&&this._player.replay(),(i||noop)()},Video.prototype.resetAction=function(e,t,i){this._destroyPlayer(),this._createPlayer(),this._emitVideoPlayAttempted=Video.prototype._emitVideoPlayAttempted.bind(this),(i||noop)()},Video.prototype.muteAction=function(e,t,i){this._player&&this._player.mute(),this.muted=!0,(i||noop)()},Video.prototype.unMuteAction=function(e,t,i){this._player&&this._player.unMute(),this.muted=!1,(i||noop)()},Video.prototype.enterFullScreenAction=function(e,t,i){this._player&&this._player.enterFullScreen(),(i||noop)()},Video.prototype.exitFullScreenAction=function(e,t,i){this._player&&this._player.exitFullScreen(),(i||noop)()},Video.prototype.setCustomUrlParameter=function(e,t){this._customUrlParameters[e]=t},Video.prototype.trackViewShown=function(){this._trackViewShown(this.appliedState?this.appliedState.inUserInitiatedThread:void 0,this.appliedState?this.appliedState.startMuted:void 0)};;
function MasterVideo(){}inherit(MasterVideo,Video),MasterVideo.PRELOAD_TIMEOUT_MILLISECONDS=3e3,MasterVideo.prototype._videoCapabilities=null,Object.defineProperty(MasterVideo.prototype,"videoCapabilities",{get:function(){return this._videoCapabilities||(this._videoCapabilities=creative.adapter.getVideoCapabilities()),this._videoCapabilities}}),MasterVideo.prototype.createNode=function(){var e=MasterVideo.uber.createNode.call(this),t=this.videoCapabilities.videoElement;if(!t)return e;var i=!1,r=VideoEngineProvider.createVideoEngineSpec(i,extend(this._videoEngineOptionsProvider(),{startMuted:this.muted,preload:!0})),o=VideoEngineProvider.createVideoUrl(r,{blobHash:this.video.blobHash,customUrlParameters:this._customUrlParameters});this.incrementLoadingCount();var a=function(){n&&(clearTimeout(n),n=null,t.removeEventListener("canplay",a),t.pause(),this.decrementLoadingCount())}.bind(this),n=setTimeout(a,MasterVideo.PRELOAD_TIMEOUT_MILLISECONDS);return t.addEventListener("canplay",a),t.src=o,t.load(),e},MasterVideo.prototype._videoEngineOptionsProvider=function(){return merge(this.videoCapabilities,{hasAudio:this.video.meta.hasAudio,thumbnailMode:"thumb"===creative.runtimeParams.purpose,forceMPEG4Video:!0})},MasterVideo.prototype._createVideoContext=function(){this._player&&!this._videoContext&&(this._videoContext=new InstaAdContext(this,{certainlyNotCausedByUserBehavior:!1,consideredUserInitiatedByBrowser:!1}),this._trackingEventsEmitter=new PlaybackTrackingEventsEmitter(this._player),this._trackingEventsRecorder=new PlaybackTrackingEventsRecorder(this._trackingEventsEmitter,this._videoContext),["start","firstQuartile","midpoint","thirdQuartile","complete"].forEach(function(e){this._trackingEventsEmitter.on(e,function(t){this.emit("video"+ucfirst(e),t)}.bind(this))},this),this._player.on("userInteraction",this._videoContext.trackUserInteraction.bind(this._videoContext)))},MasterVideo.prototype._getVideoPlayAttemptedEvent=function(){return merge(MasterVideo.uber._getVideoPlayAttemptedEvent.apply(this,arguments),{name:"videoPlayInitiated",duration:this._player?this._player.getDuration():null})};;
function Picture(){}inherit(Picture,ScreenObject),Picture.toString=function(){return"[Clazz Picture]"},Picture.prototype.toString=function(){return"[Picture "+this.localId+"]"},Picture.prototype.createNode=function(){var e=new File("runner/image-placeholder.png");e.meta={height:28,width:28},this.file||(this.file=e),"feed"===this.assetSource&&null!=this.feedFieldKey&&"string"==typeof creative.runtimeParams.dynamicContent[this.feedFieldKey]&&(this.file=new File,this.file.url=creative.runtimeParams.dynamicContent[this.feedFieldKey],this.file.meta={width:parseInt(this.layoutCurrent.size.width,10),height:parseInt(this.layoutCurrent.size.height,10)});var t=Picture.uber.createNode.call(this);return this.file===e?(("feed"!=this.assetSource||"feed"===this.assetSource&&null===this.feedFieldKey)&&addClass(t,"empty"),t):(this.preloadImage(this.file,this._handlePreloadedImage.bind(this,t)),t)},Picture.prototype._handlePreloadedImage=function(e,t){var i="",r="";switch(this.imagePosition&&(i=this.imagePosition.replace("-"," ")),this.fittingSize){case"original":r="";break;case"fit":r="contain";break;case"fill":r="cover";break;case"stretch":default:r="100% 100%"}var s=document.createElement("div");if(s.style.cssText="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-repeat: no-repeat;",s.style.backgroundImage="url('"+(t.src||"").replace("'","-")+"')",s.style.backgroundPosition=i,s.style.backgroundSize=r,ScreenObject.dummyImageSpacer){var n=document.createElement("img");n.style.cssText="position: absolute; top: 0; left: 0; width: 100%; height: 100%;",n.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",s.appendChild(n)}e.appendChild(s)},Picture.prototype.positionUsingTransforms=function(){var e=!(ios("8","9")||desktop()&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent));return e&&this.isAnimated},Picture.prototype.sizeUsingTransforms=Picture.prototype.positionUsingTransforms,Picture.prototype.getNaturalSize=function(){var e,t,i,r,s=this.file.width,n=this.file.height,a=s/n,o=this.originalSize.width,h=this.originalSize.height,l=o/h,c=2048;return"original"==this.fittingSize?{width:o,height:h}:"stretch"==this.fittingSize?{width:s,height:n}:(e=a>l&&"fit"==this.fittingSize||l>a&&"fill"==this.fittingSize,t=l>a&&"fit"==this.fittingSize||a>l&&"fill"==this.fittingSize,i=s,r=n,e?r=s/o*h:t&&(i=n/h*o),i>c&&(r*=c/i,i=c),r>c&&(i*=c/r,r=c),{width:i,height:r})},Picture.prototype.getImageUrl=function(){return this.file?this.file.getUrl():void 0};;
function Effect(){}inherit(Effect,ScreenObject),Effect.toString=function(){return"[Clazz Effect]"},Effect.prototype.toString=function(){return"[Effect "+this.localId+"]"},Effect.prototype.awake=function(){Effect.uber.awake.call(this),this._update=this._update.bind(this),this._render=this._render.bind(this)},Effect.prototype.createNode=function(){var t=Effect.uber.createNode.call(this);return this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d"),t.appendChild(this._canvas),this._featherCanvas=document.createElement("canvas"),this._featherCtx=this._featherCanvas.getContext("2d"),this._time=+new Date,this._isRunning=!1,this._isPreloaded=!1,t},Effect.prototype._appear=function(){this._isPreloaded||(this._preload(this.preload),this._isPreloaded=!0),this._start(),this._render()},Effect.prototype._disappear=function(){this._stop()},Effect.prototype.redrawLayout=function(){this._resize()},Effect.prototype._applySettingsToParticleSystem=function(){this._updateShape(),this._updateEmitterPositions()},Effect.prototype._initEffect=function(t){this._staticAssetsPath=t.staticAssetsPath,this._staticAssetsMapping=t.staticAssetsMapping,this._createParticleSystem(t.particleSystemSettings),this._applySettingsToParticleSystem()},Effect.prototype._createParticleSystem=function(t){this._system={world:null,fields:[],emitters:[],renderers:[]},t.fields.forEach(function(t){this._system.fields.push(new t.type(t.options))},this),t.emitters.forEach(function(t){this._system.emitters.push(new t.type(t.options))},this),t.renderers.forEach(function(t,e){this._system.renderers.push(new t.type(this._canvas,this._system.emitters[e],t.options))},this),this._system.world=new Particles.World(this._system.fields,this._system.emitters)},Effect.prototype._preload=function(t){for(var e=50,i=1/e,s=0;e*t>s;s++)this._system.world.step(i)},Effect.prototype._start=function(){this._isRunning||(this._time=+new Date,this._isRunning=!0,creative.adapter.Ticker.frame(this._update,"update"),creative.adapter.Ticker.frame(this._render,"render"))},Effect.prototype._stop=function(){this._isRunning&&(this._isRunning=!1,creative.adapter.Ticker.removeFrame(this._update,"update"),creative.adapter.Ticker.removeFrame(this._render,"render"))},Effect.prototype._update=function(){var t=+new Date,e=(t-this._time,1e3);this._system.world.step((t-this._time)/e),this._time=t},Effect.prototype._render=function(){this._system.renderers.forEach(function(t){t.render()}),this.feather>0&&this._featherCanvas.width>0&&this._featherCanvas.height>0&&(this._ctx.save(),this._ctx.globalCompositeOperation="destination-in",this._ctx.drawImage(this._featherCanvas,0,0),this._ctx.restore())},Effect.prototype._resize=function(){if(this._featherCanvas.width=this._canvas.width=this.size.width,this._featherCanvas.height=this._canvas.height=this.size.height,this.feather>0){var t=this._featherCtx,e=this.feather;t.translate(-this.size.width,0),t.shadowOffsetX=this.size.width,t.shadowOffsetY=0,t.shadowColor="#000",t.shadowBlur=e,t.fillRect(e,e,this.size.width-2*e,this.size.height-2*e)}this._system.emitters.forEach(function(t){t.options.bounds=new Particles.ViewCone3D(Math.round(-this.size.width/2),Math.round(-this.size.height/2),this.size.width,this.size.height,t.options.bounds.vFocal.z,t.options.bounds.maxDepth,t.options.bounds.minDepth)},this),this._render()},Effect.prototype._updateShape=function(){var t=[],e=this.shape,i=this._canvas;this._system.renderers.forEach(function(s){var n;if("Round"===e)t.push(new Particles.PointRenderer(i,s.emitter,s.options));else if("Line"===e)t.push(new Particles.LineRenderer(i,s.emitter,s.options));else if("Custom"===e)n=new Particles.SpriteRenderer(i,s.emitter,s.options),this.image&&this.preloadImage(this.image,function(t){n.options.image=t}),t.push(n);else{n=new Particles.SpriteRenderer(i,s.emitter,s.options);var o=this._staticAssetsPath,r=this._staticAssetsMapping[e],h=new File(o+r);this.preloadImage(h,function(t){n.options.image=t}),t.push(n)}},this),this._system.renderers=t},Effect.prototype._updateEmitterPositions=function(){"undefined"==typeof this.emitterPositionX&&(this.emitterPositionX=0),"undefined"==typeof this.emitterPositionY&&(this.emitterPositionY=0),this._system.emitters.forEach(function(t,e){var i=t.options.position.z/this._system.renderers[e].options.focalDistance;t.options.position.x=this.emitterPositionX*i,t.options.position.y=this.emitterPositionY*i},this)},Effect.prototype.isRunning=function(){return this._isRunning},Effect.prototype.resetAction=function(t,e,i){Effect.uber.resetAction.call(this,t,e,noop),this._isPreloaded=!1,this._start(),i&&i()},Effect.prototype.showAction=function(t,e,i){Effect.uber.showAction.call(this,t,e,noop),this._start(),this._render(),i&&i()},Effect.prototype.hideAction=function(t,e,i){Effect.uber.hideAction.call(this,t,e,noop),this._stop(),i&&i()},Effect.prototype.startEffectAction=function(t,e,i){this._system.emitters.forEach(function(t){t.options.enabled=!0}),i&&i()},Effect.prototype.stopEffectAction=function(t,e,i){this._system.emitters.forEach(function(t){t.options.enabled=!1}),i&&i()};;
function Ambience(){}inherit(Ambience,Effect),Ambience.toString=function(){return"[Clazz Ambience]"},Ambience.prototype.toString=function(){return"[Ambience "+this.localId+"]"},Ambience.prototype.createNode=function(){var t=Ambience.uber.createNode.call(this);return this._initEffect({staticAssetsPath:"runner/clazzes/Ambience/",staticAssetsMapping:Ambience._staticAssets,particleSystemSettings:AmbiencePresets()[this.condition][this.preset]}),t},Ambience.prototype._applySettingsToParticleSystem=function(){Ambience.uber._applySettingsToParticleSystem.call(this);var t=5,e=.5,i=.5,s=.2,n=20,o=5,c=.5,a=5,r=3e4,h=.01,p=this.direction*Math.PI/180;this._system.fields.forEach(function(s){s instanceof Particles.NoiseField?s.options.strength="Campfire"===this.preset?this.chaos*a:this.chaos*this.speed*c:s instanceof Particles.GravityField&&("Underwater"===this.preset?(s.acceleration.x=t*this.speed*Math.cos(p),s.acceleration.y=t*this.speed*Math.sin(p)):"Soapy"===this.preset?(s.acceleration.x=i*this.speed*Math.cos(p),s.acceleration.y=i*this.speed*Math.sin(p)):"Energetic"===this.preset&&(s.acceleration.x=0,s.acceleration.y=e*this.gravity*this.speed))},this),this._system.emitters.forEach(function(t){if(t.options.intensity=this.density*h,-1===["Calm","Underwater","Space","Soapy"].indexOf(this.preset)&&(t.options.velocity.x=o*this.speed*Math.cos(p),t.options.velocity.y=o*this.speed*Math.sin(p)),"Space"===this.preset){var e=s*this.speed*this.speedZ,i=-n*this.speedZ;t.options.velocity.x=e*Math.cos(p),t.options.velocity.y=e*Math.sin(p),t.options.velocity.z=i}},this),this._system.renderers.forEach(function(t){t.options.alpha=this.myopacity*h,t.options.focalDistance=r/(this.distance+1),t.options.radius=this.radius,t.options.length=this.length*h,t.options.scale=this.mysize*h,t.options.color=this.color},this)},Ambience._staticAssets={"Light Bubble":"bubbleLight.png","Dark Bubble":"bubbleDark.png","Light Soapy":"soapyLight.png","Dark Soapy":"soapyDark.png"};;
function File(t){this.url=t}File.toString=function(){return"[Clazz File]"},File.prototype.toString=function(){return"[File "+this.localId+"("+this.name+"/"+this.url+")]"},File.prototype.getOriginalUrl=function(){if(this.url){if(-1!==this.url.indexOf("://"))return this.url;if("/"===this.url[0])throw"An absolute path as URL?";return creative.resourceUrl+this.url}if(this.blobHash)return(creative.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+"blobs/"+this.blobHash+"/"+encodeURIComponent(this.name);throw"Neither url nor blobHash set?"},File.prototype.getUrl=function(){var t=this.getOriginalUrl(),e=/\.png$/i.test(String(this.name)),i=/\.jpe?g$/i.test(String(this.name));return this.blobHash&&(e||i)&&(t+="?transform=crush"),t},File.prototype.getDataUri=function(t,e){t instanceof Function&&(e=t,t={});var i=this,r=this.getUrl();"undefined"!=typeof this.dataUri?defer(function(){e(i.dataUri)},0,"File.getDataUri defer callback, has dataUri"):creative.dataURIsEnabled||t.force?creative.batcher.getDataUri(r,e):defer(function(){e(r)},0,"File.getDataUri defer callback, url")},Object.defineProperty(File.prototype,"width",{get:function(){return this.retina?Math.round(this.meta.width/2):this.meta.width}}),Object.defineProperty(File.prototype,"height",{get:function(){return this.retina?Math.round(this.meta.height/2):this.meta.height}});;
function Font(){}inherit(Font,FontBase),Font.toString=function(){return"[Clazz Font]"},Font.prototype.toString=function(){return"[Font "+this.localId+"]"};;
</script><style id="celtra-video-player-style">.video-player-wrapper {
    position: absolute;
    width: 100%;
    height: 100%;
    background: #000;
    top: 0;
    left: 0;
    overflow: hidden;
}
.video-player-engine {
    position: absolute;
    width: 100%;
    height: 100%;
    min-height: 100%;
    top: 0;
    left: 0;
    margin: 0;
    padding: 0;
    overflow: hidden;
}
.video-player-engine video,
.video-player-engine .canvasContainer
{
    position: relative;
    width: 100%;
    height: 100%;
    min-height: 100%;
    background: #000;
    top: 0;
    left: 0;
}
.video-player-poster {
    position: absolute;
    background-color: #000000;
    background-size: contain;
    background-repeat: no-repeat no-repeat;
    background-position: center center;
}
.video-player-fitting-crop .video-player-poster {
    background-size: cover;
}
.video-player-engine canvas {
    position: relative;
    width: 100%;
    background: #000;
    top: 0;
    left: 0;
}
.video-player-engine canvas {
    image-rendering: optimizeSpeed;
    image-rendering: -moz-crisp-edges;
    -ms-interpolation-mode: nearest-neighbor;
    image-rendering: optimize-contrast;
    image-rendering: -webkit-pixelated;
    image-rendering: crisp-edges;
    image-rendering: -webkit-optimize-speed;
    image-rendering: -webkit-optimize-contrast;
}
.video-controls-container {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    font-size: 14px;
}
.video-controls-wrapper {
    position: absolute;
    width: 100%;
    height: 100%;
}
.video-controls-slider-container {
    position: absolute;
    width: 100%;
    height: 8px;
    bottom: -1px;
    left:0;
    background: #111;
}
.video-controls-progress-bar {
    opacity: 0.3;
}
.video-controls-progress-bar,
.video-controls-time-bar {
    position: absolute;
    width: 0;
    top: 0;
    left: 0;
    height: 100%;
}
@-webkit-keyframes video-player-spin{
    0%   { -webkit-transform: rotate(0deg); }
    100% { -webkit-transform: rotate(359deg); }
}
@-moz-keyframes video-player-spin{
    0%   { -moz-transform: rotate(0deg); }
    100% { -moz-transform: rotate(359deg); }
}
@keyframes video-player-spin{
    0%   { transform: rotate(0deg); }
    100% { transform: rotate(359deg); }
}
.video-player-spinner-big,
.video-player-spinner-small {
    display: block;
    position: absolute;
    top: 50%;
    left: 50%;
    -webkit-animation: video-player-spin 1.5s infinite linear;
    animation: video-player-spin 1.5s infinite linear;
}
.video-player-spinner-big {
    width: 35px;
    height: 35px;
    margin-top: -17px;
    margin-left: -17px;
    background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAQAAAC00HvSAAADTklEQVR4AZWVTWgcZRyHn/c/7zubbDbJJsTEioiIH7EGq6EIRqwWqbRClXrx4E0QxYt3b4qK9qgoePDmwRYVS6xFW7Ueeqj0kqIVQYwljTVt0o/dZD9n3r/zshGSGpOd54GZ0+9h/qcxbMh03PfK4LPl8cFy0SJsialxIyfHRz+6Y6pkDR0xXWQ8azlaGvt0fF9sMsiTsazh2933fzEyKICu2+bKfP/izg96IlDA6JXmhdPVY81T6Xk2wAuCz1zFTNOh+PKD71sRMIZqY3aa59iERYtktvDrMm735LGCNQaE38/O7WGRzRBCJljrhCyB0l2HXKSgxpw7zt4xNmcBZNUSlU4XGPl4aEhRVc595fd6tvKm8LAEY4qrR0V3T87YyGDMn2d4mC6ZL9JDmEm6gBcYPhiJqlJdnt8/T7dSQ0JEhQEQ4m2Ph4jq3GdDi0N0Lw21arHSL0jP84WCZlQqV1+6Sh5ZRoix9PiiLe1TBbj0w4gnJ4v1qBeQqN8W79HQYeU78tPAIqBFWxwNFbR1mvy0iMEY+qyNvRK4SH68cQAGiaz64MTCBHndkRhngr3SbnYyM6Mz5NYah81EWnXN8D66OSKvxBrjMpH6X+ozNd4Rk1dKxgW1KbVfskpGYapAXqNRXGakdal/o1kHX95VJq/RbcYFWZLGkVY1fE+hvPT6Enmc2y5lnIk0TS8LraXjeM0ceqY6UKVrrbsvRHD+gvViqbyTtvDex4PD7w3Tre4xUzYOhyS/JUiCP3/pkPd49eVH2m+36cbqLrcdR2Rs8qutWcRiqbxRm9c0HDZywLxp2MrGE/FDxoo1VivJTEKCmSYQPXDrJ+LIQppeO3n9NZb5P+LC0+5eEm2Tar12mCvr/lPxU9veNRIy6luXK0f4kA1I9hR2Sp9PSLJIo/4lsxAwR/kX++TYWyZWT6qZrb9rp9pnkj/8dSqUon5zi73TTUhJs4QGV+qfh8h/MmAmRg7GYyGiXpPMlLbP3rS1Y6oJLU3Upxebh1lYs/yataQ9pVcH9hsJqdVMmHYS7ZAm0Ubjx9YJEtZgprmRaKz3hb5HpTeESHyIZYFOIq00f2qe4BqBTTMdrJuKJ+3t0bAUsH7FV5KFZLb9c3oWzwb8AzjvQbz9lli3AAAAAElFTkSuQmCC");
}
.video-player-spinner-small {
    width: 18px;
    height: 18px;
    margin-top: -9px;
    margin-left: -9px;
    background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAQAAAD8x0bcAAABeElEQVR4AXXSv2sTYRjA8e89997lcuR60eJQUdpFQQoqdHRWhAoddPBPcHRwE8TZxcXJf0BEsIjuQUQQtZMOpREM9RKL1RrqJbkf771nEGnKJf1+hmd5eKaHSe/vtzf30k63Q9X/8XZte6f8V/QrokopILq9/CB0+nnUip/l7zioUJgxrBbu6rnnodvp9G6wwaG04AEJRvAWHjXcr+3tC3pDcxhmzGcOpH7rxOm9uHfN3repIkMkwJPguljfXwVbAdOaBm3V7VD8pVE2fDpkNhJcQqXqOi+2OKrxJRxVFkXB0Ql1tKS/QZaE2fAkQGS4KbZ3xWM2+xRzpDJYz5Pw6mBxwLQ/vlq2XLMj6ZP9T7VjzYfGN1Qo97IslD9NV8j6d0e7wUrzsSwKExyv3XTOl1n2AWO1AHdt/p4Kkm/xy/xN2cMwb591Lkqj+JGs0wbrNQCy0rjjnQHdN7EZkYOJs8/ZC7pwsASgVp1L6qRVK9NiV3/RHyc/8RftSMiO8WZLaAAAAABJRU5ErkJggg==");
}
.video-controls-hiddable {
    position: relative;
    width: 100%;
    height: 100%;
}
.video-controls-wrapper .center-button { 
    position: absolute;
    width: 4em;
    height: 4em;
    border-top-left-radius: 2em;
    border-top-right-radius: 2em;
    border-bottom-left-radius: 2em;
    border-bottom-right-radius: 2em;
    background: #111;
    margin: auto;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    text-align: center;
    cursor: pointer;
    opacity: 0.8;
    z-index: 1;
}
.center-button div {
    position: relative;
    width: 100%;
    color: white;
    font-size: 2em;
    top: 0.5em;
}
.center-button .celtra-icon-play { left: 0.1em;}
.center-button .celtra-icon-replay { top: 0.62em; left:0.05em}
.video-controls-wrapper .custom-button {
    position: absolute;
    height: 100%;
    width: 100%;
    top: 0;
    left: 0;
    cursor: pointer;
    opacity: 0.8;
}
.custom-button img {
    margin: auto;
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
}
.video-controls-button {
    position: absolute;
    cursor: pointer;
    font-size: 1.5em;
    color: white;
    width: 2.5em;
    height: 2.5em;
}
.video-controls-desktop .video-controls-button div {
    margin-top: -0.5em;
}
.ie-click-event {
    background-color: rgba(255,255,255,0);
}
.video-controls-button-shadow {
    text-shadow: 1px 1px 3px #000;
}
.video-controls-button-top-right {
    right: 0;
    top: 0;
}
.video-controls-desktop .video-controls-button-top-right {
    margin-right: 0.5em;
    margin-top: 0.5em;
    width: 1.5em;
    height: 1.5em;
}
.video-controls-button-bottom-right {
    right: 0;
    bottom: 0;
}
.video-controls-desktop .video-controls-button-bottom-right {
    margin-right: 0.5em;
    margin-bottom: 0.75em;
    width: 1.5em;
    height: 1.5em;
}
.video-controls-button div {
    position: absolute;
    height: 50%;
    width: 100%;
    left: 0;
    text-align: center;
    top:  50%;
    margin-top: -0.75em;
    vertical-align: middle;
}
.video-controls-button .celtra-icon-close {
    font-size: 0.7em;
    left: 0.07412em;
}
.video-controls-button .celtra-icon-enter-full-screen,
.video-controls-button .celtra-icon-exit-full-screen {
    left: 0.09em;
}
.video-controls-pending {
    animation: video-controls-pending 1s infinite linear;
}
@-webkit-keyframes video-controls-pending {
    0%   { opacity: 1 }
    50% { opacity: 0 }
    100%   { opacity: 1 }
}
@keyframes video-controls-pending {
    0%   { opacity: 1 }
    50% { opacity: 0 }
    100%   { opacity: 1 }
}
@font-face {
    font-family: "celtraicons";
    src:url("data:application/font-woff;base64,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"),
        url("data:font/truetype;base64,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");
    font-weight: normal;
    font-style: normal;
}
[class^="celtra-icon-"], [class*=" celtra-icon-"] {
    font-family: "celtraicons";
    speak: none;
    font-style: normal;
    font-weight: normal;
    font-variant: normal;
    text-transform: none;
    line-height: 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}
.celtra-icon-redo:before { content: "\e600"; }
.celtra-icon-close:before { content: "\e60d"; }
.celtra-icon-go-landscape:before { content: "\e603"; }
.celtra-icon-twitter:before { content: "\e605"; }
.celtra-icon-facebook:before { content: "\e606"; }
.celtra-icon-phone:before { content: "\e607"; }
.celtra-icon-play:before { content: "\e608"; }
.celtra-icon-pause:before { content: "\e609"; }
.celtra-icon-exit-full-screen:before { content: "\e60a"; }
.celtra-icon-enter-full-screen:before { content: "\e60b"; }
.celtra-icon-unmute:before { content: "\e60c"; }
.celtra-icon-mute:before { content: "\e601"; }
.celtra-icon-replay:before { content: "\e602"; }
.celtra-icon-close2:before { content: "\e604"; }
.spinner .center-button {
    display: none;
}
.web-audio .celtra-icon-mute, .web-audio .celtra-icon-unmute { color: red; }
</style></head><body style="padding: 0px; margin: 0px; border: none; width: 728px; height: 90px; min-height: 100%; min-width: 100%;"><img width="0" height="0" src="./bsevent.gif" style="display: none;"><iframe id="iframe_207671042260" name="iframe_207671042260" width="0" height="0" src="./t2tv7(1).html" style="display: none;"></iframe><img width="0" height="0" src="./bsevent(1).gif" style="display: none;"><img width="0" height="0" src="./bsevent(2).gif" style="display: none;"><img width="0" height="0" src="./bsevent(3).gif" style="display: none;"><img width="0" height="0" src="./bsevent(4).gif" style="display: none;"><img width="0" height="0" src="./bsevent(5).gif" style="display: none;"><img width="0" height="0" src="./bsevent(6).gif" style="display: none;"><img width="0" height="0" src="./bsevent(7).gif" style="display: none;"><script type="text/javascript" src="./verify.js"></script><iframe name="iframe_973084829205" width="0" height="0" id="bst2t_418869589107" src="./bst2tv3.html" style="display: none;"></iframe><iframe src="javascript:window.moatsrc" style="display: none;" src="./saved_resource(11).html"></iframe><script type="text/javascript" src="./dvvid_src_internal30.js"></script><script src="./dvvid_src.js"></script><iframe name="iframe_974919570159" width="0" height="0" id="iframe_974919570159" src="./saved_resource(12).html" data-dv-frm="974919570159" style="display: none;"></iframe><script src="./dvbs_src.js"></script><script type="text/javascript" src="./dvbs_src_internal23.js"></script><iframe src="javascript:window.moatsrc" style="display: none;" src="./saved_resource(13).html"></iframe><form id="form-67e8af042686420eb8f967120758f77a" style="visibility: hidden; position: absolute; display: none;"><input id="txt-67e8af042686420eb8f967120758f77a" name="txt-67e8af042686420eb8f967120758f77a" type="text" style="visibility: hidden; position: absolute; display: none;"><input id="btn-67e8af042686420eb8f967120758f77a" name="btn-67e8af042686420eb8f967120758f77a" type="button" style="visibility: hidden; position: absolute; display: none;"><input id="sbmt-67e8af042686420eb8f967120758f77a" name="sbmt-67e8af042686420eb8f967120758f77a" type="submit" style="visibility: hidden; position: absolute; display: none;"></form><a id="a-67e8af042686420eb8f967120758f77a" href="javascript:window.rhe(16,16);" style="visibility: hidden; position: absolute; display: none;"></a><a id="alu-67e8af042686420eb8f967120758f77a" href="http://ad.doubleclick.net/ddm/clk/291583327;106680815;k" style="visibility: hidden; position: absolute; display: none;"></a><script src="./vpaid.js"></script><div style="overflow: hidden; display: block; z-index: 2147483645; background: rgba(255, 255, 255, 0); width: 160px; height: 90px; position: absolute; left: 284px; right: auto; top: 0px; bottom: auto;"><div id="celtra-banner" class=" celtra-creative-unit celtra-base-creative-unit celtra-view" style="background-color: rgba(255, 255, 255, 0); overflow: hidden; position: absolute; width: 100%; height: 100%;"><div class="celtra-screen-container" style="position: absolute; width: 100%; height: 100%;"><div class="celtra-screen-holder" style="width: 100%; height: 100%;"><div id="celtra-object-2" class=" celtra-screen celtra-screen-object-container celtra-view" style="overflow: hidden; height: 100%; width: 100%; z-index: -1; display: block;"><div id="celtra-object-18" class=" celtra-master-video celtra-video celtra-screen-object celtra-view touchable" style="position: absolute; transform-origin: 50% 50% 0px; left: 0px; top: 0px; width: 160px; height: 90px; z-index: 1; opacity: 1; display: block; outline: transparent solid 1px;"><div class="video-player-wrapper" style="background: transparent;">    <div class="video-player-engine" style="width: 161px; height: 90px; min-height: 90px; left: -1px; top: 0px;"></div>    <div class="video-player-poster" style="background-image: url(&quot;https://cache-ssl.celtra.com/api/videoThumb/ab05546ce83c44f8a56cbfaba3b35125c6b7f0d7af9f527ba79b3124c75a70fa?transform=thumbnail&amp;width=728&amp;height=90&amp;position=50&quot;); width: 161px; height: 90px; min-height: 90px; left: -1px; top: 0px; display: none;"></div>    <div class="video-controls-container" style="width: 161px; height: 90px; min-height: 90px; left: -1px; top: 0px;"><div class="video-controls-wrapper video-controls-desktop touchable" data-bind="wrapper">  <div class="video-controls-hiddable" data-bind="duringPlaySet" style="display: none;">    <div class="video-controls-button video-controls-button-shadow video-controls-button-bottom-right touchable" data-bind="mute" style=""><div class="celtra-icon-mute"></div></div>    <div class="video-controls-button video-controls-button-shadow video-controls-button-bottom-right touchable" data-bind="unMute" style="display: none;"><div class="celtra-icon-unmute"></div></div>    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="close" style="display: none;"><div class="celtra-icon-close"></div></div>    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="enterFullScreen" style="display: none;"><div class="celtra-icon-enter-full-screen"></div></div>    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="exitFullScreen" style="display: none;"><div class="celtra-icon-exit-full-screen"></div></div>    <div class="video-controls-slider-container touchable" data-bind="sliderContainer" style="display: none;">        <div class="video-controls-progress-bar" data-bind="progressBar" style="background-color: rgb(69, 137, 206); width: 100.473%;"></div>        <div class="video-controls-time-bar" data-bind="timeBar" style="background-color: rgb(69, 137, 206); width: 41.8859%;"></div>    </div>  </div>  <div data-bind="outOfPlaySet">    <div class="video-sizable"><div class="video-player-spinner-big" data-bind="spinner" style="display: none;"></div></div>    <div class="center-button touchable" data-bind="pause" style="display: none;"><div class="celtra-icon-pause"></div></div>    <div class=" touchable custom-button" data-bind="play" style="display: none;"><img src="./1x1.png" data-bind="play" style="width: 1px; height: 1px;"></div>    <div class=" touchable custom-button" data-bind="replay" style="display: none;"><img src="./1x1.png" data-bind="replay" style="width: 1px; height: 1px;"></div>  </div></div></div></div></div><div id="celtra-object-351" class=" celtra-picture celtra-screen-object celtra-view" style="position: absolute; transform: translate(56px, -78px) rotate(0deg) scale(0.0726257, 0.0726257); transform-origin: 50% 50% 0px; left: 0px; top: 0px; width: 179px; height: 179px; z-index: 2; opacity: 1; display: block;"><div style="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; background-repeat: no-repeat; background-image: url(&quot;https://cache-ssl.celtra.com/api/blobs/53f9e5950077cf7009c939f6354887e7f1e0942fbd1481603450a3482365f60a/logo-min.png?transform=crush&quot;); background-position: center center; background-size: contain;"></div></div><div id="celtra-object-1247" class=" celtra-picture celtra-screen-object celtra-view" style="position: absolute; transform: translate(-93px, 34px) rotate(0deg) scale(0.127273, 0.127273); transform-origin: 50% 50% 0px; left: 0px; top: 0px; width: 220px; height: 94.2857px; z-index: 4; opacity: 1; display: block;"><div style="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; background-repeat: no-repeat; background-image: url(&quot;https://cache-ssl.celtra.com/api/blobs/2be94058f23a7c560dbded8d52a7ceddfe0a8245cea4a339b98036c04d7ada7a/logo-intel-min.png?transform=crush&quot;); background-position: center center; background-size: contain;"></div></div><div id="celtra-object-2452" class=" celtra-hotspot celtra-screen-object celtra-view touchable" style="position: absolute; transform-origin: 50% 50% 0px; left: -1px; top: -1px; width: 162px; height: 92px; z-index: 5; opacity: 1; display: block; outline: transparent solid 1px;"></div><div id="celtra-object-2400" class=" celtra-hotspot celtra-screen-object celtra-view touchable" style="position: absolute; transform-origin: 50% 50% 0px; left: -1px; top: -1px; width: 162px; height: 92px; z-index: 6; opacity: 1; display: block; outline: transparent solid 1px;"></div></div><div id="celtra-object-3" class=" celtra-screen celtra-screen-object-container celtra-view" style="overflow: hidden; height: 100%; width: 100%; display: none; opacity: 0;"><div id="celtra-object-34" class=" celtra-picture celtra-screen-object celtra-view" style="position: absolute; transform-origin: 50% 50% 0px; left: 133px; top: 5px; width: 22px; height: 22px; z-index: 10001; opacity: 0; display: block; outline: transparent solid 1px;"><div style="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; background-repeat: no-repeat; background-image: url(&quot;https://cache-ssl.celtra.com/api/blobs/53f9e5950077cf7009c939f6354887e7f1e0942fbd1481603450a3482365f60a/logo-min.png?transform=crush&quot;); background-position: center center; background-size: contain;"></div></div><div id="celtra-object-235" class=" celtra-picture celtra-screen-object celtra-view" style="position: absolute; transform: translate(-209px, -196px) rotate(0deg) scale(0.134, 0.134); transform-origin: 50% 50% 0px; left: 0px; top: 0px; width: 500px; height: 500px; z-index: 10006; opacity: 1; display: block;"><div style="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; background-repeat: no-repeat; background-image: url(&quot;https://cache-ssl.celtra.com/api/blobs/bd2d596e11a0d16300e737f3705b0e02c2e24e077086b9d55c10ca15b5d307c2/laptop-alien-min.png?transform=crush&quot;); background-position: center center; background-size: contain;"></div></div><div id="celtra-object-216" class=" celtra-picture celtra-screen-object celtra-view" style="position: absolute; transform: translate(-129px, -195px) rotate(0deg) scale(0.134, 0.134); transform-origin: 50% 50% 0px; left: 0px; top: 0px; width: 500px; height: 500px; z-index: 10005; opacity: 1; display: block;"><div style="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; background-repeat: no-repeat; background-image: url(&quot;https://cache-ssl.celtra.com/api/blobs/02e85aa8f10e6197edd360211cefbc4ed0e63f03d0aa3311c20089a883c04494/m7-min.png?transform=crush&quot;); background-position: center center; background-size: contain;"></div></div><div id="celtra-object-2973" class=" celtra-hotspot celtra-screen-object celtra-view touchable" style="position: absolute; transform-origin: 50% 50% 0px; left: -1px; top: -1px; width: 162px; height: 92px; z-index: 10007; opacity: 1; display: block; outline: transparent solid 1px;"></div><div id="celtra-object-2979" class=" celtra-hotspot celtra-screen-object celtra-view touchable" style="position: absolute; transform-origin: 50% 50% 0px; left: -1px; top: -1px; width: 162px; height: 92px; z-index: 10008; opacity: 1; display: block; outline: transparent solid 1px;"></div></div><div id="celtra-object-2" class=" celtra-screen celtra-screen-object-container celtra-view" style="overflow: hidden; height: 100%; width: 100%; display: none; z-index: -1;"><div id="celtra-object-18" class=" celtra-master-video celtra-video celtra-screen-object celtra-view touchable" style="position: absolute; transform-origin: 50% 50% 0px; left: 0px; top: 0px; width: 160px; height: 90px; z-index: 1; opacity: 1; display: block; outline: transparent solid 1px;"></div><div id="celtra-object-351" class=" celtra-picture celtra-screen-object celtra-view" style="position: absolute; transform: translate(62px, -78px) rotate(0deg) scale(0.0726257, 0.0726257); transform-origin: 50% 50% 0px; left: 0px; top: 0px; width: 179px; height: 179px; z-index: 2; opacity: 0; display: block;"><div style="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; background-repeat: no-repeat; background-image: url(&quot;https://cache-ssl.celtra.com/api/blobs/53f9e5950077cf7009c939f6354887e7f1e0942fbd1481603450a3482365f60a/logo-min.png?transform=crush&quot;); background-position: center center; background-size: contain;"></div></div><div id="celtra-object-1247" class=" celtra-picture celtra-screen-object celtra-view" style="position: absolute; transform: translate(-93px, 39px) rotate(0deg) scale(0.127273, 0.127273); transform-origin: 50% 50% 0px; left: 0px; top: 0px; width: 220px; height: 94.2857px; z-index: 4; opacity: 0; display: block;"><div style="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; background-repeat: no-repeat; background-image: url(&quot;https://cache-ssl.celtra.com/api/blobs/2be94058f23a7c560dbded8d52a7ceddfe0a8245cea4a339b98036c04d7ada7a/logo-intel-min.png?transform=crush&quot;); background-position: center center; background-size: contain;"></div></div><div id="celtra-object-2452" class=" celtra-hotspot celtra-screen-object celtra-view touchable" style="position: absolute; transform-origin: 50% 50% 0px; left: -1px; top: -1px; width: 162px; height: 92px; z-index: 5; opacity: 1; display: block; outline: transparent solid 1px;"></div><div id="celtra-object-2400" class=" celtra-hotspot celtra-screen-object celtra-view touchable" style="position: absolute; transform-origin: 50% 50% 0px; left: -1px; top: -1px; width: 162px; height: 92px; z-index: 6; opacity: 1; display: block; outline: transparent solid 1px;"></div></div><div id="celtra-object-1309" class=" celtra-screen celtra-screen-object-container celtra-view" style="overflow: hidden; height: 100%; width: 100%; display: block; opacity: 1;"><div id="celtra-object-1539" class=" celtra-picture celtra-screen-object celtra-view" style="position: absolute; transform-origin: 50% 50% 0px; left: 87px; top: 21px; width: 67px; height: 67px; z-index: 10003; opacity: 1; display: block; outline: transparent solid 1px;"><div style="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; background-repeat: no-repeat; background-image: url(&quot;https://cache-ssl.celtra.com/api/blobs/02e85aa8f10e6197edd360211cefbc4ed0e63f03d0aa3311c20089a883c04494/m7-min.png?transform=crush&quot;); background-position: center center; background-size: contain;"></div></div><div id="celtra-object-1540" class=" celtra-picture celtra-screen-object celtra-view" style="position: absolute; transform-origin: 50% 50% 0px; left: 7px; top: 20px; width: 67px; height: 67px; z-index: 10004; opacity: 1; display: block; outline: transparent solid 1px;"><div style="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; background-repeat: no-repeat; background-image: url(&quot;https://cache-ssl.celtra.com/api/blobs/bd2d596e11a0d16300e737f3705b0e02c2e24e077086b9d55c10ca15b5d307c2/laptop-alien-min.png?transform=crush&quot;); background-position: center center; background-size: contain;"></div></div><div id="celtra-object-2297" class=" celtra-picture celtra-screen-object celtra-view" style="position: absolute; transform: translate(-383px, 57px) rotate(0deg) scale(0.118644, 0.118644); transform-origin: 50% 50% 0px; left: 0px; top: 0px; width: 927.143px; height: 59px; z-index: 10005; opacity: 0; display: block; transition-property: all; transition-duration: 400ms; transition-timing-function: linear;"><div style="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; background-repeat: no-repeat; background-image: url(&quot;https://cache-ssl.celtra.com/api/blobs/60f763ff919d8e44ff2f84d53bc491ee9cc196717cb22284cf118ff265447035/h1-min.png?transform=crush&quot;); background-position: center center; background-size: contain;"></div></div><div id="celtra-object-2989" class=" celtra-hotspot celtra-screen-object celtra-view touchable" style="position: absolute; transform-origin: 50% 50% 0px; left: -1px; top: -1px; width: 162px; height: 92px; z-index: 10006; opacity: 1; display: block; outline: transparent solid 1px;"></div><div id="celtra-object-2995" class=" celtra-hotspot celtra-screen-object celtra-view touchable" style="position: absolute; transform-origin: 50% 50% 0px; left: -1px; top: -1px; width: 162px; height: 92px; z-index: 10007; opacity: 1; display: block; outline: transparent solid 1px;"></div></div></div></div></div></div><script type="text/javascript" src="./dvtp_src_internal75.js"></script><iframe id="iframe_71826441616" name="iframe_71826441616" width="0" height="0" src="./saved_resource(14).html" data-dv-frm="71826441616" style="display: none;"></iframe><script src="./dvtp_src(1).js" id="script_71826441616"></script><form id="form-82fd7f52928a4248b2bdccc76c609983" style="visibility: hidden; position: absolute; display: none;"><input id="txt-82fd7f52928a4248b2bdccc76c609983" name="txt-82fd7f52928a4248b2bdccc76c609983" type="text" style="visibility: hidden; position: absolute; display: none;"><input id="btn-82fd7f52928a4248b2bdccc76c609983" name="btn-82fd7f52928a4248b2bdccc76c609983" type="button" style="visibility: hidden; position: absolute; display: none;"><input id="sbmt-82fd7f52928a4248b2bdccc76c609983" name="sbmt-82fd7f52928a4248b2bdccc76c609983" type="submit" style="visibility: hidden; position: absolute; display: none;"></form><a id="a-82fd7f52928a4248b2bdccc76c609983" href="javascript:window.rhe(16,16);" style="visibility: hidden; position: absolute; display: none;"></a><a id="alu-82fd7f52928a4248b2bdccc76c609983" href="http://ad.doubleclick.net/ddm/clk/291583327;106680815;k" style="visibility: hidden; position: absolute; display: none;"></a></body></html>